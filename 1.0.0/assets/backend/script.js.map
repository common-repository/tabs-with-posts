{"version":3,"sources":["node_modules/browser-pack/_prelude.js","script.js","assets/src-backend/admin-blocks/twrpb-collapsible/twrpb-collapsible.ts","assets/src-backend/admin-blocks/twrpb-docs/twrpb-docs.ts","assets/src-backend/admin-blocks/twrpb-hidden/twrpb-hidden.ts","assets/src-backend/general-settings/twrpb-general-settings.ts","assets/src-backend/query-settings/twrpb-advanced-settings/twrpb-advanced-settings.ts","assets/src-backend/query-settings/twrpb-author-settings/twrpb-author-settings.ts","assets/src-backend/query-settings/twrpb-cat-settings/twrpb-cat-settings.ts","assets/src-backend/query-settings/twrpb-comments-settings/twrpb-comments-settings.ts","assets/src-backend/query-settings/twrpb-date-settings/twrpb-date-settings.ts","assets/src-backend/query-settings/twrpb-meta-setting/twrpb-meta-setting.ts","assets/src-backend/query-settings/twrpb-order-setting/twrpb-order-setting.ts","assets/src-backend/query-settings/twrpb-posts-settings/twrpb-posts-settings.ts","assets/src-backend/query-settings/twrpb-query-settings/twrpb-query-settings.ts","assets/src-backend/query-settings/twrpb-query-templates/twrpb-query-templates.ts","assets/src-backend/query-settings/twrpb-search-setting/twrpb-search-setting.ts","assets/src-backend/query-settings/twrpb-statuses-settings/twrpb-statuses-settings.ts","assets/src-backend/script.ts","assets/src-backend/widget-blocks/twrpb-color-picker.ts","assets/src-backend/widget-blocks/twrpb-meta-tooltip.ts","assets/src-backend/widget-blocks/twrpb-sync-widget-query-settings.ts","assets/src-backend/widget-blocks/twrpb-widget-components.ts","assets/src-backend/widget-blocks/twrpb-widget-form.ts","node_modules/@simonwep/pickr/dist/pickr.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","global","__importDefault","this","mod","__esModule","default","Object","defineProperty","value","jquery_1","window","each","element","activeTabIndex","attr","accordion","active","heightStyle","collapsible","icons","self","2","twrpb_hidden_1","document","on","spoilerWrapper","parent","find","toggleDisplay","../twrpb-hidden/twrpb-hidden","3","showLeft","hideLeft","hideUp","showUp","horizontalAnimationRunning","horizontalAnimationQueue","addQueueAnimation","functionName","args","queueItem","name","parameters","push","nextQueueAnimation","horizontalQueueItem","pop","apply","horizontalAnimationIsRunning","makeHorizontalRunning","slideUp","duration","complete","addHideClass","slideDown","removeHideClass","addClass","removeClass","css","hasClass","remove","completeFunction","removeElement","hide","effect","direction","hideFirst","show","4","showOrHideCustomDateFormat","humanReadableEnabledCheckbox","customDateWrapper","is","iconWrapperClassName","iconAndSvgElem","selectNames","updateIcon","selectName","selectElem","selectWrapper","iconId","String","val","insertBefore","_i","selectNames_1","documentOnClickSelector","selectNames_2","getDocumentOnClickSelector","iconsPreviewWrapperClassName","ratingIconAndSvgElem","ratingIconsSet","updateRatingIcons","dataHolderElement","toParse","JSON","parse","setRatingIconsData","selectedRatingPack","emptyIconId","empty","halfFilledIconId","half","filledIconId","full","prepend","iconsWrapperPreviewElement","appendTo","selectCommentIconSelector","selectDisabledCommentIconSelector","compatibleDisabledComments","autoSelectIconSwitchName","doDisabledCommentIconAutoSelect","setCommentsData","commentId","compatibleDisabledCommentIconId","trigger","enableOrDisableIconSelect","isEnableAutoSelect","enableIconSelector","firstTime","prop","parseInt","containerSelector","inputSelector","imgSelector","mediaWindow","preventDefault","button","input","closest","img","mediaArgs","undefined","wp","media","attachment","state","get","first","toJSON","id","url","open","defaultSrc","runningPrefix","failedPrefix","successPrefix","nonce","cleanText","text","replace","html","ajax","type","dataType","cache","data","action","ajaxurl","response","status","slideToggle","../admin-blocks/twrpb-hidden/twrpb-hidden","5","codeMirrorInstance","getElementById","CodeMirror","fromTextArea","mode","theme","indentUnit","indentWithTabs","lineNumbers","autoRefresh","applySettingSelector","settingWrapperSelector","hideOrShowSetting","warningSelector","showOrHideJSONInvalidWarning","textareaJSON","getValue","jsonString","isValidJSON","../../admin-blocks/twrpb-hidden/twrpb-hidden","6","authorTypeSelector","authorSearchWrap","authorToHideList","authorTypeVal","authorSearchInput","autocomplete","source","showSearchedUsers","minLength","request","sendToControl","allUsers","api","collections","Users","usersFound","updateCategories","name_1","models","attributes","error","label","fetch","_fields","search","term","once","console","authorsIdsInput","authorsVisualList","ariaLabelDataAttr","authorVisualItem","authorIdAttrName","addAuthor","authorExistInVisualList","newAuthorItem","clone","removeBtnAriaLabel","ariaLabel","getRemoveButtonAriaLabel","append","_addAuthorToVisualList","inputVal","Number","split","map","mapToInt","indexOf","authorExistInHiddenInput","previousVal","newVal","_addAuthorToHiddenInput","removeOrAddNoAuthorsText","autocompleteInstance","selectedItem","event","keyCode","which","itemToRemove","removeAttr","_removeAuthorFromVisualList","currentValue","authorsIds","indexOfId","splice","join","_removeAuthorFromHiddenInput","removeAuthor","noAuthorsText","updateAuthorsIdsFromVisualList","authorItems","itemId","sortable","placeholder","stop","7","categorySelector","categoriesInput","categoryIdAttrName","categoriesItemsWrapper","categoriesEmptyMessage","categoryItem","hideOrShowEmptyMessage","categoryId","sanitizeCategoryName","newValue","oldValue","categoryIdInsertedInInput","addCatToInput","items","sameIdFound","categoryItemIsDisplayed","toAppend","removeButtonAriaLabel","addCatToVisual","toRemove","removeCategoryFromDisplay","categoryIds","toRemoveCategoryIndex","removeCategoryFromInput","refreshInputtedCategories","categoryTypeSelect","categoryRelationWrapper","mainCategorySettings","hideOrShowCategorySettings","selectVal","setTimeout","trim","categoriesItems","categoriesIds","catId","8","selectCommentsComparator","numCommentsInput","hideOrShowCommentsNumberInput","9","after","before","createElement","notADateValue","setAttribute","options","dateFormat","changeMonth","changeYear","beforeShow","datepicker","selectDateType","lastPeriodWrapper","betweenPeriodWrapper","hideOrShowLastPeriodSettings","hideOrShowBetweenTimeSettings","numberOfDaysNoteSelector","hideOrShowUncheckedRadioNote","radioIsSelected","10","metaTypeSelector","metaValueSelector","showOrHideValueInput","metaTypeValue","settingIsAppliedSelector","hideOrShowMetaSetting","11","firstOrderGroup","secondOrderGroup","thirdOrderGroup","orderByClassName","orderGroups","hideOrShowUnnecessarySelectors","hideNext","hideOrShowSelectedValues","selectedVal","j","orderBySelect","nextSelectedVal","postIdOrderWarning","hideOrShowPostIdWarning","hideOrShowNoteOnSelect","commentsOrderWarning","hideOrShowCommentsWarning","showWarning","values","orderByVal","searchOrderNote","hideOrShowSearchNote","metaNote","hideOrShowMetaNote","postsInNote","hideOrShowPostInNote","viewsNote","hideOrShowViewsNote","$orderByValue","$note","12","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","y","g","_","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","postTypeSelect","postVisualList","searchingWrapper","includeNote","hideOrShowVisualList","postsTypeVal","postsSearchInput","showSearchedPosts","wpApiURL","fetchUrl","posts","postsToSend","_a","wpApiSettings","root","versionString","json","Array","decodeHtml","title","postsIdsInput","postIdAttrName","postVisualItem","addPost","postExistInVisualList","removeButtonLabel","_addPostToVisualList","postExistInHiddenInput","_addPostToHiddenInput","removeOrAddNoPostsText","_removePostFromVisualList","postsIds","_removePostFromHiddenInput","removePost","noPostsText","updatePostsIdsFromVisualList","postItems","filter","13","alertMessage","confirm","14","querySettingCollapsibleSelector","dataSettingName","selectTemplateSelector","dataConfirmMessage","collapsibleSelector","setQuerySettingToDefault","querySettingWrapper","settingBaseName","defaultSettings","keys","settingName","defaultSettingValue","fullSettingName","settingControl","setControlValue","control","setting","getControlType","triggerControlChange","index","el","setValue","isArray","allTemplatesOptions","selectTemplate","template","templateOptions","message","userConfirmedChanges","querySettingsWrappers","not","eq","resetAllQuerySettingsToDefault","_loop_1","settingValue","openControlCollapsible","15","searchInput","warningWrapper","hiderOrShowSearchWarning","searchStringLength","16","applySettingSelect","postStatuses","hideOrShowPostStatuses","17","./admin-blocks/twrpb-collapsible/twrpb-collapsible","./admin-blocks/twrpb-docs/twrpb-docs","./admin-blocks/twrpb-hidden/twrpb-hidden","./general-settings/twrpb-general-settings","./query-settings/twrpb-advanced-settings/twrpb-advanced-settings","./query-settings/twrpb-author-settings/twrpb-author-settings","./query-settings/twrpb-cat-settings/twrpb-cat-settings","./query-settings/twrpb-comments-settings/twrpb-comments-settings","./query-settings/twrpb-date-settings/twrpb-date-settings","./query-settings/twrpb-meta-setting/twrpb-meta-setting","./query-settings/twrpb-order-setting/twrpb-order-setting","./query-settings/twrpb-posts-settings/twrpb-posts-settings","./query-settings/twrpb-query-settings/twrpb-query-settings","./query-settings/twrpb-query-templates/twrpb-query-templates","./query-settings/twrpb-search-setting/twrpb-search-setting","./query-settings/twrpb-statuses-settings/twrpb-statuses-settings","./widget-blocks/twrpb-color-picker","./widget-blocks/twrpb-meta-tooltip","./widget-blocks/twrpb-sync-widget-query-settings","./widget-blocks/twrpb-widget-components","./widget-blocks/twrpb-widget-form","18","pickr_1","createPicker","colorPickers","translations","TwrpPickrTranslations","pickrContainer","pickr","create","container","appClass","i18n","swatches","defaultRepresentation","components","preview","opacity","hue","interaction","cancel","clear","save","color","toRGBA","toString","change","setColorRepresentation","@simonwep/pickr","19","20","widgetFormSelector","queryTabSettingsSelector","updateAllWidgetSyncClasses","syncSettingValue","widget","addSyncClassToWidget","removeSyncClassFromWidget","syncAllWidgetSettings","syncElement","addDocumentEvents","syncTheSetting","removeDocumentEvents","off","target","elementChanged","elementName","settingShouldBeSynched","allWidgetQueriesTabs","nameSuffixToSearch","allSimilarQuerySettings","settingControlsToTriggerChanges","triggerChanges","firstControl","includes","triggerNecessaryChanges","elementType","getElementChangedType","valueToChange","elementsChanged","currentElement","propValue","add","children","changeAllSettings","settingElement","filterSimilarQuerySettings","21","createWidgetTabs","animationDuration","jQueryElement","tabActive","settingInputs","componentsModified","tabs","beforeActivate","changeTabsAnimation","ui","oldTab","newTab","oldPanel","newPanel","oldTabId","newTabId","tabsWrapper","currentTarget","panelContents","oldPanelHeight","height","newPanelHeight","transition","makePanelsHeightAnimatable","makeTabsFade","makeTabsSlide","22","dataWidgetId","dataQueryId","dataArtblockId","queriesListSelector","queryAddSelector","querySpinnerSelector","queryFailedToAddSelector","queriesInputSelector","articleBlockSettingsContainerSelector","widgetWrapper","widgetId","queryId","addQueryToListIfDoNotExist","widgetIsAjaxLoadingQuery","widgetElement","ajaxNonce","queryExistInList","getWidgetWrapperById","addQueryButton","spinner","addQueryLoadingAnimation","method","widget_id","query_id","queriesList","updateQueriesInput","makeAllQueriesCollapsible","fail","always","removeQueryLoadingAnimation","updateAllWidgetsListOnLoad","getAllWidgets","queries","queryInput","isNonEmptyString","elem","Boolean","getQueriesInputValues","initializeAllQueriesSorting","update","getClosestWidgetId","getQueryItemById","queriesItems","query","getClosestQueryId","getArticleBlockSettings","artblockId","artblock_id","removeQueryFromList","artblockSettingsHTML","articleBlocksCache","artblockWrapper","addArticleBlockToCache","hasArticleBlockInCache","$artblockId","getArticleBlockFromCache","queryContainer","displayLoadingArtblock","removeLoadingArtblock","artblockContainer","detach","insertArticleBlock","23","l","m","d","enumerable","toStringTag","bind","prototype","hasOwnProperty","s","HTMLCollection","NodeList","from","capture","slice","arguments","innerHTML","firstElementChild","getAttribute","removeAttribute","path","composedPath","parentElement","Element","reduce","querySelector","shadowRoot","shiftKey","ctrlKey","deltaY","selectionStart","focus","setSelectionRange","dispatchEvent","Event","passive","min","h","max","floor","round","Math","b","isNaN","w","match","C","toFixed","[object Object]","padStart","toUpperCase","k","$","assign","lock","onchange","onstop","key","activeElement","wrapper","x","startsWith","_tapstop","_tapmove","cancelable","getBoundingClientRect","touches","clientX","clientY","left","width","top","style","offsetWidth","offsetHeight","_tapstart","_keyboard","S","className","elements","forEach","classList","stopPropagation","destroy","O","variantFlipOrder","start","middle","end","positionFlipOrder","right","bottom","position","margin","L","configurable","writable","init","changestop","swatchselect","DEFAULT_OPTIONS","sliders","lockOpacity","padding","palette","_preBuild","_buildComponents","_bindEvents","_finalBuild","addSwatch","app","_root","_nanopop","HTMLElement","reference","popper","documentElement","vs","vm","ve","hs","hm","he","E","_t","_setupAnimationFrame","requestAnimationFrame","setColor","_rePositioningPicker","_representation","showAlways","_initializingActive","_emit","useAsButton","inline","hex","rgba","hsla","hsva","cmyk","hidden","contains","appendChild","removeChild","nextSibling","parentNode","replaceChild","disabled","disable","comparison","lastColor","repeat","_color","_lastColor","picker","currentColor","_recalc","_updateOutput","background","toHEXA","_swatchColors","slider","backgroundColor","selectable","_components","_clearColor","setHSVA","toHSVA","applyColor","stopImmediatePropagation","closeWithKey","isOpen","some","adjustableNumbers","getColorRepresentation","toLowerCase","toPrecision","autoReposition","closeOnScroll","clearTimeout","_eventBindings","innerHeight","innerWidth","outputPrecision","getContext","fillStyle","hexa","test","exec","substring","A","I18N_DEFAULTS","_eventListener","_parseLocalColor","cancelAnimationFrame","click","ui:dialog","btn:toggle","btn:swatch","btn:last-color","btn:save","btn:cancel","btn:clear","aria:btn:save","aria:btn:cancel","aria:btn:clear","aria:input","aria:palette","aria:hue","aria:opacity","define","amd","Pickr"],"mappings":"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","file":"script.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",null,"import $ from 'jquery';\nimport 'jqueryui';\n\n$( enableCollapsibleSettings );\n\nfunction enableCollapsibleSettings() {\n\t$( '.twrpb-collapsible' ).each( function() {\n\t\tconst element = $( this );\n\t\tconst activeTabIndex = ( element.attr( 'data-twrpb-is-collapsed' ) === '1' ) ? 0 : false;\n\n\t\telement.accordion( {\n\t\t\tactive: activeTabIndex,\n\t\t\theightStyle: 'content',\n\t\t\tcollapsible: true,\n\t\t\ticons: false,\n\t\t} );\n\t} );\n}\n","import $ from 'jquery';\nimport { toggleDisplay } from '../twrpb-hidden/twrpb-hidden';\n\nconst showButtonSelector = '.twrpb-docs__icon-spoiler-btn';\n\n$( document ).on( 'click', showButtonSelector, hideOrShowIconsSpoiler );\n\nfunction hideOrShowIconsSpoiler() {\n\tconst spoilerWrapper = $( this ).parent( '.twrpb-docs__icon-spoiler-category' ).find( '.twrpb-docs__spoiler' );\n\ttoggleDisplay( spoilerWrapper );\n}\n","import $ from 'jquery';\nimport 'jqueryui';\n\n// #region -- Run hideLeft/ showLeft only one at time.\n\nlet horizontalAnimationRunning = false;\n\nconst horizontalAnimationQueue = [];\n\nfunction addQueueAnimation( functionName, args ) {\n\thorizontalAnimationRunning = true;\n\tconst queueItem = { name: functionName, parameters: args };\n\thorizontalAnimationQueue.push( queueItem );\n}\n\nfunction nextQueueAnimation() {\n\tif ( horizontalAnimationQueue.length ) {\n\t\tconst horizontalQueueItem = horizontalAnimationQueue.pop();\n\n\t\tif ( horizontalAnimationQueue.length === 0 ) {\n\t\t\thorizontalAnimationRunning = false;\n\t\t} else {\n\t\t\thorizontalAnimationRunning = true;\n\t\t}\n\n\t\tconst functionName = horizontalQueueItem.name;\n\t\tfunctionName.apply( null, horizontalQueueItem.parameters );\n\t}\n\n\tif ( horizontalAnimationQueue.length === 0 ) {\n\t\thorizontalAnimationRunning = false;\n\t} else {\n\t\thorizontalAnimationRunning = true;\n\t}\n}\n\nfunction horizontalAnimationIsRunning() {\n\treturn horizontalAnimationRunning;\n}\n\nfunction makeHorizontalRunning() {\n\thorizontalAnimationRunning = true;\n}\n\n// #endregion -- Run hideLeft/ showLeft only one at time.\n\nconst effectDuration = 500;\nconst effectDurationHorizontal = 300;\n\nfunction toggleDisplay( element: JQuery ): void {\n\tif ( element.hasClass( 'twrpb-hidden' ) ) {\n\t\tshowUp( element );\n\t} else {\n\t\thideUp( element );\n\t}\n}\n\n// #region -- Hide/Show Vertically\n\nfunction hideUp( element: JQuery ): void {\n\t$( element ).slideUp( {\n\t\tduration: effectDuration,\n\t\tcomplete() {\n\t\t\taddHideClass( element );\n\t\t},\n\t} );\n}\n\nfunction showUp( element: JQuery ): void {\n\t$( element ).slideDown( {\n\t\tduration: effectDuration,\n\t\tcomplete() {\n\t\t\tremoveHideClass( element );\n\t\t},\n\t} );\n}\n\n// #endregion -- Hide/Show Vertically\n\n// =============================================================================\n\n/**\n * Hide a HTML element with a blind effect from the left.\n *\n * @param {HTMLElement} element A jquery element.\n * @param {'remove'} remove Add 'remove' to remove the element from the DOM.\n */\nfunction hideLeft( element: JQuery, remove: string = '' ): void {\n\t// If something is being hidden/revealed, then wait for it to finish.\n\tif ( horizontalAnimationIsRunning() ) {\n\t\taddQueueAnimation( hideLeft, [ element, remove ] );\n\t\treturn;\n\t}\n\tmakeHorizontalRunning();\n\n\tlet completeFunction = function() {\n\t\taddHideClass( element );\n\t\tnextQueueAnimation();\n\t};\n\tif ( remove === 'remove' ) {\n\t\tcompleteFunction = function() {\n\t\t\tremoveElement( element );\n\t\t\tnextQueueAnimation();\n\t\t};\n\t}\n\n\t$( element ).hide( {\n\t\teffect: 'blind',\n\t\tduration: effectDurationHorizontal,\n\t\tdirection: 'left',\n\t\tcomplete: completeFunction,\n\t} );\n}\n\n/**\n * Show a HTML element with a blind effect from the left.\n *\n * @param {HTMLElement} element A jquery element.\n * @param {'hide_first'} hideFirst Add 'hide_first' to first hide then show, if the\n * element already exists.\n */\nfunction showLeft( element: JQuery, hideFirst: string = '' ): void {\n\t// If something is being hidden/revealed, then wait for it to finish.\n\tif ( horizontalAnimationIsRunning() ) {\n\t\taddQueueAnimation( showLeft, [ element, hideFirst ] );\n\t\treturn;\n\t}\n\tmakeHorizontalRunning();\n\n\tif ( hideFirst === 'hide_first' ) {\n\t\telement.addClass( 'twrpb-hidden' );\n\t}\n\n\t$( element ).show( {\n\t\teffect: 'blind',\n\t\tduration: effectDurationHorizontal,\n\t\tdirection: 'left',\n\t\tcomplete() {\n\t\t\tremoveHideClass( element );\n\t\t\tnextQueueAnimation();\n\t\t},\n\t} );\n}\n\n// =============================================================================\n\nfunction addHideClass( element: JQuery ): void {\n\t$( element ).addClass( 'twrpb-hidden' );\n}\n\nfunction removeHideClass( element: JQuery ): void {\n\t$( element ).removeClass( 'twrpb-hidden' ).css( 'display', '' );\n}\n\nfunction removeElement( element: JQuery ): void {\n\t$( element ).remove();\n}\n\n// =============================================================================\n\nexport {\n\ttoggleDisplay,\n\tshowUp,\n\thideUp,\n\thideLeft,\n\tshowLeft,\n};\n","import $ from 'jquery';\nimport { showUp, hideUp } from '../admin-blocks/twrpb-hidden/twrpb-hidden';\n\ndeclare const wp: any;\ndeclare const ajaxurl: any;\n\n// #region -- Hide or show custom date format depending on human readable date format.\n\nconst humanReadableEnabledCheckboxSelector = '#twrpb-general-settings__human_readable_date-setting-true';\nconst customDateWrapperSelector = '#twrpb-general-settings__date_format-wrapper';\n\nfunction showOrHideCustomDateFormat() {\n\tconst humanReadableEnabledCheckbox = $( humanReadableEnabledCheckboxSelector );\n\tconst customDateWrapper = $( customDateWrapperSelector );\n\n\tif ( humanReadableEnabledCheckbox.is( ':checked' ) ) {\n\t\thideUp( customDateWrapper );\n\t} else {\n\t\tshowUp( customDateWrapper );\n\t}\n}\n\n$( showOrHideCustomDateFormat );\n$( document ).on( 'click', showOrHideCustomDateFormat );\n\n// #endregion -- Hide or show custom date format depending on human readable date format.\n\n// #region -- Add an Icon preview on the right.\n\nconst iconWrapperClassName = 'twrpb-general-settings__icon-preview';\nconst iconAndSvgElem = '<span class=\"' + iconWrapperClassName + '\"><svg><use/></svg></span>';\nconst selectNames = [ 'author_icon', 'date_icon', 'category_icon', 'comments_icon', 'comments_disabled_icon', 'views_icon' ];\n\n$( updateAllIcons );\n$( document ).on( 'change', getDocumentOnClickSelector(), onChangeHandler );\n\n/**\n * Handler for the selection of the icon. Update the preview of changed icon.\n */\nfunction onChangeHandler( this: JQuery ) {\n\tconst selectName = String( $( this ).attr( 'name' ) );\n\n\tif ( ! selectName ) {\n\t\treturn;\n\t}\n\n\tupdateIcon( selectName );\n}\n\n/**\n * Update all icons on all selectors.\n */\nfunction updateAllIcons() {\n\tfor ( const selectName of selectNames ) {\n\t\tupdateIcon( selectName );\n\t}\n}\n\n/**\n * Given a selector name, update the icon corresponding to it.\n */\nfunction updateIcon( selectName: string ): void {\n\tconst selectElem = $( 'select[name=\"' + selectName + '\"' );\n\n\tif ( selectElem.length === 0 ) {\n\t\treturn;\n\t}\n\n\tconst selectWrapper = selectElem.parent();\n\tconst iconId = String( selectElem.val() );\n\n\tselectWrapper.find( '.' + iconWrapperClassName ).remove();\n\t$( iconAndSvgElem ).insertBefore( selectElem );\n\tselectWrapper.find( 'use' ).attr( 'href', '#' + iconId );\n}\n\n/**\n * Get the jQuery selector to attach the event to the document.\n */\nfunction getDocumentOnClickSelector(): string {\n\tlet documentOnClickSelector = '';\n\n\tfor ( const selectName of selectNames ) {\n\t\tif ( documentOnClickSelector ) {\n\t\t\tdocumentOnClickSelector = documentOnClickSelector + ', ';\n\t\t}\n\t\tdocumentOnClickSelector = documentOnClickSelector + 'select[name=\"' + selectName + '\"]';\n\t}\n\n\treturn documentOnClickSelector;\n}\n\n// #endregion -- Add an Icon preview on the right.\n\n// #region -- Add icons preview on the right for rating packs.\n\nconst ratingIconsDataSetElementId = 'twrpb-general-settings__rating_pack_icons-wrapper';\nconst dataHolderName = 'data-twrpb-rating-packs';\nconst selectRatingName = 'rating_pack_icons';\n\nconst iconsPreviewWrapperClassName = 'twrpb-general-select__rating_icons_preview';\nconst iconsPreviewWrapper = '<span class=\"' + iconsPreviewWrapperClassName + '\"></span>';\nconst ratingIconAndSvgElem = iconAndSvgElem;\nlet ratingIconsSet = null;\n\n$( updateRatingIcons );\n$( document ).on( 'change', 'select[name=\"' + selectRatingName + '\"]', updateRatingIcons );\n\nfunction setRatingIconsData() {\n\tconst dataHolderElement = $( '#' + ratingIconsDataSetElementId );\n\tif ( dataHolderElement.length === 0 ) {\n\t\treturn;\n\t}\n\n\tconst toParse = dataHolderElement.attr( dataHolderName );\n\n\tif ( ( typeof toParse ) !== 'string' ) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tratingIconsSet = JSON.parse( toParse );\n\t} catch ( e ) {\n\t\t// Do nothing.\n\t}\n}\n\nfunction updateRatingIcons() {\n\tif ( null === ratingIconsSet ) {\n\t\tsetRatingIconsData();\n\t}\n\n\tconst selectElem = $( 'select[name=\"' + selectRatingName + '\"]' );\n\n\tif ( selectElem.length === 0 ) {\n\t\treturn;\n\t}\n\n\tconst selectWrapper = selectElem.parent();\n\tconst selectedRatingPack = String( selectElem.val() );\n\n\t// Check if all property exists before accessing them.\n\tif ( ! ( selectedRatingPack in ratingIconsSet ) ||\n\t\t! ( 'empty' in ratingIconsSet[ selectedRatingPack ] ) ||\n\t\t! ( 'half' in ratingIconsSet[ selectedRatingPack ] ) ||\n\t\t! ( 'full' in ratingIconsSet[ selectedRatingPack ] )\n\t) {\n\t\treturn;\n\t}\n\n\tconst emptyIconId = ratingIconsSet[ selectedRatingPack ].empty;\n\tconst halfFilledIconId = ratingIconsSet[ selectedRatingPack ].half;\n\tconst filledIconId = ratingIconsSet[ selectedRatingPack ].full;\n\n\tselectWrapper.find( '.' + iconsPreviewWrapperClassName ).remove();\n\tselectWrapper.prepend( iconsPreviewWrapper );\n\n\tconst iconsWrapperPreviewElement = selectWrapper.find( '.' + iconsPreviewWrapperClassName );\n\t$( ratingIconAndSvgElem ).appendTo( iconsWrapperPreviewElement ).find( 'use' ).attr( 'href', '#' + filledIconId );\n\t$( ratingIconAndSvgElem ).appendTo( iconsWrapperPreviewElement ).find( 'use' ).attr( 'href', '#' + halfFilledIconId );\n\t$( ratingIconAndSvgElem ).appendTo( iconsWrapperPreviewElement ).find( 'use' ).attr( 'href', '#' + emptyIconId );\n}\n\n// #endregion -- Add icons preview on the right for rating packs.\n\n// #region -- Auto-Choose the compatible disabled icon.\n\nconst selectCommentIconSelector = '#twrpb-general-settings__comments_icon-setting';\nconst selectDisabledCommentIconSelector = '#twrpb-general-settings__comments_disabled_icon-setting';\n\nconst dataHolderElementSelector = '#twrpb-general-settings__comments_disabled_icon-wrapper';\nconst dataHolderAttrName = 'data-twrpb-related-comment-icons';\nlet compatibleDisabledComments = null;\n\nconst autoSelectIconSwitchName = 'comments_disabled_icon_auto_select';\n\n$( enableOrDisableIconSelect );\n$( document ).on( 'change', selectCommentIconSelector, onChangeAutoSelectHandler );\n$( document ).on( 'change', 'input[name=\"' + autoSelectIconSwitchName + '\"]', enableOrDisableIconSelect );\n$( document ).on( 'submit', onSubmitSendDisable );\n\nfunction setCommentsData() {\n\tconst dataHolderElement = $( dataHolderElementSelector );\n\tif ( dataHolderElement.length === 0 ) {\n\t\treturn;\n\t}\n\n\tconst toParse = dataHolderElement.attr( dataHolderAttrName );\n\n\tif ( ( typeof toParse ) !== 'string' ) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tcompatibleDisabledComments = JSON.parse( toParse );\n\t} catch ( e ) {\n\t\t// Do nothing.\n\t}\n}\n\nfunction onChangeAutoSelectHandler() {\n\tif ( isEnableAutoSelect() ) {\n\t\tdoDisabledCommentIconAutoSelect();\n\t}\n}\n\nfunction doDisabledCommentIconAutoSelect() {\n\tif ( compatibleDisabledComments === null ) {\n\t\tsetCommentsData();\n\t}\n\tif ( compatibleDisabledComments === null ) {\n\t\treturn;\n\t}\n\n\tconst commentId = String( $( selectCommentIconSelector ).val() );\n\n\tif ( ! compatibleDisabledComments[ commentId ] ) {\n\t\treturn;\n\t}\n\n\tconst compatibleDisabledCommentIconId = String( compatibleDisabledComments[ commentId ] );\n\n\t$( selectDisabledCommentIconSelector ).val( compatibleDisabledCommentIconId ).trigger( 'change' );\n}\n\nlet firstTime = true;\nfunction enableOrDisableIconSelect() {\n\tif ( isEnableAutoSelect() ) {\n\t\tdisableIconSelector();\n\t\tif ( ! firstTime ) {\n\t\t\tdoDisabledCommentIconAutoSelect();\n\t\t}\n\t\tfirstTime = false;\n\t} else {\n\t\tenableIconSelector();\n\t}\n}\n\nfunction isEnableAutoSelect(): boolean {\n\tconst val = String( $( 'input[name=\"' + autoSelectIconSwitchName + '\"]:checked' ).val() );\n\tif ( parseInt( val ) === 1 || val === 'true' ) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction disableIconSelector() {\n\t$( selectDisabledCommentIconSelector ).prop( 'disabled', true );\n}\n\nfunction enableIconSelector() {\n\t$( selectDisabledCommentIconSelector ).prop( 'disabled', false );\n}\n\nfunction onSubmitSendDisable() {\n\tenableIconSelector();\n}\n\n// #endregion -- Auto-Choose the compatible disabled icon.\n\n// #region -- Show WP Media selector.\n\nconst containerSelector = '.twrpb-general-image';\nconst buttonSelector = '.twrpb-general-image__btn';\nconst clearBtnSelector = '.twrpb-general-image__clear-btn';\nconst inputSelector = '.twrpb-general-image__img-src';\nconst imgSelector = '.twrpb-general-image__img-preview';\nconst defaultSrcAttrName = 'data-twrpb-default-image';\nconst mediaArgsAttrName = 'data-twrpb-media-args';\n\n$( addButtonEvent );\n\nfunction addButtonEvent() {\n\t$( buttonSelector ).on( 'click', function( e ) {\n\t\te.preventDefault();\n\t\tlet mediaWindow: any;\n\t\tconst button = $( this );\n\t\tconst input = button.closest( containerSelector ).find( inputSelector );\n\t\tconst img = button.closest( containerSelector ).find( imgSelector );\n\t\tlet mediaArgs = input.attr( mediaArgsAttrName );\n\t\tmediaArgs = JSON.parse( mediaArgs );\n\n\t\tif ( mediaWindow === undefined ) {\n\t\t\tmediaWindow = wp.media( mediaArgs );\n\n\t\t\tmediaWindow.on( 'select', () => {\n\t\t\t\tconst attachment = mediaWindow.state().get( 'selection' ).first().toJSON();\n\t\t\t\tinput.val( attachment.id );\n\t\t\t\timg.attr( 'src', attachment.url );\n\t\t\t} );\n\t\t}\n\n\t\tmediaWindow.open( button );\n\n\t\treturn false;\n\t} );\n\n\t$( clearBtnSelector ).on( 'click', function( e ) {\n\t\te.preventDefault();\n\t\tconst button = $( this );\n\t\tconst input = button.closest( containerSelector ).find( inputSelector );\n\t\tconst img = button.closest( containerSelector ).find( imgSelector );\n\t\tconst defaultSrc = input.attr( defaultSrcAttrName );\n\t\timg.attr( 'src', defaultSrc );\n\t\tinput.val( '' );\n\t} );\n}\n\n// #endregion -- Show WP Media selector.\n\n// #region -- Cache rebuild handler.\n\n$( document ).on( 'click', '#twrpb-refresh-cache-button', handleRefreshCache );\n\nfunction handleRefreshCache( e ) {\n\te.preventDefault();\n\tconst button = $( this );\n\tconst runningPrefix = ' (' + button.attr( 'data-twrpb-refresh-cache-waiting' ) + ')';\n\tconst failedPrefix = ' (' + button.attr( 'data-twrpb-refresh-cache-failed' ) + ')';\n\tconst successPrefix = ' (' + button.attr( 'data-twrpb-refresh-cache-success' ) + ')';\n\n\tconst nonce = button.attr( 'data-twrpb-refresh-cache-nonce' );\n\tconst text = button.text();\n\tconst cleanText = text.replace( runningPrefix, '' ).replace( failedPrefix, '' ).replace( successPrefix, '' );\n\n\tbutton.html( cleanText + runningPrefix );\n\n\t$.ajax( {\n\t\ttype: 'post',\n\t\tdataType: 'json',\n\t\tcache: false,\n\t\tdata: {\n\t\t\taction: 'twrp_refresh_widget_cache',\n\t\t\tnonce,\n\t\t},\n\t\turl: ajaxurl,\n\t\tcomplete( response ) {\n\t\t\tif ( response.status === 200 ) {\n\t\t\t\tbutton.html( cleanText + successPrefix );\n\t\t\t} else {\n\t\t\t\tbutton.html( cleanText + failedPrefix );\n\t\t\t}\n\t\t},\n\t} );\n}\n\n// #endregion -- Cache rebuild handler.\n\n// #region -- Show/Hide Translations.\n\nconst btnHideTranslationsSelector = '#twrpb-general-settings__translations-show-btn';\nconst translationContainer = '#twrpb-general-settings__translations-hidden';\n\n$( document ).on( 'click', btnHideTranslationsSelector, translationBtnHandler );\n\nfunction translationBtnHandler( e ) {\n\te.preventDefault();\n\t$( translationContainer ).slideToggle();\n}\n\n// #region -- Show/Hide Translations.\n","import $ from 'jquery';\nimport { hideUp, showUp } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\ndeclare let wp: any;\nlet codeMirrorInstance = null;\n\n$( enableCodeMirror );\n\nfunction enableCodeMirror(): void {\n\tconst element = document.getElementById( 'twrpb-advanced-settings__textarea' );\n\n\tif ( element ) {\n\t\tcodeMirrorInstance = wp.CodeMirror.fromTextArea( element, {\n\t\t\tmode: 'application/json',\n\t\t\ttheme: 'material-darker',\n\t\t\tindentUnit: 4,\n\t\t\tindentWithTabs: true,\n\t\t\tlineNumbers: true,\n\t\t\tautoRefresh: true,\n\t\t} );\n\t}\n}\n\n// #region -- Show/Hide Editor\n\nconst applySettingSelector = '#twrpb-advanced-settings__is-applied-selector';\nconst settingWrapperSelector = '#twrpb-advanced-settings__textarea-wrapper';\n\n$( hideOrShowSetting );\n$( document ).on( 'change', applySettingSelector, hideOrShowSetting );\n\nfunction hideOrShowSetting() {\n\tconst settingIsAppliedVal = String( $( applySettingSelector ).val() );\n\n\tif ( settingIsAppliedVal === 'not_apply' ) {\n\t\thideUp( $( settingWrapperSelector ) );\n\t} else {\n\t\tshowUp( $( settingWrapperSelector ) );\n\t}\n}\n\n// #endregion -- Show/Hide Editor\n\n// #region -- Invalid JSON\n\nconst textareaWrapperSelector = '#twrpb-advanced-settings__textarea-wrapper';\nconst warningSelector = '#twrpb-setting-note__invalid_json_warning';\n\n$( showOrHideJSONInvalidWarning );\n$( document ).on( 'change keyup paste', textareaWrapperSelector, showOrHideJSONInvalidWarning );\n\nfunction showOrHideJSONInvalidWarning() {\n\tif ( codeMirrorInstance === null ) {\n\t\treturn;\n\t}\n\n\tconst textareaJSON = codeMirrorInstance.getValue();\n\n\tif ( isValidJSON( textareaJSON ) || '' === textareaJSON ) {\n\t\thideUp( $( warningSelector ) );\n\t} else {\n\t\tshowUp( $( warningSelector ) );\n\t}\n}\n\nfunction isValidJSON( jsonString ) {\n\ttry {\n\t\tconst o = JSON.parse( jsonString );\n\n\t\t// Handle non-exception-throwing cases:\n\t\t// Neither JSON.parse(false) or JSON.parse(1234) throw errors, hence the type-checking,\n\t\t// but... JSON.parse(null) returns null, and typeof null === \"object\",\n\t\t// so we must check for that, too. Thankfully, null is false, so this suffices:\n\t\tif ( o && typeof o === 'object' ) {\n\t\t\treturn true;\n\t\t}\n\t} catch ( e ) { }\n\n\treturn false;\n}\n\n// #endregion -- Invalid JSON\n","import $ from 'jquery';\nimport 'jqueryui';\nimport { showUp, hideUp, hideLeft, showLeft } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\ndeclare const wp: any;\n\n// #region -- Hide/Show Author List and Add Button based on option selected.\n\nconst authorTypeSelector = $( '#twrpb-author-settings__select_type' );\n\nconst authorSearchWrap = $( '#twrpb-author-settings__author-search-wrap' );\nconst authorToHideList = $( '#twrpb-author-settings__js-authors-list' );\n\n// $( hideOrShowVisualList );\n$( document ).on( 'change', '#twrpb-author-settings__select_type', hideOrShowVisualList );\n\n/**\n * Hide or show the visual list and the form input to search for users.\n */\nfunction hideOrShowVisualList() {\n\tconst authorTypeVal = authorTypeSelector.val();\n\n\tif ( 'IN' === authorTypeVal || 'OUT' === authorTypeVal ) {\n\t\tshowUp( authorSearchWrap );\n\t\tshowUp( authorToHideList );\n\t} else {\n\t\thideUp( authorSearchWrap );\n\t\thideUp( authorToHideList );\n\t}\n}\n\n// #endregion -- Hide/Show Author List and Add Button based on option selected.\n\n// #region -- Manage Author Search\n\n$( initializeAutoComplete );\n\n/**\n * The search input where administrators will search for users.\n */\nconst authorSearchInput = $( '#twrpb-author-settings__js-author-search' );\n\n/**\n * Initialize the search input, when a user enter some characters, it will\n * automatically search and display the options.\n */\nfunction initializeAutoComplete() {\n\tif ( authorSearchInput.length === 0 ) {\n\t\treturn;\n\t}\n\n\tauthorSearchInput.autocomplete( {\n\t\tsource: showSearchedUsers,\n\t\tminLength: 2,\n\t} ).autocomplete( 'widget' ).addClass( 'twrpb-jqueryui-autocomplete-menu' );\n}\n\n/**\n * Search for the users and append the results into the autocomplete selector.\n */\nfunction showSearchedUsers( request: any, sendToControl: CallableFunction ): void {\n\tconst allUsers = new wp.api.collections.Users();\n\tconst usersFound: Array<Object> = [];\n\n\tallUsers.fetch( {\n\t\tdata: {\n\t\t\t_fields: 'id,name',\n\t\t\tsearch: request.term,\n\t\t},\n\t} );\n\n\tallUsers.once( 'sync', updateCategories );\n\n\tfunction updateCategories() {\n\t\tfor ( let i = 0; i < allUsers.length; i++ ) {\n\t\t\tlet name, id;\n\t\t\ttry {\n\t\t\t\tname = decodeHtml( allUsers.models[ i ].attributes.name );\n\t\t\t\tid = allUsers.models[ i ].attributes.id;\n\t\t\t} catch ( error ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tusersFound.push( {\n\t\t\t\tvalue: name,\n\t\t\t\tlabel: name,\n\t\t\t\tid,\n\t\t\t} );\n\t\t}\n\t\tsendToControl( usersFound );\n\t}\n\n\tallUsers.once( 'error', function() {\n\t\tconsole.error( 'TWRP Backbone error when getting users.' ); // eslint-disable-line\n\t\tupdateCategories();\n\t} );\n\n\tallUsers.once( 'invalid', function() {\n\t\tconsole.error( 'TWRP Backbone invalid when getting users.' ); // eslint-disable-line\n\t\tupdateCategories();\n\t} );\n}\n\n// #endregion -- Manage Author Search\n\n// #region -- Add an author\n\nconst authorsIdsInput = $( '#twrpb-author-settings__js-author-ids' );\n\nconst authorsVisualList = $( '#twrpb-author-settings__js-authors-list' );\n\n/**\n * Attribute on authorsVisualList that holds the aria label for the remove button.\n */\nconst ariaLabelDataAttr = 'data-twrpb-aria-remove-label';\n\n/**\n * The template for an author item, to be appended to the visual list. Note that\n * we have a similar template in the PHP file, so a change here will require\n * also a change there, and vice-versa.\n */\nconst authorVisualItem = $(\n\t'<div class=\"twrpb-display-list__item twrpb-author-settings__author-item\">' +\n\t\t'<div class=\"twrpb-author-settings__author-item-name\"></div>' +\n\t\t'<button class=\"twrpb-display-list__item-remove-btn twrpb-author-settings__js-author-remove-btn\" type=\"button\">' +\n\t\t\t'<span class=\"dashicons dashicons-no\"></span>' +\n\t\t'</button>' +\n\t'</div>'\n);\n\n/**\n * The author attribute name that hold the Id of a visual item.\n */\nconst authorIdAttrName = 'data-author-id';\n\n$( document ).on( 'click', '#twrpb-author-settings__js-author-add-btn', handleAddAuthorClick );\n$( document ).on( 'keypress', '#twrpb-author-settings__js-author-search', handleSearchInputKeypress );\n\n/**\n * When a user click \"enter\", add the current selected author to the list.\n */\nfunction handleSearchInputKeypress( event: JQueryEventObject ): void {\n\tconst keycode = ( event.keyCode ? event.keyCode : event.which );\n\tif ( keycode !== 13 ) {\n\t\treturn;\n\t}\n\n\tevent.preventDefault();\n\tconst autocompleteInstance: any = authorSearchInput.autocomplete( 'instance' );\n\n\tlet id: string, name: string;\n\ttry {\n\t\tconst selectedItem = autocompleteInstance.selectedItem;\n\t\tid = selectedItem.id;\n\t\tname = selectedItem.label;\n\t} catch ( error ) {\n\t\treturn;\n\t}\n\n\taddAuthor( id, name );\n}\n\n/**\n * Handles the click on \"Add author\" button.\n */\nfunction handleAddAuthorClick(): void {\n\tconst autocompleteInstance: any = authorSearchInput.autocomplete( 'instance' );\n\n\tlet id: string, name: string;\n\ttry {\n\t\tconst selectedItem = autocompleteInstance.selectedItem;\n\t\tid = selectedItem.id;\n\t\tname = selectedItem.label;\n\t} catch ( error ) {\n\t\treturn;\n\t}\n\n\taddAuthor( id, name );\n}\n\n/**\n * Add an author to the list of selected authors(both visual, and in the hidden\n * input).\n */\nfunction addAuthor( id:number|string, name: string ): void {\n\t_addAuthorToVisualList( id, name );\n\t_addAuthorToHiddenInput( id );\n\tremoveOrAddNoAuthorsText();\n}\n\n/**\n * Add an author to the visual list.\n */\nfunction _addAuthorToVisualList( id: number|string, name: string ): void {\n\tif ( authorExistInVisualList( id ) ) {\n\t\treturn;\n\t}\n\n\tconst newAuthorItem = authorVisualItem.clone();\n\tconst removeBtnAriaLabel = getRemoveButtonAriaLabel().replace( '%s', sanitizeAuthorName( name ) );\n\tnewAuthorItem.find( '.twrpb-author-settings__author-item-name' ).text( sanitizeAuthorName( name ) );\n\tnewAuthorItem.find( '.twrpb-display-list__item-remove-btn' ).attr( 'aria-label', removeBtnAriaLabel );\n\tnewAuthorItem.attr( authorIdAttrName, id );\n\tauthorsVisualList.append( newAuthorItem );\n\tshowLeft( newAuthorItem, 'hide_first' );\n}\n\n/**\n * Add an author to the list of hidden input.\n */\nfunction _addAuthorToHiddenInput( id: number|string ): void {\n\tif ( authorExistInHiddenInput( id ) ) {\n\t\treturn;\n\t}\n\tid = String( id );\n\tconst previousVal = authorsIdsInput.val();\n\n\tlet newVal = '';\n\tif ( previousVal ) {\n\t\tnewVal = previousVal + ';' + id;\n\t} else {\n\t\tnewVal = id;\n\t}\n\n\tauthorsIdsInput.val( newVal );\n}\n\n// #endregion -- Add an author\n\n// #region -- Remove an author\n\n$( document ).on( 'click', '.twrpb-author-settings__js-author-remove-btn', handleRemoveAuthor );\n\n/**\n * Handle the removing of the authors from the selected list.\n */\nfunction handleRemoveAuthor( this:JQuery ): void {\n\tconst id: number = Number( $( this ).closest( '[' + authorIdAttrName + ']' ).attr( authorIdAttrName ) );\n\n\tif ( ! ( id > 0 ) ) {\n\t\treturn;\n\t}\n\n\tremoveAuthor( id );\n}\n\n/**\n * Removes an author to the list of selected authors(both visual, and in the\n * hidden input).\n */\nfunction removeAuthor( id:number|string ): void {\n\t_removeAuthorFromVisualList( id );\n\t_removeAuthorFromHiddenInput( id );\n\tremoveOrAddNoAuthorsText();\n}\n\n/**\n * Removes the author from the visual list, based on id.\n */\nfunction _removeAuthorFromVisualList( id: string|number ): void {\n\tconst itemToRemove = authorsVisualList.find( '[' + authorIdAttrName + '=\"' + id + '\"]' );\n\t// Remove the attr fast, to trigger to show the empty authors list message\n\t// if necessary.\n\titemToRemove.removeAttr( authorIdAttrName );\n\thideLeft( itemToRemove, 'remove' );\n}\n\n/**\n * Removes an author from the hidden input list.\n */\nfunction _removeAuthorFromHiddenInput( id: number|string ): void {\n\tconst currentValue = String( authorsIdsInput.val() );\n\tid = String( id );\n\n\tconst authorsIds = currentValue.split( ';' );\n\tconst indexOfId = authorsIds.indexOf( id );\n\n\tif ( indexOfId !== -1 ) {\n\t\tauthorsIds.splice( indexOfId, 1 );\n\t\tauthorsIdsInput.val( authorsIds.join( ';' ) );\n\t}\n}\n\n// #endregion -- Remove an author\n\n// #region -- Manage the \"No Authors Added\" Text.\n\n/**\n * Contains the HTML Element that will be inserted/removed as necessary.\n */\nconst noAuthorsText = $( '#twrpb-author-settings__js-no-authors-selected' );\n\n$( removeOrAddNoAuthorsText );\n\n/**\n * Remove or add \"No authors\" text if necessary.\n */\nfunction removeOrAddNoAuthorsText() {\n\t_removeNoAuthorsTextIfNecessary();\n\t_addNoAuthorsTextIfNecessary();\n}\n\n/**\n * If Necessary, removes the \"No Authors selected\" text.\n */\nfunction _removeNoAuthorsTextIfNecessary() {\n\tconst haveItems = ( authorsVisualList.find( `[${ authorIdAttrName }]` ).length > 0 );\n\n\tif ( haveItems ) {\n\t\thideLeft( noAuthorsText );\n\t}\n}\n\n/**\n * If Necessary, adds the \"No Authors selected\" text.\n */\nfunction _addNoAuthorsTextIfNecessary() {\n\tconst haveItems = ( authorsVisualList.find( `[${ authorIdAttrName }]` ).length > 0 );\n\n\tif ( ! haveItems ) {\n\t\tshowLeft( noAuthorsText );\n\t}\n}\n\n// #endregion -- Manage the \"No Authors Added\" Text.\n\n// #region -- Sorting function.\n\n$( initializeSorting );\n\n/**\n * Make the visual items sortable, and update the hidden input accordingly.\n */\nfunction initializeSorting() {\n\tauthorsVisualList.sortable( {\n\t\tplaceholder: 'twrpb-display-list__placeholder',\n\t\tstop: updateAuthorsIdsFromVisualList,\n\t} );\n}\n\n// #endregion -- Sorting function.\n\n// #region -- Helper Functions\n\n/**\n * Check to see if a given author item is displayed in visual list.\n */\nfunction authorExistInVisualList( id: number|string ): boolean {\n\tconst authorItem = authorsVisualList.find( '[' + authorIdAttrName + '=\"' + id + '\"]' );\n\n\tif ( authorItem.length ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n/**\n * Check to see if a given author item exist in the hidden list.\n */\nfunction authorExistInHiddenInput( id: number|string ): boolean {\n\tconst inputVal = String( authorsIdsInput.val() );\n\tid = Number( id );\n\n\tif ( ( ! inputVal ) || ! ( id > 0 ) ) {\n\t\treturn false;\n\t}\n\n\tconst authorsIds = inputVal.split( ';' ).map( mapToInt );\n\n\tif ( authorsIds.indexOf( id ) !== -1 ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n\n\tfunction mapToInt( val: any ): number {\n\t\treturn parseInt( val );\n\t}\n}\n\n/**\n * Updates the Ids in the input in the same order as the ones\n * from the visual list.\n */\nfunction updateAuthorsIdsFromVisualList(): void {\n\tconst authorItems = authorsVisualList.find( '.twrpb-author-settings__author-item' );\n\tconst authorsIds:Array<number> = [];\n\n\tauthorItems.each( function() {\n\t\tconst itemId: number = Number( $( this ).attr( authorIdAttrName ) );\n\n\t\tif ( itemId > 0 ) {\n\t\t\tauthorsIds.push( itemId );\n\t\t}\n\t} );\n\n\tauthorsIdsInput.val( authorsIds.join( ';' ) );\n}\n\n/**\n * Get the aria label for the remove button. In the aria label will be present\n * \"%s\", which will need to be replaced with an author.\n */\nfunction getRemoveButtonAriaLabel(): string {\n\tconst ariaLabel = authorsVisualList.attr( ariaLabelDataAttr );\n\tif ( ! ariaLabel ) {\n\t\treturn '';\n\t}\n\n\treturn ariaLabel;\n}\n\n/**\n * Sanitize the author name.\n */\nfunction sanitizeAuthorName( name: string ): string {\n\t// Names that are get are already sanitized.\n\treturn name;\n}\n\n/**\n * Decodes the HTML entities.\n */\nfunction decodeHtml( html: string ): string {\n\treturn $( '<div>' ).html( html ).text();\n}\n\n// #endregion -- Helper Functions\n","import $ from 'jquery';\nimport 'jqueryui';\nimport { showUp, hideUp, showLeft, hideLeft } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\n// #region -- Defining some global variables.\n\nconst categorySelector = $( '#twrpb-cat-settings__js-cat-dropdown' );\n\nconst categoriesInput = $( '#twrpb-cat-settings__cat-ids' );\n\nconst categoryIdAttrName = 'data-cat-id';\n\nconst categoriesItemsWrapper = $( '#twrpb-cat-settings__cat-list-wrap' );\nconst categoriesEmptyMessage = categoriesItemsWrapper.find( '.twrpb-display-list__empty-msg' );\nconst categoryItem = $(\n\t'<div class=\"twrpb-display-list__item twrpb-cat-settings__cat-list-item\">' +\n\t\t'<div class=\"twrpb-display-list__item-name twrpb-cat-settings__cat-item-name\">' +\n\t\t'</div>' +\n\t\t'<button class=\"twrpb-display-list__item-remove-btn twrpb-cat-settings__cat-remove-btn\" type=\"button\"><span class=\"dashicons dashicons-no\"></span></button>' +\n\t'</div>'\n);\n\n// #endregion -- Defining some global variables.\n\n// #region -- Add a categories on the lists.\n\n$( document ).on( 'click', '#twrpb-cat-settings__add-cat-btn', handleAddCategoryButton );\n\n/**\n * Handle the addition of a new category via the button click.\n */\nfunction handleAddCategoryButton(): void {\n\tconst categoryId: any = categorySelector.find( ':selected' ).val();\n\tconst name = sanitizeCategoryName( categorySelector.find( ':selected' ).text() );\n\n\tif ( categoryId > 0 ) {\n\t\taddCatToInput( categoryId );\n\t\taddCatToVisual( categoryId, name );\n\t}\n}\n\n/**\n * Add a category to the hidden input.\n */\nfunction addCatToInput( categoryId: string|number ): void {\n\tconst oldValue = categoriesInput.val();\n\n\tlet newValue: string|number;\n\tif ( oldValue && categoryId ) {\n\t\tnewValue = oldValue + ';' + categoryId;\n\t} else {\n\t\tnewValue = categoryId;\n\t}\n\n\tif ( ! categoryIdInsertedInInput( categoryId ) ) {\n\t\tcategoriesInput.val( newValue );\n\t}\n}\n\n/**\n * Adds a category to visual list.\n */\nfunction addCatToVisual( categoryId: string|number, name: string ): void {\n\tif ( ! categoryItemIsDisplayed( categoryId ) ) {\n\t\tconst toAppend = categoryItem.clone();\n\t\tconst removeButtonAriaLabel = getRemoveButtonAriaLabel().replace( '%s', sanitizeCategoryName( name ) );\n\n\t\ttoAppend.find( '.twrpb-cat-settings__cat-item-name' ).text( sanitizeCategoryName( name ) );\n\t\ttoAppend.find( '.twrpb-display-list__item-remove-btn' ).attr( 'aria-label', removeButtonAriaLabel );\n\t\ttoAppend.attr( categoryIdAttrName, categoryId );\n\n\t\tcategoriesItemsWrapper.append( toAppend );\n\t\tshowLeft( toAppend, 'hide_first' );\n\t\thideOrShowEmptyMessage();\n\t}\n}\n\n// #endregion -- add a categories on the lists.\n\n// #region -- Removing categories.\n\n$( document ).on( 'click', '.twrpb-cat-settings__cat-remove-btn', handleRemoveCategory );\n\n/**\n * Removes a selected category when a button is clicked.\n */\nfunction handleRemoveCategory( this:JQuery ): void {\n\tconst categoryId = String( $( this ).closest( '[' + categoryIdAttrName + ']' ).attr( categoryIdAttrName ) );\n\tremoveCategoryFromDisplay( categoryId );\n\tremoveCategoryFromInput( categoryId );\n}\n\n/**\n * Removes a category from the display list with the categories.\n */\nfunction removeCategoryFromDisplay( categoryId: string|number ): void {\n\tconst toRemove = categoriesItemsWrapper.find( '[' + categoryIdAttrName + '=\"' + categoryId + '\"]' );\n\ttoRemove.removeAttr( categoryIdAttrName );\n\thideOrShowEmptyMessage();\n\thideLeft( toRemove, 'remove' );\n}\n\n/**\n * Removes a category from the hidden input.\n */\nfunction removeCategoryFromInput( categoryId: string|number ): void {\n\tconst categoryIds = String( categoriesInput.val() ).split( ';' );\n\tconst toRemoveCategoryIndex = categoryIds.indexOf( String( categoryId ) );\n\n\tif ( toRemoveCategoryIndex !== -1 ) {\n\t\tcategoryIds.splice( toRemoveCategoryIndex, 1 );\n\t\tcategoriesInput.val( categoryIds.join( ';' ) );\n\t}\n}\n\n// #endregion -- Removing categories.\n\n// #region -- Show or Hide empty message.\n\nfunction hideOrShowEmptyMessage(): void {\n\t_showEmptyMessageIfNecessary();\n\t_hideEmptyMessageIfNecessary();\n}\n\n/**\n * Show the empty list message, that should be displayed when no items exists.\n */\nfunction _showEmptyMessageIfNecessary(): void {\n\tconst listHaveItems = ( categoriesItemsWrapper.find( '[' + categoryIdAttrName + ']' ).length > 0 );\n\n\tif ( ! listHaveItems ) {\n\t\tshowLeft( categoriesEmptyMessage );\n\t}\n}\n\n/**\n * Hide the empty list message, that should not be displayed when at least an\n * item exists.\n */\nfunction _hideEmptyMessageIfNecessary(): void {\n\tconst listHaveItems = ( categoriesItemsWrapper.find( '[' + categoryIdAttrName + ']' ).length > 0 );\n\n\tif ( listHaveItems ) {\n\t\thideLeft( categoriesEmptyMessage );\n\t}\n}\n\n// #endregion -- Show or Hide empty message.\n\n// #region -- Verify if a category is selected.\n\n/**\n * Check to see if a category item is displayed in the Visual List of categories.\n */\nfunction categoryItemIsDisplayed( categoryId: string|number ): boolean {\n\tconst items = categoriesItemsWrapper.find( '.twrpb-cat-settings__cat-list-item' );\n\n\tlet sameIdFound = false;\n\n\titems.each( function() {\n\t\tif ( categoryId === $( this ).attr( categoryIdAttrName ) ) {\n\t\t\tsameIdFound = true;\n\t\t}\n\t} );\n\n\tif ( sameIdFound ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n/**\n * Check to see if the category Id is found in the hidden input.\n */\nfunction categoryIdInsertedInInput( categoryId: string|number ): boolean {\n\tconst value: any = categoriesInput.val();\n\tif ( ! value ) {\n\t\treturn false;\n\t}\n\tconst categoryIds = value.split( ';' );\n\n\tif ( categoryIds.indexOf( categoryId ) !== -1 ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n// #endregion -- Verify if a category is selected.\n\n// #region -- Make The Categories Sortable.\n\n$( makeItemsSortable );\n\nfunction makeItemsSortable(): void {\n\tcategoriesItemsWrapper.sortable( {\n\t\tplaceholder: 'twrpb-display-list__placeholder',\n\t\tstop: refreshInputtedCategories,\n\t} );\n}\n\n// #endregion -- Make The Categories Sortable.\n\n// #region -- Show/Hide Select For Category Relation.\n\nconst categoryTypeSelect = $( '#twrpb-cat-settings__type' );\nconst categoryRelationWrapper = $( '#twrpb-cat-settings__js-select-relation-wrap' );\nconst mainCategorySettings = $( '#twrpb-cat-settings__js-settings-wrapper' );\n\n$( hideOrShowCategorySettings );\n$( document ).on( 'change', '#twrpb-cat-settings__type', hideOrShowCategorySettings );\n\nfunction hideOrShowCategorySettings(): void {\n\tconst selectVal = categoryTypeSelect.val();\n\n\tif ( 'NA' === selectVal ) {\n\t\thideUp( mainCategorySettings );\n\t\thideUp( categoryRelationWrapper );\n\t} else if ( 'IN' === selectVal ) {\n\t\tcategoryRelationWrapper.removeClass( 'twrpb-hidden' );\n\t\t// force redraw.\n\t\t$( mainCategorySettings ).css( 'opacity', .99 );\n\t\tsetTimeout( function() {\n\t\t\t$( mainCategorySettings ).css( 'opacity', 1 );\n\t\t}, 20 );\n\t\tshowUp( mainCategorySettings );\n\t \tshowUp( categoryRelationWrapper );\n\t} else {\n\t\tshowUp( mainCategorySettings );\n\t\thideUp( categoryRelationWrapper );\n\t}\n}\n\n// #endregion -- Show/Hide Select For Category Relation.\n\n// #region -- Helpers\n\n/**\n * Get the aria label for the remove button. In the aria label will be present\n * \"%s\", which will need to be replaced with an author.\n */\nfunction getRemoveButtonAriaLabel(): string {\n\tconst ariaLabel = categoriesItemsWrapper.attr( 'data-twrpb-aria-remove-label' );\n\tif ( ! ariaLabel ) {\n\t\treturn '';\n\t}\n\n\treturn ariaLabel;\n}\n\n/**\n * Take out the number of counts and trim the name.\n */\nfunction sanitizeCategoryName( name: string ): string {\n\tconst removeCountParenthesisRegex = /\\([^(]*\\)$/;\n\tname = name.replace( removeCountParenthesisRegex, '' );\n\tname = name.trim();\n\n\treturn name;\n}\n\n// #endregion -- Helpers\n\n// #region -- Refresh Display/Hidden input categories.\n\n/**\n * Refresh the hidden input categories, with Ids taken from the visual list.\n */\nfunction refreshInputtedCategories(): void {\n\tconst categoriesItems = categoriesItemsWrapper.find( '.twrpb-cat-settings__cat-list-item' );\n\n\tlet categoriesIds = '';\n\tcategoriesItems.each( function() {\n\t\tconst catId = String( $( this ).attr( categoryIdAttrName ) );\n\t\tif ( ! categoriesIds ) {\n\t\t\tcategoriesIds = catId;\n\t\t} else {\n\t\t\tcategoriesIds += ';' + catId;\n\t\t}\n\t} );\n\n\tcategoriesInput.val( categoriesIds );\n}\n\n// #endregion -- Refresh Display/Hidden input categories.\n","import $ from 'jquery';\nimport { hideUp, showUp } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\nconst selectCommentsComparator = $( '#twrpb-comments-settings__js-comparator' );\n\nconst numCommentsInput = $( '#twrpb-comments-settings__js-num_comments' );\n\n$( hideOrShowCommentsNumberInput );\n$( document ).on( 'change', '#twrpb-comments-settings__js-comparator', hideOrShowCommentsNumberInput );\n\nfunction hideOrShowCommentsNumberInput() {\n\tconst comparator = selectCommentsComparator.val();\n\n\tif ( 'NA' === comparator ) {\n\t\thideUp( numCommentsInput );\n\t} else {\n\t\tshowUp( numCommentsInput );\n\t}\n}\n","import $ from 'jquery';\nimport 'jqueryui';\nimport { hideUp, showUp } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\n// #region -- Polyfill Datepicker\n\nconst after = $( '#twrpb-date-settings__after' );\n\nconst before = $( '#twrpb-date-settings__before' );\n\n$( enableDatePickerIfNecessary );\n\nfunction enableDatePickerIfNecessary() {\n\tif ( inputDateTypeIsAvailable() ) {\n\t\treturn;\n\t}\n\n\tconst options: any = {\n\t\tdateFormat: 'yy-mm-dd',\n\t\tchangeMonth: true,\n\t\tchangeYear: true,\n\t\tbeforeShow() {\n\t\t\t$( '#ui-datepicker-div' ).addClass( 'twrpb-jqueryui-datepicker' );\n\t\t},\n\t};\n\n\tafter.datepicker( options );\n\tbefore.datepicker( options );\n}\n\nfunction inputDateTypeIsAvailable() {\n\tconst input = document.createElement( 'input' );\n\tconst notADateValue = 'not-a-date';\n\n\tinput.setAttribute( 'type', 'date' );\n\tinput.setAttribute( 'value', notADateValue );\n\n\treturn ( input.value !== notADateValue );\n}\n\n// #endregion -- Polyfill Datepicker\n\n// #region -- Hide/Show Date\n\nconst selectDateType = $( '#twrpb-date-settings__js-date-type' );\n\nconst lastPeriodWrapper = $( '#twrpb-date-settings__js-last-period-wrapper' );\n\nconst betweenPeriodWrapper = $( '#twrpb-date-settings__js-between-wrapper' );\n\n$( hideOrShowLastPeriodSettings );\n$( document ).on( 'change', '#twrpb-date-settings__js-date-type', hideOrShowLastPeriodSettings );\n\n$( hideOrShowBetweenTimeSettings );\n$( document ).on( 'change', '#twrpb-date-settings__js-date-type', hideOrShowBetweenTimeSettings );\n\nfunction hideOrShowLastPeriodSettings() {\n\tconst selectedType = selectDateType.val();\n\n\tif ( 'LT' === selectedType ) {\n\t\tshowUp( lastPeriodWrapper );\n\t} else {\n\t\thideUp( lastPeriodWrapper );\n\t}\n}\n\nfunction hideOrShowBetweenTimeSettings() {\n\tconst selectedType = selectDateType.val();\n\n\tif ( 'FT' === selectedType ) {\n\t\tshowUp( betweenPeriodWrapper );\n\t} else {\n\t\thideUp( betweenPeriodWrapper );\n\t}\n}\n\n// #endregion -- Hide/Show Date\n\n// #region -- Number of days not selected.\n\nconst numberOfDaysInputSelector = '#twrpb-date-settings__js-last-days-input';\nconst numberOfDaysRadioSelector = '#twrpb-date-settings__js-custom';\nconst numberOfDaysNoteSelector = '#twrpb-setting-note__post_date_setting_remember';\n\n$( hideOrShowUncheckedRadioNote );\n$( document ).on( 'keyup mouseup change click', '#twrpb-date-settings__js-last-period-wrapper', hideOrShowUncheckedRadioNote );\n\nfunction hideOrShowUncheckedRadioNote() {\n\tconst inputVal = $( numberOfDaysInputSelector ).val();\n\tconst radioIsSelected = $( numberOfDaysRadioSelector ).prop( 'checked' );\n\n\tif ( ( radioIsSelected && ! inputVal ) || ( ! radioIsSelected && inputVal ) ) {\n\t\tshowUp( $( numberOfDaysNoteSelector ) );\n\t} else {\n\t\thideUp( $( numberOfDaysNoteSelector ) );\n\t}\n}\n\n// #endregion -- Number of days not selected.\n","import $ from 'jquery';\nimport { showUp, hideUp } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\nconst metaTypeSelector = '#twrpb-meta-setting__js-meta-type';\nconst metaValueSelector = '#twrpb-meta-setting__js-meta-value-group';\n\n$( showOrHideValueInput );\n$( document ).on( 'change', metaTypeSelector, showOrHideValueInput );\n\nfunction showOrHideValueInput() {\n\tconst metaTypeValue = $( metaTypeSelector ).val();\n\n\tif ( metaTypeValue === 'NOT EXISTS' || metaTypeValue === 'EXISTS' ) {\n\t\thideUp( $( metaValueSelector ) );\n\t} else {\n\t\tshowUp( $( metaValueSelector ) );\n\t}\n}\n\n// #region -- Hide or show the whole meta setting.\n\nconst settingIsAppliedSelector = '#twrpb-meta-setting__js-apply-meta-select';\nconst settingWrapperSelector = '#twrpb-meta-setting__js-setting-wrapper';\n\n$( hideOrShowMetaSetting );\n$( document ).on( 'change', settingIsAppliedSelector, hideOrShowMetaSetting );\n\nfunction hideOrShowMetaSetting() {\n\tconst isApplied = String( $( settingIsAppliedSelector ).val() );\n\n\tif ( 'NA' === isApplied ) {\n\t\thideUp( $( settingWrapperSelector ) );\n\t} else {\n\t\tshowUp( $( settingWrapperSelector ) );\n\t}\n}\n\n// #endregion -- Hide or show the whole meta setting.\n","import $ from 'jquery';\nimport { hideUp, showUp } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\nconst firstOrderGroup = $( '#twrpb-order-setting__js-first-order-group' );\nconst secondOrderGroup = $( '#twrpb-order-setting__js-second-order-group' );\nconst thirdOrderGroup = $( '#twrpb-order-setting__js-third-order-group' );\n\nconst orderByClassName = 'twrpb-order-setting__js-orderby';\n\nconst orderGroups = [ firstOrderGroup, secondOrderGroup, thirdOrderGroup ];\n\n$( hideOrShowUnnecessarySelectors );\n$( document ).on( 'change', `.${ orderByClassName }`, hideOrShowUnnecessarySelectors );\n\n/**\n * Hide or show the next selectors for the order by and order type, making the\n * user experience better.\n */\nfunction hideOrShowUnnecessarySelectors() {\n\tlet hideNext = false;\n\n\tfor ( let i = 0; i < orderGroups.length; i++ ) {\n\t\tif ( hideNext ) {\n\t\t\thideUp( orderGroups[ i ] );\n\t\t} else {\n\t\t\tshowUp( orderGroups[ i ] );\n\t\t}\n\n\t\tif ( orderGroups[ i ].find( `.${ orderByClassName }` ).val() === 'not_applied' ) {\n\t\t\thideNext = true;\n\t\t\thideUp( orderGroups[ i ].find( '.twrpb-order-setting__js-order-type' ) );\n\t\t} else {\n\t\t\tshowUp( orderGroups[ i ].find( '.twrpb-order-setting__js-order-type' ) );\n\t\t}\n\t}\n}\n\n$( hideOrShowSelectedValues );\n$( document ).on( 'change', `.${ orderByClassName }`, hideOrShowSelectedValues );\n\nfunction hideOrShowSelectedValues() {\n\tfor ( let i = 0; i < orderGroups.length; i++ ) {\n\t\torderGroups[ i ].find( 'option' ).removeAttr( 'disabled' );\n\t}\n\n\tfor ( let i = 0; i < orderGroups.length; i++ ) {\n\t\tconst selectedVal = orderGroups[ i ].find( `.${ orderByClassName }` ).val();\n\t\tif ( selectedVal !== 'not_applied' ) {\n\t\t\tfor ( let j = i + 1; j < orderGroups.length; j++ ) {\n\t\t\t\tconst orderBySelect = orderGroups[ j ].find( `.${ orderByClassName }` );\n\t\t\t\tconst nextSelectedVal = orderBySelect.val();\n\n\t\t\t\torderBySelect.find( `[value=\"${ selectedVal }\"]` ).attr( 'disabled', 'disabled' );\n\n\t\t\t\tif ( nextSelectedVal === selectedVal ) {\n\t\t\t\t\torderBySelect.val( 'not_applied' );\n\t\t\t\t\torderBySelect.trigger( 'change' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n// #region -- Hide/Show Post ID warning notice if selected.\n\nconst postIdOrderWarning = $( '#twrpb-setting-note__ordering_by_post_id_warning' );\n\n$( hideOrShowPostIdWarning );\n$( document ).on( 'change', `.${ orderByClassName }`, hideOrShowPostIdWarning );\n\nfunction hideOrShowPostIdWarning() : void {\n\thideOrShowNoteOnSelect( [ 'ID', 'parent' ], postIdOrderWarning );\n}\n\n// #endregion -- Hide/Show Post ID warning notice if selected.\n\n// #region -- Hide/Show order by comments warning.\n\nconst commentsOrderWarning = $( '#twrpb-setting-note__order_by_comments_warning' );\n\n$( hideOrShowCommentsWarning );\n$( document ).on( 'change', `.${ orderByClassName }`, hideOrShowCommentsWarning );\n\nfunction hideOrShowCommentsWarning() : void {\n\tlet showWarning = false;\n\tconst values = [];\n\n\tfor ( let i = 0; i < orderGroups.length; i++ ) {\n\t\tconst orderByVal = String( $( orderGroups[ i ] ).find( `.${ orderByClassName }` ).val() );\n\t\tvalues.push( orderByVal );\n\t}\n\n\tif ( values.indexOf( 'comment_count' ) === 0 && values.indexOf( 'not_applied' ) === 1 ) {\n\t\tshowWarning = true;\n\t}\n\n\tif ( showWarning ) {\n\t\tshowUp( commentsOrderWarning );\n\t} else {\n\t\thideUp( commentsOrderWarning );\n\t}\n}\n\n// #endregion -- Hide/Show order by comments warning.\n\n// #region -- Hide/Show Search notice if selected.\n\nconst searchOrderNote = $( '#twrpb-setting-note__order_by_search_note' );\n\n$( hideOrShowSearchNote );\n$( document ).on( 'change', `.${ orderByClassName }`, hideOrShowSearchNote );\n\nfunction hideOrShowSearchNote() : void {\n\thideOrShowNoteOnSelect( 'relevance', searchOrderNote );\n}\n\n// #endregion -- Hide/Show Search notice if selected.\n\n// #region -- Hide/Show Meta notice if selected.\n\nconst metaNote = $( '#twrpb-setting-note__order_by_meta_note' );\n\n$( hideOrShowMetaNote );\n$( document ).on( 'change', `.${ orderByClassName }`, hideOrShowMetaNote );\n\nfunction hideOrShowMetaNote() : void {\n\thideOrShowNoteOnSelect( [ 'meta_value', 'meta_value_num' ], metaNote );\n}\n\n// #endregion -- Hide/Show Meta notice if selected.\n\n// #region -- Hide/Show Post In notice if selected.\n\nconst postsInNote = $( '#twrpb-setting-note__order_by_posts_in_note' );\n\n$( hideOrShowPostInNote );\n$( document ).on( 'change', `.${ orderByClassName }`, hideOrShowPostInNote );\n\nfunction hideOrShowPostInNote() : void {\n\thideOrShowNoteOnSelect( 'post__in', postsInNote );\n}\n\n// #endregion -- Hide/Show Post In notice if selected.\n\n// #region -- Hide/Show Views notice if selected.\n\nconst viewsNote = $( '#twrpb-setting-note__order_by_views_in_note' );\n\n$( hideOrShowViewsNote );\n$( document ).on( 'change', `.${ orderByClassName }`, hideOrShowViewsNote );\n\nfunction hideOrShowViewsNote() : void {\n\thideOrShowNoteOnSelect( [ 'twrp_post_views_order', 'twrp_post_rating_order', 'twrp_post_rating_count_order' ], viewsNote );\n}\n\n// #endregion -- Hide/Show Views notice if selected.\n\n// #region -- Hide/Show Note if Order By option is selected.\n\nfunction hideOrShowNoteOnSelect( $orderByValue: string|Array<string>, $note: JQuery ) {\n\tlet showWarning = false;\n\tconst values = [];\n\n\tfor ( let i = 0; i < orderGroups.length; i++ ) {\n\t\tconst orderByVal = String( $( orderGroups[ i ] ).find( `.${ orderByClassName }` ).val() );\n\n\t\tif ( orderByVal === 'not_applied' ) {\n\t\t\tbreak;\n\t\t}\n\n\t\tvalues.push( orderByVal );\n\t}\n\n\tif ( typeof $orderByValue === 'string' || $orderByValue instanceof String ) {\n\t\tif ( values.indexOf( $orderByValue ) !== -1 ) {\n\t\t\tshowWarning = true;\n\t\t}\n\t} else {\n\t\tfor ( let i = 0; i < $orderByValue.length; i++ ) {\n\t\t\tif ( values.indexOf( $orderByValue[ i ] ) !== -1 ) {\n\t\t\t\tshowWarning = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( showWarning ) {\n\t\tshowUp( $note );\n\t} else {\n\t\thideUp( $note );\n\t}\n}\n\n// #endregion -- Hide/Show Note if OrderBy option is selected.\n","import $ from 'jquery';\nimport 'jqueryui';\nimport { hideUp, showUp, hideLeft, showLeft } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\ndeclare const wpApiSettings: any;\n\n// #region -- Show/Hide Posts List.\n\nconst postTypeSelect = $( '#twrpb-posts-settings__js-filter-type' );\nconst postVisualList = $( '#twrpb-posts-settings__js-posts-list' );\nconst searchingWrapper = $( '#twrpb-posts-settings__js-posts-search-wrap' );\nconst includeNote = $( '#twrpb-setting-note__post_settings_note' );\n\n$( hideOrShowVisualList );\n$( document ).on( 'change', '#twrpb-posts-settings__js-filter-type', hideOrShowVisualList );\n\n/**\n * Hide or show the visual list and the form input to search for users.\n */\nfunction hideOrShowVisualList() {\n\tconst postsTypeVal = postTypeSelect.val();\n\n\tif ( 'NA' === postsTypeVal ) {\n\t\thideUp( searchingWrapper );\n\t\thideUp( postVisualList );\n\t} else {\n\t\tshowUp( searchingWrapper );\n\t\tshowUp( postVisualList );\n\t}\n\n\tif ( 'IP' === postsTypeVal ) {\n\t\tshowUp( includeNote );\n\t} else {\n\t\thideUp( includeNote );\n\t}\n}\n\n// #endregion -- Show/Hide Posts List.\n\n// #region -- Manage Posts Search\n\n/**\n * The search input where administrators will search for posts.\n */\nconst postsSearchInput = $( '#twrpb-posts-settings__js-posts-search' );\n\n$( initializeAutoComplete );\n\n/**\n * Initialize the search input, when a user enter some characters, it will\n * automatically search and display the options.\n */\nfunction initializeAutoComplete() {\n\tif ( postsSearchInput.length === 0 ) {\n\t\treturn;\n\t}\n\n\tpostsSearchInput.autocomplete( {\n\t\tsource: showSearchedPosts,\n\t\tminLength: 2,\n\t} ).autocomplete( 'widget' ).addClass( 'twrpb-jqueryui-autocomplete-menu' );\n}\n\n/**\n * Search for the posts and append the results into the autocomplete selector.\n */\nasync function showSearchedPosts( request: any, sendToControl: CallableFunction ) {\n\tconst wpApiURL = wpApiSettings.root + wpApiSettings.versionString;\n\tconst fetchUrl = wpApiURL + `search?_fields=id,title&search=${ request.term }&page=1&per_page=10`;\n\tconst fetchedResult = await fetch( fetchUrl );\n\tconst posts = await fetchedResult.json();\n\n\tif ( ! ( posts instanceof Array ) ) {\n\t\tconsole.error( 'TWRP error when fetching posts.' ); // eslint-disable-line\n\t}\n\n\tconst postsToSend = [];\n\tfor ( let i = 0; i < posts.length; i++ ) {\n\t\tpostsToSend.push( {\n\t\t\tvalue: decodeHtml( posts[ i ].title ),\n\t\t\tlabel: decodeHtml( posts[ i ].title ),\n\t\t\tid: posts[ i ].id,\n\t\t} );\n\t}\n\tsendToControl( postsToSend );\n}\n\n// #endregion -- Manage Posts Search\n\n// #region -- Add Post.\n\nconst postsIdsInput = $( '#twrpb-posts-settings__js-posts-ids' );\n\n/**\n * The post attribute name that hold the Id of a visual item.\n */\nconst postIdAttrName = 'data-post-id';\n\n/**\n * The template for a post item, to be appended to the visual list. Note that\n * we have a similar template in the PHP file, so a change here will require\n * also a change there, and vice-versa.\n */\nconst postVisualItem = $(\n\t'<div class=\"twrpb-display-list__item twrpb-posts-settings__post-item\">' +\n\t\t'<div class=\"twrpb-posts-settings__post-item-title\"></div>' +\n\t\t'<button class=\"twrpb-display-list__item-remove-btn twrpb-posts-settings__js-post-remove-btn\" type=\"button\">' +\n\t\t\t'<span class=\"dashicons dashicons-no\"></span>' +\n\t\t'</button>' +\n\t'</div>'\n);\n\n$( document ).on( 'click', '#twrpb-posts-settings__js-posts-add-btn', handleAddPostClick );\n$( document ).on( 'keypress', '#twrpb-posts-settings__js-posts-search', handleSearchInputKeypress );\n\n/**\n * When a user click \"enter\", add the current selected author to the list.\n */\nfunction handleSearchInputKeypress( event: JQueryEventObject ): void {\n\tconst keycode = ( event.keyCode ? event.keyCode : event.which );\n\tif ( keycode !== 13 ) {\n\t\treturn;\n\t}\n\n\tevent.preventDefault();\n\tconst autocompleteInstance: any = postsSearchInput.autocomplete( 'instance' );\n\n\tlet id: string, name: string;\n\ttry {\n\t\tconst selectedItem = autocompleteInstance.selectedItem;\n\t\tid = selectedItem.id;\n\t\tname = selectedItem.label;\n\t} catch ( error ) {\n\t\treturn;\n\t}\n\n\taddPost( id, name );\n}\n\n/**\n * Handles the click on \"Add post\" button.\n */\nfunction handleAddPostClick(): void {\n\tconst autocompleteInstance: any = postsSearchInput.autocomplete( 'instance' );\n\n\tlet id: string, name: string;\n\ttry {\n\t\tconst selectedItem = autocompleteInstance.selectedItem;\n\t\tid = selectedItem.id;\n\t\tname = selectedItem.label;\n\t} catch ( error ) {\n\t\treturn;\n\t}\n\n\taddPost( id, name );\n}\n\n/**\n * Add a post to the list of selected posts(both visual, and in the hidden\n * input).\n */\nfunction addPost( id:number|string, name: string ): void {\n\t_addPostToVisualList( id, name );\n\t_addPostToHiddenInput( id );\n\tremoveOrAddNoPostsText();\n}\n\n/**\n * Add a post to the visual list.\n */\nfunction _addPostToVisualList( id: number|string, name: string ): void {\n\tif ( postExistInVisualList( id ) ) {\n\t\treturn;\n\t}\n\n\tconst newAuthorItem = postVisualItem.clone();\n\tconst removeButtonLabel = getRemoveButtonAriaLabel().replace( '%s', sanitizePostName( name ) );\n\n\tnewAuthorItem.find( '.twrpb-posts-settings__post-item-title' ).text( sanitizePostName( name ) );\n\tnewAuthorItem.find( '.twrpb-display-list__item-remove-btn' ).attr( 'aria-label', removeButtonLabel );\n\n\tnewAuthorItem.attr( postIdAttrName, id );\n\tpostVisualList.append( newAuthorItem );\n\tshowLeft( newAuthorItem, 'hide_first' );\n}\n\n/**\n * Add a post to the list of hidden input.\n */\nfunction _addPostToHiddenInput( id: number|string ): void {\n\tif ( postExistInHiddenInput( id ) ) {\n\t\treturn;\n\t}\n\tid = String( id );\n\tconst previousVal = postsIdsInput.val();\n\n\tlet newVal = '';\n\tif ( previousVal ) {\n\t\tnewVal = previousVal + ';' + id;\n\t} else {\n\t\tnewVal = id;\n\t}\n\n\tpostsIdsInput.val( newVal );\n}\n\n// #endregion -- Add Post.\n\n// #region -- Remove post\n\n$( document ).on( 'click', '.twrpb-posts-settings__js-post-remove-btn', handleRemovePost );\n\n/**\n * Handle the removing of the posts from the selected list.\n */\nfunction handleRemovePost(): void {\n\tlet id: string|number = $( this ).closest( '[' + postIdAttrName + ']' ).attr( postIdAttrName );\n\n\tid = Number( id );\n\tif ( ! ( id > 0 ) ) {\n\t\treturn;\n\t}\n\n\tremovePost( id );\n}\n\n/**\n * Removes a post to the list of selected posts(both visual, and in the\n * hidden input).\n */\nfunction removePost( id:number|string ): void {\n\t_removePostFromVisualList( id );\n\t_removePostFromHiddenInput( id );\n\tremoveOrAddNoPostsText();\n}\n\n/**\n * Removes a post from the visual list, based on id.\n */\nfunction _removePostFromVisualList( id: string|number ): void {\n\tconst itemToRemove = postVisualList.find( '[' + postIdAttrName + '=\"' + id + '\"]' );\n\titemToRemove.removeAttr( postIdAttrName );\n\thideLeft( itemToRemove, 'remove' );\n}\n\n/**\n * Removes a post from the hidden input list.\n */\nfunction _removePostFromHiddenInput( id: number|string ): void {\n\tconst currentValue = String( postsIdsInput.val() );\n\tid = String( id );\n\n\tconst postsIds = currentValue.split( ';' );\n\tconst indexOfId = postsIds.indexOf( id );\n\n\tif ( indexOfId !== -1 ) {\n\t\tpostsIds.splice( indexOfId, 1 );\n\t\tpostsIdsInput.val( postsIds.join( ';' ) );\n\t}\n}\n\n// #endregion -- Remove post\n\n// #region -- Manage the \"No Authors Added\" Text.\n\n/**\n * Contains the HTML Element that will be inserted/removed as necessary.\n */\nconst noPostsText = $( '#twrpb-posts-settings__js-no-posts-selected' );\n\n$( removeOrAddNoPostsText );\n\n/**\n * Remove or add \"No posts selected\" text if necessary.\n */\nfunction removeOrAddNoPostsText() {\n\t_removeNoPostsTextIfNecessary();\n\t_addNoPostsTextIfNecessary();\n}\n\n/**\n * If Necessary, removes the \"No Posts selected\" text.\n */\nfunction _removeNoPostsTextIfNecessary() {\n\tconst haveItems = ( postVisualList.find( `[${ postIdAttrName }]` ).length > 0 );\n\n\tif ( haveItems ) {\n\t\thideLeft( noPostsText );\n\t}\n}\n\n/**\n * If Necessary, adds the \"No Posts selected\" text.\n */\nfunction _addNoPostsTextIfNecessary() {\n\tconst haveItems = ( postVisualList.find( `[${ postIdAttrName }]` ).length > 0 );\n\n\tif ( ! haveItems ) {\n\t\tshowLeft( noPostsText );\n\t}\n}\n\n// #endregion -- Manage the \"No Authors Added\" Text.\n\n// #region -- Sorting function\n\n$( initializeSorting );\n\n/**\n * Make the visual items sortable, and update the hidden input accordingly.\n */\nfunction initializeSorting() {\n\tpostVisualList.sortable( {\n\t\tplaceholder: 'twrpb-display-list__placeholder',\n\t\tstop: updatePostsIdsFromVisualList,\n\t} );\n}\n\n// #endregion -- Sorting function\n\n// #region -- Helper Functions\n\n/**\n * Check to see if a given post item is displayed in visual list.\n */\nfunction postExistInVisualList( id: number|string ): boolean {\n\tconst postItem = postVisualList.find( '[' + postIdAttrName + '=\"' + id + '\"]' );\n\n\tif ( postItem.length ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n/**\n * Check to see if a given post item exist in the hidden list.\n */\nfunction postExistInHiddenInput( id: number|string ): boolean {\n\tconst inputVal = String( postsIdsInput.val() );\n\tid = Number( id );\n\n\tif ( ( ! inputVal ) || ! ( id > 0 ) ) {\n\t\treturn false;\n\t}\n\n\tconst postsIds = inputVal.split( ';' ).map( mapToInt );\n\n\tif ( postsIds.indexOf( id ) !== -1 ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n\n\tfunction mapToInt( val: any ): number {\n\t\treturn parseInt( val );\n\t}\n}\n\n/**\n * Updates the Ids in the input in the same order as the ones\n * from the visual list.\n */\nfunction updatePostsIdsFromVisualList(): void {\n\tconst postItems = postVisualList.find( '.twrpb-posts-settings__post-item' ).filter( '[' + postIdAttrName + ']' );\n\tconst authorsIds = [];\n\n\tpostItems.each( function() {\n\t\tlet itemId: string|number = $( this ).attr( postIdAttrName );\n\n\t\titemId = +itemId;\n\t\tif ( itemId > 0 ) {\n\t\t\tauthorsIds.push( itemId );\n\t\t}\n\t} );\n\n\tpostsIdsInput.val( authorsIds.join( ';' ) );\n}\n\n/**\n * Sanitize the post name. It does not do something yet.\n */\nfunction sanitizePostName( name: string ): string {\n\treturn name;\n}\n\n/**\n * Get the aria label for the remove button. In the aria label will be present\n * \"%s\", which will need to be replaced with an author.\n */\nfunction getRemoveButtonAriaLabel(): string {\n\tconst ariaLabel = postVisualList.attr( 'data-twrpb-aria-remove-label' );\n\tif ( ! ariaLabel ) {\n\t\treturn '';\n\t}\n\n\treturn ariaLabel;\n}\n\n/**\n * Decodes the HTML entities.\n */\nfunction decodeHtml( html: string ): string {\n\treturn $( '<div>' ).html( html ).text();\n}\n\n// #endregion -- Helper Functions\n","import $ from 'jquery';\n\n// #region -- Ask an alert question before deleting a query.\n\nconst deleteButtonSelector = '.twrpb-queries-table__delete-link';\n\nconst deleteConfirmationMessageHolder = '#twrpb-query-settings__before-deleting-confirmation';\nconst deleteConfirmationMessageData = 'data-twrpb-query-delete-confirm';\n\n$( document ).on( 'click', deleteButtonSelector, handleDeleteButtonClicked );\n\nfunction handleDeleteButtonClicked( event ) {\n\tconst alertMessage = $( deleteConfirmationMessageHolder ).attr( deleteConfirmationMessageData );\n\t// eslint-disable-next-line no-alert\n\tconst confirmation = confirm( alertMessage );\n\n\tif ( ! confirmation ) {\n\t\tevent.preventDefault();\n\t}\n}\n\n// #endregion -- Ask an alert question before deleting a query.\n\n// #region -- Make Query Arguments Debugger Accordion.\n\nconst displayQueryArgsSelector = '#twrpb-query-settings__query_generated_array_container';\n\n$( makeQueryArgsCollapsible );\n\nfunction makeQueryArgsCollapsible() {\n\t$( displayQueryArgsSelector ).accordion( {\n\t\tactive: false,\n\t\theightStyle: 'content',\n\t\tcollapsible: true,\n\t\ticons: false,\n\t} );\n}\n\n// #region -- Make Query Arguments Debugger Accordion.\n","import $ from 'jquery';\n\nconst querySettingCollapsibleSelector = '.twrpb-query-settings__setting';\n\nconst dataSettingName = 'data-twrpb-setting-name';\nconst dataDefaultSettingsName = 'data-twrpb-default-settings';\n\nconst selectTemplateSelector = '#twrpb-query-settings__predefined_template_selector';\nconst applyTemplateBtnSelector = '#twrpb-query-settings__apply_template_btn';\nconst dataTemplatesName = 'data-twrpb-templates';\nconst dataConfirmMessage = 'data-twrpb-confirm-template-changes';\n\nconst collapsibleSelector = '.twrpb-collapsible';\n\n$( document ).on( 'click', applyTemplateBtnSelector, applyTemplate );\n\nfunction applyTemplate() {\n\tconst selectTemplate = $( selectTemplateSelector );\n\tconst template = String( selectTemplate.val() );\n\tlet allTemplatesOptions: string;\n\ttry {\n\t\tallTemplatesOptions = JSON.parse( selectTemplate.attr( dataTemplatesName ) );\n\t} catch ( e ) {\n\t\treturn false;\n\t}\n\tconst templateOptions = allTemplatesOptions[ template ];\n\n\tif ( templateOptions === undefined ) {\n\t\treturn;\n\t}\n\n\tconst confirmation = userConfirmedChanges();\n\tif ( ! confirmation ) {\n\t\treturn;\n\t}\n\n\t// Reset all queries to default and put the template settings.\n\tresetAllQuerySettingsToDefault();\n\tfor ( const settingName of Object.keys( templateOptions ) ) {\n\t\tconst settingValue = templateOptions[ settingName ];\n\t\tif ( settingValue === undefined ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst control = $( '[name=\"' + settingName + '\"]' );\n\t\t// If we have no controls of this type, maybe we have a checkbox type of control, which can have another array element.\n\t\tif ( control.length === 0 ) {\n\t\t\t$( '[name^=\"' + settingName + '\"]' );\n\t\t}\n\n\t\tsetControlValue( control, settingValue );\n\n\t\t// Make sure that we open the control collapsible. We toggle this late to not show very much of inside how things are hidden/show.\n\t\tsetTimeout( () => {\n\t\t\topenControlCollapsible( control );\n\t\t}, 300 );\n\t}\n}\n\n// #region -- Set all settings to default.\n\nfunction resetAllQuerySettingsToDefault() {\n\tconst querySettingsWrappers = $( querySettingCollapsibleSelector ).not( '[' + dataSettingName + '=\"query_name\"]' );\n\n\tfor ( let i = 0; i < querySettingsWrappers.length; i++ ) {\n\t\tsetQuerySettingToDefault( querySettingsWrappers.eq( i ) );\n\t}\n}\n\nfunction setQuerySettingToDefault( querySettingWrapper: JQuery ) {\n\tconst settingBaseName = querySettingWrapper.attr( dataSettingName );\n\tconst defaultSettings = JSON.parse( querySettingWrapper.attr( dataDefaultSettingsName ) );\n\n\tfor ( const settingName of Object.keys( defaultSettings ) ) {\n\t\tconst defaultSettingValue = defaultSettings[ settingName ];\n\t\tconst fullSettingName = settingBaseName + '[' + settingName + ']';\n\n\t\tconst settingControl = $( '[name=\"' + fullSettingName + '\"], [type=\"checkbox\"][name^=\"' + fullSettingName + '\"]' );\n\t\tif ( settingControl.length === 0 ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tsetControlValue( settingControl, defaultSettingValue );\n\t}\n}\n\n// #endregion -- Set all settings to default.\n\n// #region -- Set a value of a control.\n\nfunction setControlValue( control: JQuery, setting: string|Array<string> ) {\n\tif ( getControlType( control ) === 'select' ) {\n\t\tcontrol.val( setting );\n\t\ttriggerControlChange( control );\n\t\treturn;\n\t}\n\n\tif ( getControlType( control ) === 'checkbox' ) {\n\t\tif ( Array.isArray( setting ) ) {\n\t\t\tcontrol.each( ( index, el ) => {\n\t\t\t\tconst element = $( el );\n\n\t\t\t\t// If the element is checked and it shouldn't, then uncheck.\n\t\t\t\tif ( setting.indexOf( String( element.val() ) ) === -1 && element.prop( 'checked' ) === true ) {\n\t\t\t\t\telement.prop( 'checked', false );\n\t\t\t\t\ttriggerControlChange( element );\n\t\t\t\t}\n\n\t\t\t\t// If the element is unchecked and it should, then check.\n\t\t\t\tif ( setting.indexOf( String( element.val() ) ) !== -1 && element.prop( 'checked' ) === false ) {\n\t\t\t\t\telement.prop( 'checked', true );\n\t\t\t\t\ttriggerControlChange( element );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\treturn;\n\t}\n\n\tif ( getControlType( control ) === 'text' ) {\n\t\tcontrol.val( setting );\n\t\ttriggerControlChange( control );\n\t\treturn;\n\t}\n\n\tif ( getControlType( control ) === 'number' ) {\n\t\tcontrol.val( setting );\n\t\ttriggerControlChange( control );\n\t\treturn;\n\t}\n\n\tif ( getControlType( control ) === 'date' ) {\n\t\tcontrol.val( setting );\n\t\ttriggerControlChange( control );\n\t\treturn;\n\t}\n\n\tif ( getControlType( control ) === 'radio' ) {\n\t\tif ( ! ( typeof setting === 'string' ) && ! ( setting instanceof String ) ) {\n\t\t\tsetting = '';\n\t\t}\n\n\t\tcontrol.each( ( index, el ) => {\n\t\t\tconst element = $( el );\n\t\t\tif ( element.prop( 'checked' ) && ! element.is( '[value=\"' + setting + '\"]' ) ) {\n\t\t\t\telement.prop( 'checked', false );\n\t\t\t\ttriggerControlChange( element );\n\t\t\t}\n\n\t\t\tif ( element.is( '[value=\"' + setting + '\"]' ) && ! element.prop( 'checked' ) ) {\n\t\t\t\telement.prop( 'checked', true );\n\t\t\t\ttriggerControlChange( element );\n\t\t\t}\n\t\t} );\n\t\treturn;\n\t}\n\n\tif ( getControlType( control ) === 'textarea' ) {\n\t\tcontrol.val( setting );\n\n\t\t// @ts-ignore\n\t\tif ( control.next().is( '.CodeMirror' ) && control.next().get( 0 ).CodeMirror ) {\n\t\t\t// @ts-ignore\n\t\t\tcontrol.next().get( 0 ).CodeMirror.setValue( '' );\n\t\t}\n\n\t\ttriggerControlChange( control );\n\t}\n}\n\nfunction triggerControlChange( control: JQuery ): void {\n\t// Default trigger.\n\tcontrol.trigger( 'change' );\n}\n\n// #endregion -- Set a value of a control.\n\n// #region -- Get controls that are known to the code and can be safely managed.\n\n/**\n * Get the type of control recognized.\n *\n * For the moment only select, checkboxes, textarea, CodeMirror textarea,\n * number, radio, and text are recognized.\n */\nfunction getControlType( control: JQuery ): string {\n\tif ( control.is( 'select' ) ) {\n\t\treturn 'select';\n\t}\n\n\tif ( control.is( 'input[type=\"checkbox\"]' ) ) {\n\t\treturn 'checkbox';\n\t}\n\n\tif ( control.is( 'input[type=\"text\"]' ) ) {\n\t\treturn 'text';\n\t}\n\n\tif ( control.is( 'input[type=\"number\"]' ) ) {\n\t\treturn 'number';\n\t}\n\n\tif ( control.is( 'input[type=\"date\"]' ) ) {\n\t\treturn 'date';\n\t}\n\n\tif ( control.is( 'input[type=\"radio\"]' ) ) {\n\t\treturn 'radio';\n\t}\n\n\tif ( control.is( 'textarea' ) ) {\n\t\treturn 'textarea';\n\t}\n\n\treturn null;\n}\n\n// #endregion -- Get controls that are known to the code and can be safely managed.\n\nfunction userConfirmedChanges(): boolean {\n\tlet message = $( selectTemplateSelector ).attr( dataConfirmMessage );\n\tif ( ! message ) {\n\t\tmessage = 'This will modify all the current settings to the specific template. Are you sure?';\n\t}\n\n\t// eslint-disable-next-line no-alert\n\treturn confirm( message );\n}\n\nfunction openControlCollapsible( control: JQuery ) {\n\tconst collapsible = control.closest( collapsibleSelector );\n\tconst accordionInstance = collapsible.accordion( 'instance' );\n\tif ( accordionInstance === undefined ) {\n\t\treturn;\n\t}\n\n\tcollapsible.accordion( 'option', 'active', 0 );\n}\n","import $ from 'jquery';\nimport { hideUp, showUp } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\nconst searchInput = $( '#twrpb-search-setting__js-search-input' );\nconst warningWrapper = $( '#twrpb-setting-note__search_query_too_short_warning' );\n\n$( hiderOrShowSearchWarning );\n$( document ).on( 'change', '#twrpb-search-setting__js-search-input', hiderOrShowSearchWarning );\n\nfunction hiderOrShowSearchWarning(): void {\n\tconst searchString = String( searchInput.val() );\n\tconst searchStringLength = searchString.length;\n\n\tif ( ( searchStringLength !== 0 ) && ( searchStringLength < 4 ) ) {\n\t\tshowUp( warningWrapper );\n\t} else {\n\t\thideUp( warningWrapper );\n\t}\n}\n","import $ from 'jquery';\nimport { hideUp, showUp } from '../../admin-blocks/twrpb-hidden/twrpb-hidden';\n\nconst applySettingSelect = $( '#twrpb-statuses-settings__js-apply-select' );\nconst postStatuses = $( '#twrpb-statuses-settings__js-statuses-wrapper' );\n\n$( document ).on( 'change', '#twrpb-statuses-settings__js-apply-select', hideOrShowPostStatuses );\n$( hideOrShowPostStatuses );\n\nfunction hideOrShowPostStatuses() {\n\tif ( applySettingSelect.val() === 'not_applied' ) {\n\t\thideUp( postStatuses );\n\t} else {\n\t\tshowUp( postStatuses );\n\t}\n}\n","// Admin Blocks\nimport './admin-blocks/twrpb-hidden/twrpb-hidden';\nimport './admin-blocks/twrpb-collapsible/twrpb-collapsible';\nimport './admin-blocks/twrpb-docs/twrpb-docs';\n\n// General Settings\nimport './general-settings/twrpb-general-settings';\n\n// Query Settings\nimport './query-settings/twrpb-advanced-settings/twrpb-advanced-settings';\nimport './query-settings/twrpb-author-settings/twrpb-author-settings';\nimport './query-settings/twrpb-cat-settings/twrpb-cat-settings';\nimport './query-settings/twrpb-comments-settings/twrpb-comments-settings';\nimport './query-settings/twrpb-date-settings/twrpb-date-settings';\nimport './query-settings/twrpb-meta-setting/twrpb-meta-setting';\nimport './query-settings/twrpb-order-setting/twrpb-order-setting';\nimport './query-settings/twrpb-posts-settings/twrpb-posts-settings';\nimport './query-settings/twrpb-query-settings/twrpb-query-settings';\nimport './query-settings/twrpb-query-templates/twrpb-query-templates';\nimport './query-settings/twrpb-search-setting/twrpb-search-setting';\nimport './query-settings/twrpb-statuses-settings/twrpb-statuses-settings';\n\n// Widget Blocks\nimport './widget-blocks/twrpb-widget-form';\nimport './widget-blocks/twrpb-meta-tooltip';\nimport './widget-blocks/twrpb-widget-components';\nimport './widget-blocks/twrpb-sync-widget-query-settings';\nimport './widget-blocks/twrpb-color-picker';\n\nexport default {};\n","import $ from 'jquery';\nimport Pickr from '@simonwep/pickr';\n\ndeclare const TwrpPickrTranslations: any;\n\n$( createPicker );\n$( document ).on( 'widget-updated widget-added twrpb-artblock-added twrpb-query-added', createPicker );\n\nfunction createPicker() {\n\tconst colorPickers = $( '.twrpb-color-picker' );\n\n\tlet translations = [];\n\tif ( typeof TwrpPickrTranslations === 'object' ) {\n\t\ttranslations = TwrpPickrTranslations;\n\t}\n\n\tlet pickrContainer = 'body';\n\tif ( $( '#widgets-right' ).length ) {\n\t\tpickrContainer = '#widgets-right';\n\t}\n\n\tcolorPickers.each( function() {\n\t\tconst element: any = this;\n\t\tconst input = $( element ).parent().find( 'input' );\n\t\tlet inputVal = String( input.val() );\n\n\t\tif ( ! inputVal ) {\n\t\t\tinputVal = null;\n\t\t}\n\n\t\tconst pickr = Pickr.create( {\n\t\t\tel: element,\n\t\t\ttheme: 'monolith',\n\t\t\tcontainer: pickrContainer,\n\t\t\tdefault: inputVal,\n\t\t\tappClass: 'twrpb-pickr',\n\t\t\t// @ts-ignore\n\t\t\ti18n: translations,\n\n\t\t\tswatches: [\n\t\t\t\t'rgba(244, 67, 54, 1)',\n\t\t\t\t'rgba(233, 30, 99, 1)',\n\t\t\t\t'rgba(156, 39, 176, 1)',\n\t\t\t\t'rgba(103, 58, 183, 1)',\n\t\t\t\t'rgba(63, 81, 181, 1)',\n\t\t\t\t'rgba(33, 150, 243, 1)',\n\t\t\t\t'rgba(3, 169, 244, 1)',\n\t\t\t\t'rgba(0, 188, 212, 1)',\n\t\t\t\t'rgba(0, 150, 136, 1)',\n\t\t\t\t'rgba(76, 175, 80, 1)',\n\t\t\t\t'rgba(139, 195, 74, 1)',\n\t\t\t\t'rgba(205, 220, 57, 1)',\n\t\t\t\t'rgba(255, 235, 59, 1)',\n\t\t\t\t'rgba(255, 193, 7, 1)',\n\t\t\t],\n\t\t\tdefaultRepresentation: 'RGBA',\n\n\t\t\tcomponents: {\n\t\t\t\t// Main components\n\t\t\t\tpreview: true,\n\t\t\t\topacity: true,\n\t\t\t\thue: true,\n\n\t\t\t\t// Input / output Options\n\t\t\t\tinteraction: {\n\t\t\t\t\tinput: true,\n\t\t\t\t\tcancel: false,\n\t\t\t\t\tclear: true,\n\t\t\t\t\tsave: true,\n\t\t\t\t},\n\t\t\t},\n\t\t} ).on( 'save', function( color: any ) {\n\t\t\tif ( color ) {\n\t\t\t\tinput.val( color.toRGBA().toString( 0 ) );\n\t\t\t} else {\n\t\t\t\tinput.val( '' );\n\t\t\t}\n\n\t\t\tinput.change();\n\t\t\tpickr.hide();\n\t\t} );\n\n\t\tinput.data( 'pickr', pickr );\n\n\t\tpickr.setColorRepresentation( 'RGBA' );\n\t} );\n}\n","import $ from 'jquery';\nimport 'jqueryui';\n\n// #region -- Initialize the jQuery Ui Tooltip.\n\nconst tooltipBtnSelector = '.twrpb-widget-form__artblock-tooltip-btn';\nconst tooltipContentSelector = '.twrpb-widget-form__artblock-tooltip-content';\n\n$( document ).on( 'click', tooltipBtnSelector, handleWidgetTooltip );\n\nfunction handleWidgetTooltip( e ): void {\n\te.preventDefault();\n\tconst btn = $( this );\n\tconst content = btn.parent().find( tooltipContentSelector );\n\n\tcontent.slideToggle();\n}\n\n// #endregion -- Initialize the jQuery Ui Tooltip.\n","/**\n * Works on: \"type\"=\"checkbox\", type=\"number\", type=\"hidden\", pickr color, select.\n */\n\nimport $ from 'jquery';\n\nconst widgetFormSelector = '.twrpb-widget-form';\nconst queryTabSettingsSelector = '.twrpb-widget-form__selected-query';\n\n// #region -- Update what widgets to sync.\n// The widgets that are marked to sync have twrpb-widget-form--js-sync-settings class name.\n\n$( updateAllWidgetSyncClasses );\n$( document ).on( 'widget-updated widget-added', updateAllWidgetSyncClasses );\n$( document ).on( 'change', '[type=\"checkbox\"][name$=\"sync_query_settings]\"]', updateAllWidgetSyncClasses );\n\nfunction updateAllWidgetSyncClasses() {\n\tconst syncSetting = $( document ).find( '[type=\"checkbox\"][name$=\"sync_query_settings]\"]' );\n\tsyncSetting.each( function() {\n\t\tconst syncSettingValue = $( this ).prop( 'checked' );\n\t\tconst widget = $( this ).closest( widgetFormSelector );\n\t\tif ( syncSettingValue ) {\n\t\t\taddSyncClassToWidget( widget );\n\t\t} else {\n\t\t\tremoveSyncClassFromWidget( widget );\n\t\t}\n\t} );\n}\n\nfunction addSyncClassToWidget( widget ) {\n\twidget.addClass( 'twrpb-widget-form--js-sync-settings' );\n}\n\nfunction removeSyncClassFromWidget( widget ) {\n\twidget.removeClass( 'twrpb-widget-form--js-sync-settings' );\n}\n\n// #endregion -- Update what widgets to sync.\n\n// #region -- Sync the widget settings when the sync button is clicked.\n\n$( document ).on( 'change', '[type=\"checkbox\"][name$=\"sync_query_settings]\"]', handleSyncButtonEnabled );\n\nfunction handleSyncButtonEnabled() {\n\tconst settingEnabled = $( this ).prop( 'checked' );\n\n\tif ( settingEnabled ) {\n\t\tsyncAllWidgetSettings( $( this ).closest( widgetFormSelector ) );\n\t}\n}\n\n// #endregion -- Sync the widget settings when the sync button is clicked.\n\n// #region -- Sync all settings for a widget\n\n$( document ).on( 'twrpb-query-added twrpb-artblock-added', '.twrpb-widget-form--js-sync-settings', handleQueryOrArtblockAdded );\n\nfunction handleQueryOrArtblockAdded() {\n\tconst widget = $( this );\n\tsyncAllWidgetSettings( widget );\n\n\t// Sometimes the pickr color won't sync because it gets update at the same time, so we force it.\n\tsetTimeout( function() {\n\t\tsyncAllWidgetSettings( widget );\n\t}, 100 );\n\n\tsetTimeout( function() {\n\t\tsyncAllWidgetSettings( widget );\n\t}, 1000 );\n}\n\n/**\n * Sync all query settings of the widget with the first query setting.\n */\nfunction syncAllWidgetSettings( widget: JQuery ): void {\n\tconst firstQuery = widget.find( queryTabSettingsSelector ).eq( 0 );\n\n\tconst toSyncElements = firstQuery.find( 'input, select' );\n\n\ttoSyncElements.each( function() {\n\t\tsyncElement( $( this ) );\n\t} );\n}\n\n// #endregion -- Sync all settings for a widget\n\n// #region -- Sync all equivalent query settings, if a setting change.\n\naddDocumentEvents();\nfunction addDocumentEvents() {\n\t$( document ).on( 'change', '.twrpb-widget-form--js-sync-settings' + ' ' + queryTabSettingsSelector, syncTheSetting );\n}\n\nfunction removeDocumentEvents() {\n\t$( document ).off( 'change', '.twrpb-widget-form--js-sync-settings' + ' ' + queryTabSettingsSelector, syncTheSetting );\n}\n\nfunction syncTheSetting( event ) {\n\tconst elementChanged = $( event.target );\n\tsyncElement( elementChanged );\n}\n\n// #endregion -- Sync all equivalent query settings, if a setting change.\n\n/**\n * For a setting control passed, sync the other similar query settings with\n * same value.\n */\nfunction syncElement( elementChanged: JQuery ) {\n\tconst elementName = elementChanged.attr( 'name' );\n\n\tconst shouldBeSynched = settingShouldBeSynched( elementChanged );\n\tif ( ! shouldBeSynched ) {\n\t\treturn;\n\t}\n\n\tconst allWidgetQueriesTabs = elementChanged.closest( widgetFormSelector ).find( queryTabSettingsSelector );\n\tconst nameSuffixToSearch = elementName.replace( /widget-twrp_tabs_with_recommended_posts\\[\\d+\\]\\[\\d+\\]/, '' );\n\n\tlet allSimilarQuerySettings = allWidgetQueriesTabs.find( '[name$=\"' + nameSuffixToSearch + '\"]' );\n\tallSimilarQuerySettings = filterSimilarQuerySettings( elementChanged, allSimilarQuerySettings );\n\n\tconst settingsChanged = changeAllSettings( elementChanged, allSimilarQuerySettings );\n\n\ttriggerNecessaryChanges( settingsChanged );\n\t// We don't need yet to trigger all changes.\n\t// triggerAllChanges( elementChanged, allSimilarQuerySettings );\n}\n\n/**\n * Whether or not it should sync this setting control.\n */\nfunction settingShouldBeSynched( settingControl ): boolean {\n\tif ( settingControl.is( '[name$=\"[display_title]\"]' ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Filter the similar settings found.\n *\n * Usually used on settings that have custom controllers.\n */\nfunction filterSimilarQuerySettings( settingElement: JQuery, allSimilarQuerySettings : JQuery ): JQuery {\n\tconst elementType = getElementChangedType( settingElement );\n\n\tif ( elementType === 'checkbox' ) {\n\t\tallSimilarQuerySettings = allSimilarQuerySettings.not( '[type=\"hidden\"]' );\n\t}\n\n\treturn allSimilarQuerySettings;\n}\n\n/**\n * Based on a setting control, change all other settings controls passed. This\n * function will return a list with all the controls that were changed(value\n * different than the based setting control).\n */\nfunction changeAllSettings( elementName: JQuery, allSimilarQuerySettings : JQuery ): JQuery {\n\tconst elementType = getElementChangedType( elementName );\n\tconst valueToChange = elementName.val();\n\tlet elementsChanged = $();\n\n\tallSimilarQuerySettings.each( function() {\n\t\tconst currentElement = $( this );\n\n\t\tif ( elementType === 'checkbox' ) {\n\t\t\tconst propValue = elementName.prop( 'checked' );\n\t\t\tconst currentSetting = currentElement.prop( 'checked' );\n\t\t\tif ( propValue !== currentSetting ) {\n\t\t\t\telementsChanged = elementsChanged.add( currentElement );\n\t\t\t\tcurrentElement.prop( 'checked', propValue );\n\t\t\t}\n\t\t} else if ( elementType === 'select' || elementType === 'number' || elementType === 'hidden' ) {\n\t\t\tconst currentValue = currentElement.val();\n\t\t\tif ( valueToChange !== currentValue ) {\n\t\t\t\telementsChanged = elementsChanged.add( currentElement );\n\t\t\t\tcurrentElement.val( valueToChange );\n\t\t\t}\n\t\t} else if ( elementType === 'color' ) {\n\t\t\tconst currentValue = currentElement.val();\n\t\t\tif ( valueToChange !== currentValue ) {\n\t\t\t\telementsChanged = elementsChanged.add( currentElement );\n\t\t\t\tcurrentElement.val( valueToChange );\n\t\t\t}\n\n\t\t\t// This is left outside, because we can refresh the button display\n\t\t\t// in case the pickr initialize slower.\n\t\t\tif ( valueToChange && ( typeof valueToChange === 'string' ) ) {\n\t\t\t\tcurrentElement.next( '.pickr' ).children( 'button' ).css( 'color', valueToChange );\n\t\t\t} else {\n\t\t\t\tcurrentElement.next( '.pickr' ).children( 'button' ).css( 'color', 'rgba(0, 0, 0, 0.15)' );\n\t\t\t}\n\t\t}\n\t} );\n\n\treturn elementsChanged;\n}\n\n/**\n * Trigger the changes only to elements that have other javascript calls to them.\n */\nfunction triggerNecessaryChanges( settingControlsToTriggerChanges:JQuery ): void {\n\tlet triggerChanges = false;\n\tconst firstControl = settingControlsToTriggerChanges.eq( 0 );\n\n\t// See whether or not we should trigger changes.\n\tconst elementName = String( firstControl.attr( 'name' ) );\n\tif ( elementName.includes( '[article_block]' ) ) {\n\t\ttriggerChanges = true;\n\t}\n\n\tif ( triggerChanges ) {\n\t\tremoveDocumentEvents();\n\t\tsettingControlsToTriggerChanges.each( function() {\n\t\t\t$( this ).trigger( 'change' );\n\t\t} );\n\t\taddDocumentEvents();\n\t}\n}\n\n/**\n * Trigger all the changes done to all elements.\n */\nfunction triggerAllChanges( elementName: JQuery, allSimilarQuerySettings : JQuery ): void {\n\tremoveDocumentEvents();\n\tconst elementType = getElementChangedType( elementName );\n\tallSimilarQuerySettings.each( function() {\n\t\tif ( elementType === 'checkbox' ) {\n\t\t\t$( this ).trigger( 'change' );\n\t\t} else if ( elementType === 'select' ) {\n\t\t\t$( this ).trigger( 'change' );\n\t\t} else if ( elementType === 'number' ) {\n\t\t\t$( this ).trigger( 'change' );\n\t\t} else if ( elementType === 'hidden' ) {\n\t\t\t$( this ).trigger( 'change' );\n\t\t} else if ( elementType === 'color' ) {\n\t\t\t$( this ).trigger( 'change' );\n\t\t}\n\t} );\n\taddDocumentEvents();\n}\n\n/**\n * Get the input type that is changed.\n *\n * The additional check on hidden type is because the checkboxes can have a\n * hidden input before, to submit something to the server.\n */\nfunction getElementChangedType( settingElement ): string {\n\tif ( settingElement.attr( 'type' ) === 'hidden' && settingElement.next( '.pickr, .twrpb-color-picker' ).length ) {\n\t\treturn 'color';\n\t} else if ( settingElement.attr( 'type' ) === 'hidden' && settingElement.next( '[type=\"checkbox\"]' ).length === 0 ) {\n\t\treturn 'hidden';\n\t} else if ( settingElement.attr( 'type' ) === 'checkbox' ) {\n\t\treturn 'checkbox';\n\t} else if ( settingElement.is( 'select' ) ) {\n\t\treturn 'select';\n\t} else if ( settingElement.attr( 'type' ) === 'number' ) {\n\t\treturn 'number';\n\t}\n}\n","import $ from 'jquery';\nimport 'jqueryui';\n\n$( createWidgetTabs );\n$( document ).on( 'widget-updated widget-added twrpb-artblock-added twrpb-query-added', createWidgetTabs );\n\nconst animationDuration = 250;\n\nfunction createWidgetTabs() {\n\t$( '.twrpb-widget-components' ).each( function( index, element ) {\n\t\tconst jQueryElement = $( element );\n\n\t\tlet tabActive: number|boolean = false;\n\t\tif ( componentsModified( jQueryElement ) ) {\n\t\t\ttabActive = 0;\n\t\t}\n\n\t\tconst previousInstance = jQueryElement.tabs( 'instance' );\n\t\tif ( ! previousInstance ) {\n\t\t\tjQueryElement.tabs( {\n\t\t\t\tactive: tabActive,\n\t\t\t\tcollapsible: true,\n\t\t\t\tshow: { effect: 'slideDown', duration: animationDuration },\n\t\t\t\thide: { effect: 'slideUp', duration: animationDuration },\n\t\t\t\tbeforeActivate: changeTabsAnimation,\n\t\t\t} );\n\t\t}\n\t} );\n}\n\nfunction changeTabsAnimation( e: JQueryEventObject, ui ) {\n\tconst oldTab: JQuery = ui.oldTab;\n\tconst newTab: JQuery = ui.newTab;\n\tconst oldPanel: JQuery = ui.oldPanel;\n\tconst newPanel: JQuery = ui.newPanel;\n\n\tconst oldTabId = oldTab.attr( 'aria-controls' );\n\tconst newTabId = newTab.attr( 'aria-controls' );\n\tconst tabsWrapper = $( e.currentTarget ).closest( '.twrpb-widget-components' );\n\n\tif ( ! oldTabId || ! newTabId ) {\n\t\tmakeTabsSlide( tabsWrapper );\n\t} else {\n\t\tmakePanelsHeightAnimatable( oldPanel, newPanel );\n\t\tmakeTabsFade( tabsWrapper );\n\t}\n}\n\nfunction makeTabsFade( tabsWrapper ) {\n\ttabsWrapper.tabs( 'option', 'hide', { effect: 'fadeOut', duration: animationDuration } );\n\ttabsWrapper.tabs( 'option', 'show', { effect: 'fadeIn', duration: animationDuration } );\n}\n\nfunction makeTabsSlide( tabsWrapper ) {\n\ttabsWrapper.tabs( 'option', 'hide', { effect: 'slideUp', duration: animationDuration } );\n\ttabsWrapper.tabs( 'option', 'show', { effect: 'slideDown', duration: animationDuration } );\n}\n\nfunction makePanelsHeightAnimatable( oldPanel, newPanel ) {\n\tconst panelContents = oldPanel.parent();\n\n\tconst oldPanelHeight = panelContents.height();\n\n\toldPanel.hide();\n\tnewPanel.show();\n\tconst newPanelHeight = panelContents.height();\n\tnewPanel.hide();\n\toldPanel.show();\n\n\tpanelContents.height( oldPanelHeight );\n\tpanelContents.css( {\n\t\ttransition: 'height ' + animationDuration + 'ms ease',\n\t} );\n\tpanelContents.height( newPanelHeight );\n\tsetTimeout( function() {\n\t\tpanelContents.height( 'auto' );\n\t\tpanelContents.css( {\n\t\t\ttransition: '',\n\t\t} );\n\t}, ( animationDuration * 2 ) );\n}\n\n/**\n * Check if the settings inside a components are modified from the defaults.\n * It works on input of type hidden, number, and select.\n */\nfunction componentsModified( element: JQuery ) {\n\tconst components = element.find( '.twrpb-widget-components__component-wrapper' );\n\tconst settingInputs = components.find( 'input, select' );\n\n\tfor ( let i = 0; i < settingInputs.length; i++ ) {\n\t\tconst setting = settingInputs.eq( i );\n\t\tif ( setting.is( 'select' ) ) {\n\t\t\tif ( ! setting.find( 'option' ).first().is( ':selected' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif ( setting.is( '[type=\"number\"], [type=\"hidden\"]' ) ) {\n\t\t\tif ( setting.val() ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n}\n","import $ from 'jquery';\nimport 'jqueryui';\n\ndeclare const ajaxurl: string;\n\n/**\n * Todo: Do not save widget if the query tabs are not displayed.\n * Todo: Block the select option while the article block is loading and waited\n * to be appended and display a nice animation.\n */\n\n// #region -- Declaring all constants.\n\nconst dataWidgetId = 'data-twrpb-widget-id';\nconst dataQueryId = 'data-twrpb-query-id';\nconst dataArtblockId = 'data-twrpb-selected-artblock';\n\nconst queriesListSelector = '.twrpb-widget-form__selected-queries-list';\nconst queriesItemSelector = '.twrpb-widget-form__selected-query';\n\nconst queryAddSelector = '.twrpb-widget-form__select-query-to-add-btn';\nconst querySpinnerSelector = '.twrpb-widget-form__query-loading';\nconst queryFailedToAddSelector = '.twrpb-widget-form__failed-to-load-query-tab';\nconst queryRemoveSelector = '.twrpb-widget-form__remove-selected-query';\n\nconst queriesInputSelector = '.twrpb-widget-form__selected-queries';\n\nconst selectArticleBlockSelector = '.twrpb-widget-form__article-block-selector';\n\nconst articleBlockSettingsContainerSelector = '.twrpb-widget-form__article-block-settings-container';\n\n// #endregion -- Declaring all constants.\n\n// #region -- Add Queries.\n\n$( document ).on( 'click', queryAddSelector, handleAddQueryButton );\n\nlet widgetIsAjaxLoadingQuery = false;\n\n/**\n * Handles the click when a user wants to add a query(tab) to be displayed and\n * modify its settings.\n */\nfunction handleAddQueryButton(): void {\n\tconst widgetWrapper = $( this ).closest( '.twrpb-widget-form' );\n\tconst widgetId = widgetWrapper.attr( dataWidgetId );\n\tconst queryId = String( widgetWrapper.find( '.twrpb-widget-form__select-query-to-add' ).val() );\n\n\taddQueryToListIfDoNotExist( widgetId, queryId );\n}\n\n/**\n * Appends a query tab to the widget list of queries. This function also updates\n * the queries input after a display query have been added.\n *\n */\nasync function addQueryToListIfDoNotExist( widgetId: string, queryId: string|number ) {\n\t// If query already exist in the list, then return. This check is here for\n\t// only to prevent a useless request to the server.\n\tif ( queryExistInList( widgetId, queryId ) ) {\n\t\treturn;\n\t}\n\n\tif ( widgetIsAjaxLoadingQuery ) {\n\t\treturn;\n\t}\n\n\tconst widgetElement = getWidgetWrapperById( widgetId );\n\tconst failedMessageElement = widgetElement.find( queryFailedToAddSelector );\n\tfailedMessageElement.hide();\n\n\taddQueryLoadingAnimation( widgetId );\n\twidgetIsAjaxLoadingQuery = true;\n\n\tconst ajaxNonce = String( $( '#twrpb-plugin-widget-ajax-nonce' ).attr( 'data-twrpb-plugin-widget-ajax-nonce' ) );\n\n\t$.ajax( {\n\t\turl: ajaxurl,\n\t\tmethod: 'POST',\n\t\tdata: {\n\t\t\taction: 'twrpb_widget_create_query_setting',\n\t\t\twidget_id: widgetId,\n\t\t\tquery_id: queryId,\n\t\t\tnonce: ajaxNonce,\n\t\t},\n\t} )\n\t\t.done(\n\t\t\tfunction( data ) {\n\t\t\t\t// We need another check here because this function can be\n\t\t\t\t// called and executed multiple times, because it can be called\n\t\t\t\t// from multiple events.\n\t\t\t\tif ( data.length >= 25 && ! queryExistInList( widgetId, queryId ) ) {\n\t\t\t\t\tconst widget = getWidgetWrapperById( widgetId );\n\t\t\t\t\tconst queriesList = widget.find( '.twrpb-widget-form__selected-queries-list' );\n\t\t\t\t\tqueriesList.append( data );\n\t\t\t\t\tupdateQueriesInput( widgetId );\n\t\t\t\t\tmakeAllQueriesCollapsible();\n\t\t\t\t\tqueriesList.trigger( 'twrpb-query-added' );\n\t\t\t\t} else if ( data.length < 25 ) {\n\t\t\t\t\tconst widget = getWidgetWrapperById( widgetId );\n\t\t\t\t\tconst failedMessage = widget.find( queryFailedToAddSelector );\n\t\t\t\t\tfailedMessage.show();\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t\t.fail(\n\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\tfunction( data ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error( 'Something went wrong with the ajax callback in addQueryToListIfDoNotExist() function,' );\n\t\t\t\tconst widget = getWidgetWrapperById( widgetId );\n\t\t\t\tconst failedMessage = widget.find( queryFailedToAddSelector );\n\t\t\t\tfailedMessage.show();\n\t\t\t}\n\t\t).always( function() {\n\t\t\tremoveQueryLoadingAnimation( widgetId );\n\t\t\twidgetIsAjaxLoadingQuery = false;\n\t\t} );\n}\n\nfunction addQueryLoadingAnimation( widgetId: string ) {\n\tconst widget = getWidgetWrapperById( widgetId );\n\tconst addQueryButton = widget.find( queryAddSelector );\n\tconst spinner = widget.find( querySpinnerSelector );\n\n\taddQueryButton.addClass( 'twrpb-button--disabled' );\n\tspinner.show();\n}\n\nfunction removeQueryLoadingAnimation( widgetId: string ) {\n\tconst widget = getWidgetWrapperById( widgetId );\n\tconst addQueryButton = widget.find( queryAddSelector );\n\tconst spinner = widget.find( querySpinnerSelector );\n\n\taddQueryButton.removeClass( 'twrpb-button--disabled' );\n\tspinner.hide();\n}\n\n// #endregion -- Add Queries.\n\n// #region -- Remove Queries.\n\n$( document ).on( 'click', queryRemoveSelector, handleRemoveQuery );\n\n/**\n * Removes the query from Display List and Input List.\n */\nfunction handleRemoveQuery() {\n\tconst widgetId = getClosestWidgetId( $( this ) );\n\tconst queryId = getClosestQueryId( $( this ) );\n\n\tremoveQueryFromList( widgetId, queryId );\n\tupdateQueriesInput( widgetId );\n}\n\n/**\n * Remove a Query From the Display List.\n */\nfunction removeQueryFromList( widgetId: string, queryId: string|number ) {\n\tconst queryItem = getQueryItemById( widgetId, queryId );\n\tqueryItem.remove();\n}\n\n// #endregion -- Remove Queries.\n\n// #region -- Update Queries\n\n$( updateAllWidgetsListOnLoad );\n$( document ).on( 'widget-updated widget-added', updateAllWidgetsListOnLoad );\n\nfunction updateAllWidgetsListOnLoad(): void {\n\tconst widgets = getAllWidgets();\n\twidgets.each( function() {\n\t\tconst widget = $( this );\n\t\tconst widgetId = widget.attr( dataWidgetId );\n\t\tconst queries = getQueriesInputValues( widget );\n\n\t\tfor ( let i = 0; i < queries.length; i++ ) {\n\t\t\taddQueryToListIfDoNotExist( widgetId, queries[ i ] );\n\t\t}\n\n\t\tupdateQueriesInput( widgetId );\n\t} );\n}\n\n// #endregion -- Update Queries\n\n// #region -- Make Queries Sortable.\n\n$( initializeAllQueriesSorting );\n$( document ).on( 'widget-updated widget-added', initializeAllQueriesSorting );\n\nfunction initializeAllQueriesSorting(): void {\n\tconst widgets = getAllWidgets();\n\twidgets.each( function() {\n\t\tconst queriesList = $( this ).find( queriesListSelector );\n\t\tqueriesList.sortable( {\n\t\t\tupdate: handleSortingChange,\n\t\t} );\n\n\t\tfunction handleSortingChange(): void {\n\t\t\tconst widgetId = getClosestWidgetId( this );\n\t\t\tupdateQueriesInput( widgetId );\n\t\t}\n\t} );\n}\n\n// #endregion -- Make Queries Sortable.\n\n// #region -- Add/Remove/Update Queries Functions.\n\n/**\n * Check if a query settings are displayed in the widget.\n */\nfunction queryExistInList( widgetId: string, queryId: string|number ): boolean {\n\tconst queryItem = getQueryItemById( widgetId, queryId );\n\tif ( queryItem.length ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n/**\n * Updates the queries input, from the queries display list.\n *\n * This is the primary function that is used to update the queries input, based\n * on what is displayed.\n */\nfunction updateQueriesInput( widgetId: string ): void {\n\tconst widget = getWidgetWrapperById( widgetId );\n\tconst queriesItems = widget.find( queriesListSelector ).find( queriesItemSelector );\n\n\tconst queries = [];\n\tqueriesItems.each( function() {\n\t\tconst queryId = $( this ).attr( dataQueryId );\n\t\tif ( queryId ) {\n\t\t\tqueries.push( queryId );\n\t\t}\n\t} );\n\n\tconst input = widget.find( queriesInputSelector );\n\tconst value = queries.join( ';' );\n\tinput.val( value );\n\tinput.trigger( 'change' );\n}\n\n/**\n * Get an array of all query ids used in a widget.\n */\nfunction getQueriesInputValues( widget: JQuery<HTMLElement> ): Array<string> {\n\tconst queryInput = widget.find( queriesInputSelector );\n\tlet queries = String( queryInput.val() ).split( ';' );\n\tqueries = queries.filter( isNonEmptyString );\n\n\treturn queries;\n\n\tfunction isNonEmptyString( elem: string ): boolean {\n\t\treturn Boolean( elem );\n\t}\n}\n\n// #endregion -- Add/Remove/Update Queries Functions.\n\n// #region -- Make Queries Tab Collapsible.\n\n$( makeAllQueriesCollapsible );\n$( document ).on( 'widget-updated widget-added', makeAllQueriesCollapsible );\n\nfunction makeAllQueriesCollapsible() {\n\tconst widgets = getAllWidgets();\n\twidgets.each( function() {\n\t\tconst queryItems = $( this ).find( `[${ dataQueryId }]` );\n\n\t\tqueryItems.each( function() {\n\t\t\tconst query = $( this );\n\t\t\tconst accordionInstance = query.accordion( 'instance' );\n\n\t\t\tif ( accordionInstance ) {\n\t\t\t\tquery.accordion( 'refresh' );\n\t\t\t} else {\n\t\t\t\tquery.accordion( {\n\t\t\t\t\tcollapsible: true,\n\t\t\t\t\tactive: false,\n\t\t\t\t\theightStyle: 'content',\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n// #endregion -- Make Queries Tab Collapsible.\n\n// #region -- Helper Functions.\n\nfunction getClosestWidgetId( element: any ): string {\n\treturn $( element ).closest( `[${ dataWidgetId }]` ).attr( dataWidgetId );\n}\n\nfunction getClosestQueryId( element: any ): string {\n\treturn $( element ).closest( `[${ dataQueryId }]` ).attr( dataQueryId );\n}\n\nfunction getWidgetWrapperById( widgetId: string ): JQuery<HTMLElement> {\n\treturn $( document ).find( `[${ dataWidgetId }=\"${ widgetId }\"]` );\n}\n\nfunction getQueryItemById( widgetId: string, queryId: string|number ): JQuery<HTMLElement> {\n\tconst widget = getWidgetWrapperById( widgetId );\n\treturn $( widget ).find( `[${ dataQueryId }=\"${ queryId }\"]` );\n}\n\n/**\n * Get all TWRP widgets.\n */\nfunction getAllWidgets(): JQuery {\n\treturn $( document ).find( `[${ dataWidgetId }]` ).not( '[id*=\"__i__\"]' );\n}\n\n// #endregion -- Helper Functions.\n\n// #region -- Manages The Changes Of Article Block Settings.\n\n// #region -- Insert The Article Block Settings.\n\n$( document ).on( 'change', selectArticleBlockSelector, handleArticleBlockChanged );\n\nasync function handleArticleBlockChanged() {\n\tconst widgetId = getClosestWidgetId( $( this ) );\n\tconst queryId = getClosestQueryId( $( this ) );\n\tconst artblockId = String( $( this ).val() );\n\n\t// add previous container to cache:\n\taddArticleBlockToCache( widgetId, queryId );\n\n\tlet artblockSettingsHTML;\n\tif ( hasArticleBlockInCache( widgetId, queryId, artblockId ) ) {\n\t\tartblockSettingsHTML = getArticleBlockFromCache( widgetId, queryId, artblockId );\n\t} else {\n\t\tdisplayLoadingArtblock( widgetId, queryId );\n\t\tartblockSettingsHTML = await getArticleBlockSettings( widgetId, queryId, artblockId );\n\t\tremoveLoadingArtblock( widgetId, queryId );\n\t}\n\n\tinsertArticleBlock( widgetId, queryId, artblockSettingsHTML );\n}\n\nfunction getArticleBlockSettings( widgetId: string, queryId: string|number, artblockId: string|number ) {\n\tconst ajaxNonce = String( $( '#twrpb-plugin-widget-ajax-nonce' ).attr( 'data-twrpb-plugin-widget-ajax-nonce' ) );\n\n\treturn $.ajax( {\n\t\turl: ajaxurl,\n\t\tmethod: 'POST',\n\t\tdata: {\n\t\t\taction: 'twrpb_widget_create_artblock_settings',\n\t\t\tartblock_id: artblockId,\n\t\t\twidget_id: widgetId,\n\t\t\tquery_id: queryId,\n\t\t\tnonce: ajaxNonce,\n\t\t},\n\t} );\n}\n\nfunction insertArticleBlock( widgetId: string, queryId: string|number, html: string|JQuery ) {\n\tif ( ( ( typeof html ) === 'string' ) && html.length < 25 ) {\n\t\treturn;\n\t}\n\n\tconst queryItem = getQueryItemById( widgetId, queryId );\n\tconst artblockContainer = queryItem.find( articleBlockSettingsContainerSelector );\n\tartblockContainer.empty();\n\tartblockContainer.find( '[' + dataArtblockId + ']' ).detach();\n\tartblockContainer.append( html );\n\tartblockContainer.trigger( 'twrpb-artblock-added' );\n}\n\nfunction displayLoadingArtblock( widgetId, queryId ) {\n\tconst queryContainer = getQueryItemById( widgetId, queryId );\n\n\tconst settingsContainer = queryContainer.find( articleBlockSettingsContainerSelector );\n\tsettingsContainer.addClass( 'twrpb-widget-form__article-block-loading' );\n\n\tconst loadingSpinner = queryContainer.find( '.twrpb-widget-form__article-block-loading-spinner' );\n\tloadingSpinner.show();\n}\n\nfunction removeLoadingArtblock( widgetId, queryId ) {\n\tconst queryContainer = getQueryItemById( widgetId, queryId );\n\n\tconst settingsContainer = queryContainer.find( articleBlockSettingsContainerSelector );\n\tsettingsContainer.removeClass( 'twrpb-widget-form__article-block-loading' );\n\n\tconst loadingSpinner = queryContainer.find( '.twrpb-widget-form__article-block-loading-spinner' );\n\tloadingSpinner.hide();\n}\n\n// #endregion -- Insert The Article Block Settings.\n\n// #region -- Cache Article Block Settings.\n\n/**\n * An array that contains all the article blocks retrieved and detached.\n * When a user choose to reselect a previously selected and modified article\n * block, the settings will not be fetched again from the server and the\n * modifications will remain.\n */\nconst articleBlocksCache = Array();\n\n/**\n * Add the article block to the cache array.\n */\nfunction addArticleBlockToCache( widgetId: string, queryId: string|number ): void {\n\tif ( ( ! widgetId ) || ( ! queryId ) ) {\n\t\treturn;\n\t}\n\n\tif ( ! articleBlocksCache[ widgetId ] ) {\n\t\tarticleBlocksCache[ widgetId ] = [];\n\t}\n\tif ( ! articleBlocksCache[ widgetId ][ queryId ] ) {\n\t\tarticleBlocksCache[ widgetId ][ queryId ] = [];\n\t}\n\n\tconst query = getQueryItemById( widgetId, queryId );\n\tconst artblockWrapper = query.find( '[' + dataArtblockId + ']' );\n\tconst artblockId = artblockWrapper.attr( dataArtblockId );\n\n\tif ( ! artblockId ) {\n\t\treturn;\n\t}\n\n\tarticleBlocksCache[ widgetId ][ queryId ][ artblockId ] = artblockWrapper;\n}\n\n/**\n * Get an article block from cache. Or false if the article block is not in cache.\n */\nfunction getArticleBlockFromCache( widgetId: string, queryId: string|number, $artblockId: string|number ): JQuery<HTMLElement>|false {\n\tif ( hasArticleBlockInCache( widgetId, queryId, $artblockId ) ) {\n\t\treturn articleBlocksCache[ widgetId ][ queryId ][ $artblockId ];\n\t}\n\treturn false;\n}\n\n/**\n * Whether or not an article block was already fetched and put in cache.\n */\nfunction hasArticleBlockInCache( widgetId: string, queryId: string|number, $artblockId: string|number ): boolean {\n\tif ( ! articleBlocksCache[ widgetId ] || ! articleBlocksCache[ widgetId ][ queryId ] || ! articleBlocksCache[ widgetId ][ queryId ][ $artblockId ] ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n// #endregion -- Cache Article Block Settings.\n","/*! Pickr 1.8.0 MIT | https://github.com/Simonwep/pickr */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Pickr=e():t.Pickr=e()}(window,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){\"use strict\";o.r(e);var n={};function i(t,e,o,n,i={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const r of e)for(const e of o)r[t](e,n,{capture:!1,...i});return Array.prototype.slice.call(arguments,1)}o.r(n),o.d(n,\"on\",(function(){return r})),o.d(n,\"off\",(function(){return s})),o.d(n,\"createElementFromString\",(function(){return a})),o.d(n,\"createFromTemplate\",(function(){return l})),o.d(n,\"eventPath\",(function(){return c})),o.d(n,\"resolveElement\",(function(){return p})),o.d(n,\"adjustableInputNumbers\",(function(){return u}));const r=i.bind(null,\"addEventListener\"),s=i.bind(null,\"removeEventListener\");function a(t){const e=document.createElement(\"div\");return e.innerHTML=t.trim(),e.firstElementChild}function l(t){const e=(t,e)=>{const o=t.getAttribute(e);return t.removeAttribute(e),o},o=(t,n={})=>{const i=e(t,\":obj\"),r=e(t,\":ref\"),s=i?n[i]={}:n;r&&(n[r]=t);for(const n of Array.from(t.children)){const t=e(n,\":arr\"),i=o(n,t?{}:s);t&&(s[t]||(s[t]=[])).push(Object.keys(i).length?i:n)}return n};return o(a(t))}function c(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let o=t.target.parentElement;for(e=[t.target,o];o=o.parentElement;)e.push(o);return e.push(document,window),e}function p(t){return t instanceof Element?t:\"string\"==typeof t?t.split(/>>/g).reduce((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t),document):null}function u(t,e=(t=>t)){function o(o){const n=[.001,.01,.1][Number(o.shiftKey||2*o.ctrlKey)]*(o.deltaY<0?1:-1);let i=0,r=t.selectionStart;t.value=t.value.replace(/[\\d.]+/g,(t,o)=>o<=r&&o+t.length>=r?(r=o,e(Number(t),n,i)):(i++,t)),t.focus(),t.setSelectionRange(r,r),o.preventDefault(),t.dispatchEvent(new Event(\"input\"))}r(t,\"focus\",()=>r(window,\"wheel\",o,{passive:!1})),r(t,\"blur\",()=>s(window,\"wheel\",o))}const{min:h,max:d,floor:f,round:m}=Math;function v(t,e,o){e/=100,o/=100;const n=f(t=t/360*6),i=t-n,r=o*(1-e),s=o*(1-i*e),a=o*(1-(1-i)*e),l=n%6;return[255*[o,s,r,r,a,o][l],255*[a,o,o,s,r,r][l],255*[r,r,a,o,o,s][l]]}function b(t,e,o){const n=(2-(e/=100))*(o/=100)/2;return 0!==n&&(e=1===n?0:n<.5?e*o/(2*n):e*o/(2-2*n)),[t,100*e,100*n]}function g(t,e,o){const n=h(t/=255,e/=255,o/=255),i=d(t,e,o),r=i-n;let s,a;if(0===r)s=a=0;else{a=r/i;const n=((i-t)/6+r/2)/r,l=((i-e)/6+r/2)/r,c=((i-o)/6+r/2)/r;t===i?s=c-l:e===i?s=1/3+n-c:o===i&&(s=2/3+l-n),s<0?s+=1:s>1&&(s-=1)}return[360*s,100*a,100*i]}function y(t,e,o,n){e/=100,o/=100;return[...g(255*(1-h(1,(t/=100)*(1-(n/=100))+n)),255*(1-h(1,e*(1-n)+n)),255*(1-h(1,o*(1-n)+n)))]}function _(t,e,o){e/=100;const n=2*(e*=(o/=100)<.5?o:1-o)/(o+e)*100,i=100*(o+e);return[t,isNaN(n)?0:n,i]}function w(t){return g(...t.match(/.{2}/g).map(t=>parseInt(t,16)))}function A(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if(\"black\"===t.toLowerCase())return\"#000\";const e=document.createElement(\"canvas\").getContext(\"2d\");return e.fillStyle=t,\"#000\"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)/i,rgba:/^((rgba)|rgb)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsla:/^((hsla)|hsl)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsva:/^((hsva)|hsv)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hexa:/^#?(([\\dA-Fa-f]{3,4})|([\\dA-Fa-f]{6})|([\\dA-Fa-f]{8}))$/i},o=t=>t.map(t=>/^(|\\d+)\\.\\d+|\\d+$/.test(t)?Number(t):void 0);let n;t:for(const i in e){if(!(n=e[i].exec(t)))continue;const r=t=>!!n[2]==(\"number\"==typeof t);switch(i){case\"cmyk\":{const[,t,e,r,s]=o(n);if(t>100||e>100||r>100||s>100)break t;return{values:y(t,e,r,s),type:i}}case\"rgba\":{const[,,,t,e,s,a]=o(n);if(t>255||e>255||s>255||a<0||a>1||!r(a))break t;return{values:[...g(t,e,s),a],a:a,type:i}}case\"hexa\":{let[,t]=n;4!==t.length&&3!==t.length||(t=t.split(\"\").map(t=>t+t).join(\"\"));const e=t.substring(0,6);let o=t.substring(6);return o=o?parseInt(o,16)/255:void 0,{values:[...w(e),o],a:o,type:i}}case\"hsla\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[..._(t,e,s),a],a:a,type:i}}case\"hsva\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[t,e,s,a],a:a,type:i}}}}return{values:null,type:null}}function C(t=0,e=0,o=0,n=1){const i=(t,e)=>(o=-1)=>e(~o?t.map(t=>Number(t.toFixed(o))):t),r={h:t,s:e,v:o,a:n,toHSVA(){const t=[r.h,r.s,r.v,r.a];return t.toString=i(t,t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toHSLA(){const t=[...b(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toRGBA(){const t=[...v(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${r.a})`),t},toCMYK(){const t=function(t,e,o){const n=v(t,e,o),i=n[0]/255,r=n[1]/255,s=n[2]/255,a=h(1-i,1-r,1-s);return[100*(1===a?0:(1-i-a)/(1-a)),100*(1===a?0:(1-r-a)/(1-a)),100*(1===a?0:(1-s-a)/(1-a)),100*a]}(r.h,r.s,r.v);return t.toString=i(t,t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`),t},toHEXA(){const t=function(t,e,o){return v(t,e,o).map(t=>m(t).toString(16).padStart(2,\"0\"))}(r.h,r.s,r.v),e=r.a>=1?\"\":Number((255*r.a).toFixed(0)).toString(16).toUpperCase().padStart(2,\"0\");return e&&t.push(e),t.toString=()=>\"#\"+t.join(\"\").toUpperCase(),t},clone:()=>C(r.h,r.s,r.v,r.a)};return r}const k=t=>Math.max(Math.min(t,1),0);function $(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:o}=e,{type:n,key:i}=t;if(document.activeElement===o.wrapper){const{lock:o}=e.options,r=\"ArrowUp\"===i,s=\"ArrowRight\"===i,a=\"ArrowDown\"===i,l=\"ArrowLeft\"===i;if(\"keydown\"===n&&(r||s||a||l)){let n=0,i=0;\"v\"===o?n=r||s?1:-1:\"h\"===o?n=r||s?-1:1:(i=r?-1:a?1:0,n=l?-1:s?1:0),e.update(k(e.cache.x+.01*n),k(e.cache.y+.01*i)),t.preventDefault()}else i.startsWith(\"Arrow\")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){r(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),r(document,[\"mousemove\",\"touchmove\"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:o,cache:n}=e,{lock:i,element:r,wrapper:s}=o,a=s.getBoundingClientRect();let l=0,c=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,c=t?(e||t).clientY:0,l<a.left?l=a.left:l>a.left+a.width&&(l=a.left+a.width),c<a.top?c=a.top:c>a.top+a.height&&(c=a.top+a.height),l-=a.left,c-=a.top}else n&&(l=n.x*a.width,c=n.y*a.height);\"h\"!==i&&(r.style.left=`calc(${l/a.width*100}% - ${r.offsetWidth/2}px)`),\"v\"!==i&&(r.style.top=`calc(${c/a.height*100}% - ${r.offsetHeight/2}px)`),e.cache={x:l/a.width,y:c/a.height};const p=k(l/a.width),u=k(c/a.height);switch(i){case\"v\":return o.onchange(p);case\"h\":return o.onchange(u);default:return o.onchange(p,u)}},_tapstop(){e.options.onstop(),s(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),s(document,[\"mousemove\",\"touchmove\"],e._tapmove)},trigger(){e._tapmove()},update(t=0,o=0){const{left:n,top:i,width:r,height:s}=e.options.wrapper.getBoundingClientRect();\"h\"===e.options.lock&&(o=t),e._tapmove({clientX:n+r*t,clientY:i+s*o})},destroy(){const{options:t,_tapstart:o,_keyboard:n}=e;s(document,[\"keydown\",\"keyup\"],n),s([t.wrapper,t.element],\"mousedown\",o),s([t.wrapper,t.element],\"touchstart\",o,{passive:!1})}},{options:o,_tapstart:n,_keyboard:i}=e;return r([o.wrapper,o.element],\"mousedown\",n),r([o.wrapper,o.element],\"touchstart\",n,{passive:!1}),r(document,[\"keydown\",\"keyup\"],i),e}function S(t={}){t=Object.assign({onchange:()=>0,className:\"\",elements:[]},t);const e=r(t.elements,\"click\",e=>{t.elements.forEach(o=>o.classList[e.target===o?\"add\":\"remove\"](t.className)),t.onchange(e),e.stopPropagation()});return{destroy:()=>s(...e)}}\n/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */\nconst O={variantFlipOrder:{start:\"sme\",middle:\"mse\",end:\"ems\"},positionFlipOrder:{top:\"tbrl\",right:\"rltb\",bottom:\"btrl\",left:\"lrbt\"},position:\"bottom\",margin:8},E=(t,e,o)=>{const n=\"object\"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...o}:t;return{update(t=n){const{reference:e,popper:o}=Object.assign(n,t);if(!o||!e)throw new Error(\"Popper- or reference-element missing.\");return((t,e,o)=>{const{container:n,margin:i,position:r,variantFlipOrder:s,positionFlipOrder:a}={container:document.documentElement.getBoundingClientRect(),...O,...o},{left:l,top:c}=e.style;e.style.left=\"0\",e.style.top=\"0\";const p=t.getBoundingClientRect(),u=e.getBoundingClientRect(),h={t:p.top-u.height-i,b:p.bottom+i,r:p.right+i,l:p.left-u.width-i},d={vs:p.left,vm:p.left+p.width/2+-u.width/2,ve:p.left+p.width-u.width,hs:p.top,hm:p.bottom-p.height/2-u.height/2,he:p.bottom-u.height},[f,m=\"middle\"]=r.split(\"-\"),v=a[f],b=s[m],{top:g,left:y,bottom:_,right:w}=n;for(const t of v){const o=\"t\"===t||\"b\"===t,n=h[t],[i,r]=o?[\"top\",\"left\"]:[\"left\",\"top\"],[s,a]=o?[u.height,u.width]:[u.width,u.height],[l,c]=o?[_,w]:[w,_],[p,f]=o?[g,y]:[y,g];if(!(n<p||n+s>l))for(const s of b){const l=d[(o?\"v\":\"h\")+s];if(!(l<f||l+a>c))return e.style[r]=l-u[r]+\"px\",e.style[i]=n-u[i]+\"px\",t+s}}return e.style.left=l,e.style.top=c,null})(e,o,n)}}};function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}class x{constructor(t){L(this,\"_initializingActive\",!0),L(this,\"_recalc\",!0),L(this,\"_nanopop\",null),L(this,\"_root\",null),L(this,\"_color\",C()),L(this,\"_lastColor\",C()),L(this,\"_swatchColors\",[]),L(this,\"_setupAnimationFrame\",null),L(this,\"_eventListener\",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({...x.DEFAULT_OPTIONS},t);const{swatches:e,components:o,theme:n,sliders:i,lockOpacity:r,padding:s}=t;[\"nano\",\"monolith\"].includes(n)&&!i&&(t.sliders=\"h\"),o.interaction||(o.interaction={});const{preview:a,opacity:l,hue:c,palette:p}=o;o.opacity=!r&&l,o.palette=p||a||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach(t=>this.addSwatch(t));const{button:u,app:h}=this._root;this._nanopop=E(u,h,{margin:s}),u.setAttribute(\"role\",\"button\"),u.setAttribute(\"aria-label\",this._t(\"btn:toggle\"));const d=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!h.offsetWidth)return requestAnimationFrame(e);d.setColor(t.default),d._rePositioningPicker(),t.defaultRepresentation&&(d._representation=t.defaultRepresentation,d.setColorRepresentation(d._representation)),t.showAlways&&d.show(),d._initializingActive=!1,d._emit(\"init\")}))}_preBuild(){const{options:t}=this;for(const e of[\"el\",\"container\"])t[e]=p(t[e]);this._root=(t=>{const{components:e,useAsButton:o,inline:n,appClass:i,theme:r,lockOpacity:s}=t.options,a=t=>t?\"\":'style=\"display:none\" hidden',c=e=>t._t(e),p=l(`\\n      <div :ref=\"root\" class=\"pickr\">\\n\\n        ${o?\"\":'<button type=\"button\" :ref=\"button\" class=\"pcr-button\"></button>'}\\n\\n        <div :ref=\"app\" class=\"pcr-app ${i||\"\"}\" data-theme=\"${r}\" ${n?'style=\"position: unset\"':\"\"} aria-label=\"${c(\"ui:dialog\")}\" role=\"window\">\\n          <div class=\"pcr-selection\" ${a(e.palette)}>\\n            <div :obj=\"preview\" class=\"pcr-color-preview\" ${a(e.preview)}>\\n              <button type=\"button\" :ref=\"lastColor\" class=\"pcr-last-color\" aria-label=\"${c(\"btn:last-color\")}\"></button>\\n              <div :ref=\"currentColor\" class=\"pcr-current-color\"></div>\\n            </div>\\n\\n            <div :obj=\"palette\" class=\"pcr-color-palette\">\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"palette\" class=\"pcr-palette\" tabindex=\"0\" aria-label=\"${c(\"aria:palette\")}\" role=\"listbox\"></div>\\n            </div>\\n\\n            <div :obj=\"hue\" class=\"pcr-color-chooser\" ${a(e.hue)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-hue pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:hue\")}\" role=\"slider\"></div>\\n            </div>\\n\\n            <div :obj=\"opacity\" class=\"pcr-color-opacity\" ${a(e.opacity)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-opacity pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:opacity\")}\" role=\"slider\"></div>\\n            </div>\\n          </div>\\n\\n          <div class=\"pcr-swatches ${e.palette?\"\":\"pcr-last\"}\" :ref=\"swatches\"></div>\\n\\n          <div :obj=\"interaction\" class=\"pcr-interaction\" ${a(Object.keys(e.interaction).length)}>\\n            <input :ref=\"result\" class=\"pcr-result\" type=\"text\" spellcheck=\"false\" ${a(e.interaction.input)} aria-label=\"${c(\"aria:input\")}\">\\n\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HEXA\" value=\"${s?\"HEX\":\"HEXA\"}\" type=\"button\" ${a(e.interaction.hex)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"RGBA\" value=\"${s?\"RGB\":\"RGBA\"}\" type=\"button\" ${a(e.interaction.rgba)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSLA\" value=\"${s?\"HSL\":\"HSLA\"}\" type=\"button\" ${a(e.interaction.hsla)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSVA\" value=\"${s?\"HSV\":\"HSVA\"}\" type=\"button\" ${a(e.interaction.hsva)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"CMYK\" value=\"CMYK\" type=\"button\" ${a(e.interaction.cmyk)}>\\n\\n            <input :ref=\"save\" class=\"pcr-save\" value=\"${c(\"btn:save\")}\" type=\"button\" ${a(e.interaction.save)} aria-label=\"${c(\"aria:btn:save\")}\">\\n            <input :ref=\"cancel\" class=\"pcr-cancel\" value=\"${c(\"btn:cancel\")}\" type=\"button\" ${a(e.interaction.cancel)} aria-label=\"${c(\"aria:btn:cancel\")}\">\\n            <input :ref=\"clear\" class=\"pcr-clear\" value=\"${c(\"btn:clear\")}\" type=\"button\" ${a(e.interaction.clear)} aria-label=\"${c(\"aria:btn:clear\")}\">\\n          </div>\\n        </div>\\n      </div>\\n    `),u=p.interaction;return u.options.find(t=>!t.hidden&&!t.classList.add(\"active\")),u.type=()=>u.options.find(t=>t.classList.contains(\"active\")),p})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const o=t.el.parentElement;t.el.nextSibling?o.insertBefore(e.app,t.el.nextSibling):o.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition=\"none\",t.useAsButton||(e.preview.lastColor.style.transition=\"none\")),this.hide()}_buildComponents(){const t=this,e=this.options.components,o=(t.options.sliders||\"v\").repeat(2),[n,i]=o.match(/^[vh]+$/g)?o:[],r=()=>this._color||(this._color=this._lastColor.clone()),s={palette:$({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o,n){if(!e.palette)return;const i=r(),{_root:s,options:a}=t,{lastColor:l,currentColor:c}=s.preview;t._recalc&&(i.s=100*o,i.v=100-100*n,i.v<0&&(i.v=0),t._updateOutput(\"slider\"));const p=i.toRGBA().toString(0);this.element.style.background=p,this.wrapper.style.background=`\\n                        linear-gradient(to top, rgba(0, 0, 0, ${i.a}), transparent),\\n                        linear-gradient(to left, hsla(${i.h}, 100%, 50%, ${i.a}), rgba(255, 255, 255, ${i.a}))\\n                    `,a.comparison?a.useAsButton||t._lastColor||(l.style.color=p):(s.button.style.color=p,s.button.classList.remove(\"clear\"));const u=i.toHEXA().toString();for(const{el:e,color:o}of t._swatchColors)e.classList[u===o.toHEXA().toString()?\"add\":\"remove\"](\"pcr-active\");c.style.color=p}}),hue:$({lock:\"v\"===i?\"h\":\"v\",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.hue||!e.palette)return;const n=r();t._recalc&&(n.h=360*o),this.element.style.backgroundColor=`hsl(${n.h}, 100%, 50%)`,s.palette.trigger()}}),opacity:$({lock:\"v\"===n?\"h\":\"v\",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.opacity||!e.palette)return;const n=r();t._recalc&&(n.a=Math.round(100*o)/100),this.element.style.background=`rgba(0, 0, 0, ${n.a})`,s.palette.trigger()}}),selectable:S({elements:t._root.interaction.options,className:\"active\",onchange(e){t._representation=e.target.getAttribute(\"data-type\").toUpperCase(),t._recalc&&t._updateOutput(\"swatch\")}})};this._components=s}_bindEvents(){const{_root:t,options:e}=this,o=[r(t.interaction.clear,\"click\",()=>this._clearColor()),r([t.interaction.cancel,t.preview.lastColor],\"click\",()=>{this._emit(\"cancel\"),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),r(t.interaction.save,\"click\",()=>{!this.applyColor()&&!e.showAlways&&this.hide()}),r(t.interaction.result,[\"keyup\",\"input\"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit(\"change\",this._color,\"input\",this),this._emit(\"changestop\",\"input\",this)),t.stopImmediatePropagation()}),r(t.interaction.result,[\"focus\",\"blur\"],t=>{this._recalc=\"blur\"===t.type,this._recalc&&this._updateOutput(null)}),r([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],[\"mousedown\",\"touchstart\"],()=>this._recalc=!0,{passive:!0})];if(!e.showAlways){const n=e.closeWithKey;o.push(r(t.button,\"click\",()=>this.isOpen()?this.hide():this.show()),r(document,\"keyup\",t=>this.isOpen()&&(t.key===n||t.code===n)&&this.hide()),r(document,[\"touchstart\",\"mousedown\"],e=>{this.isOpen()&&!c(e).some(e=>e===t.app||e===t.button)&&this.hide()},{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};u(t.interaction.result,(t,o,n)=>{const i=e[this.getColorRepresentation().toLowerCase()];if(i){const e=i[n],r=t+(e>=100?1e3*o:o);return r<=0?0:Number((r<e?r:e).toPrecision(3))}return t})}if(e.autoReposition&&!e.inline){let t=null;const n=this;o.push(r(window,[\"scroll\",\"resize\"],()=>{n.isOpen()&&(e.closeOnScroll&&n.hide(),null===t?(t=setTimeout(()=>t=null,100),requestAnimationFrame((function e(){n._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout(()=>t=null,100)))},{capture:!0}))}this._eventBindings=o}_rePositioningPicker(){const{options:t}=this;if(!t.inline){if(!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+\"px\",t.style.left=(window.innerWidth-e.width)/2+\"px\"}}}_updateOutput(t){const{_root:e,_color:o,options:n}=this;if(e.interaction.type()){const t=\"to\"+e.interaction.type().getAttribute(\"data-type\");e.interaction.result.value=\"function\"==typeof o[t]?o[t]().toString(n.outputPrecision):\"\"}!this._initializingActive&&this._recalc&&this._emit(\"change\",o,t,this)}_clearColor(t=!1){const{_root:e,options:o}=this;o.useAsButton||(e.button.style.color=\"rgba(0, 0, 0, 0.15)\"),e.button.classList.add(\"clear\"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit(\"save\",null),this._emit(\"clear\"))}_parseLocalColor(t){const{values:e,type:o,a:n}=A(t),{lockOpacity:i}=this.options,r=void 0!==n&&1!==n;return e&&3===e.length&&(e[3]=void 0),{values:!e||i&&r?null:e,type:o}}_t(t){return this.options.i18n[t]||x.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const o=this._eventListener[t]||[],n=o.indexOf(e);return~n&&o.splice(n,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:o}=this,n=C(...e),i=a(`<button type=\"button\" style=\"color: ${n.toRGBA().toString(0)}\" aria-label=\"${this._t(\"btn:swatch\")}\"/>`);return o.swatches.appendChild(i),t.push({el:i,color:n}),this._eventBindings.push(r(i,\"click\",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit(\"swatchselect\",n),this._emit(\"change\",n,\"swatch\",this)})),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:o}=e;return this._root.swatches.removeChild(o),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:o}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.color=n,this.options.useAsButton||(o.style.color=n),o.classList.remove(\"clear\"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit(\"save\",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(t=>s(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return this._root.app.classList.remove(\"visible\"),this._emit(\"hide\"),this}show(){return this.options.disabled||(this._root.app.classList.add(\"visible\"),this._rePositioningPicker(),this._emit(\"show\",this._color)),this}isOpen(){return this._root.app.classList.contains(\"visible\")}setHSVA(t=360,e=0,o=0,n=1,i=!1){const r=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||o<0||o>100||n<0||n>1)return!1;this._color=C(t,e,o,n);const{hue:s,opacity:a,palette:l}=this._components;return s.update(t/360),a.update(n),l.update(e/100,1-o/100),i||this.applyColor(),r&&this._updateOutput(),this._recalc=r,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:o,type:n}=this._parseLocalColor(t);if(o){const t=n.toUpperCase(),{options:i}=this._root.interaction,r=i.find(e=>e.getAttribute(\"data-type\")===t);if(r&&!r.hidden)for(const t of i)t.classList[t===r?\"add\":\"remove\"](\"active\");return!!this.setHSVA(...o,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find(e=>e.getAttribute(\"data-type\").startsWith(t)&&!e.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add(\"disabled\"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove(\"disabled\"),this}}L(x,\"utils\",n),L(x,\"version\",\"1.8.0\"),L(x,\"I18N_DEFAULTS\",{\"ui:dialog\":\"color picker dialog\",\"btn:toggle\":\"toggle color picker dialog\",\"btn:swatch\":\"color swatch\",\"btn:last-color\":\"use previous color\",\"btn:save\":\"Save\",\"btn:cancel\":\"Cancel\",\"btn:clear\":\"Clear\",\"aria:btn:save\":\"save and close\",\"aria:btn:cancel\":\"cancel and close\",\"aria:btn:clear\":\"clear and close\",\"aria:input\":\"color input field\",\"aria:palette\":\"color selection area\",\"aria:hue\":\"hue selection slider\",\"aria:opacity\":\"selection slider\"}),L(x,\"DEFAULT_OPTIONS\",{appClass:null,theme:\"classic\",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:\"body\",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:\"#42445a\",defaultRepresentation:null,position:\"bottom-middle\",adjustableNumbers:!0,showAlways:!1,closeWithKey:\"Escape\"}),L(x,\"create\",t=>new x(t));e.default=x}]).default}));\n//# sourceMappingURL=pickr.min.js.map"]}