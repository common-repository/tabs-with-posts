!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return r(e[a][1][t]||t)}),u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){(function(t){(function(){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==t&&t.jQuery,i.default((function(){i.default(".twrpb-collapsible").each((function(){var t=i.default(this),e="1"===t.attr("data-twrpb-is-collapsed")&&0;t.accordion({active:e,heightStyle:"content",collapsible:!0,icons:!1})}))}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t("../twrpb-hidden/twrpb-hidden");r.default(document).on("click",".twrpb-docs__icon-spoiler-btn",(function(){var t=r.default(this).parent(".twrpb-docs__icon-spoiler-category").find(".twrpb-docs__spoiler");o.toggleDisplay(t)}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../twrpb-hidden/twrpb-hidden":3}],3:[function(t,e,n){(function(t){(function(){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.showLeft=n.hideLeft=n.hideUp=n.showUp=n.toggleDisplay=void 0;var i=e("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==t&&t.jQuery;var r=!1,o=[];function a(t,e){r=!0;var n={name:t,parameters:e};o.push(n)}function s(){if(o.length){var t=o.pop();r=0!==o.length,t.name.apply(null,t.parameters)}r=0!==o.length}function l(){return r}function d(){r=!0}function u(t){i.default(t).slideUp({duration:500,complete:function(){p(t)}})}function c(t){i.default(t).slideDown({duration:500,complete:function(){f(t)}})}function p(t){i.default(t).addClass("twrpb-hidden")}function f(t){i.default(t).removeClass("twrpb-hidden").css("display","")}n.toggleDisplay=function(t){t.hasClass("twrpb-hidden")?c(t):u(t)},n.hideUp=u,n.showUp=c,n.hideLeft=function t(e,n){if(void 0===n&&(n=""),l())a(t,[e,n]);else{d();var r=function(){p(e),s()};"remove"===n&&(r=function(){!function(t){i.default(t).remove()}(e),s()}),i.default(e).hide({effect:"blind",duration:300,direction:"left",complete:r})}},n.showLeft=function t(e,n){void 0===n&&(n=""),l()?a(t,[e,n]):(d(),"hide_first"===n&&e.addClass("twrpb-hidden"),i.default(e).show({effect:"blind",duration:300,direction:"left",complete:function(){f(e),s()}}))}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t("../admin-blocks/twrpb-hidden/twrpb-hidden");function a(){var t=r.default("#twrpb-general-settings__human_readable_date-setting-true"),e=r.default("#twrpb-general-settings__date_format-wrapper");t.is(":checked")?o.hideUp(e):o.showUp(e)}r.default(a),r.default(document).on("click",a);var s="twrpb-general-settings__icon-preview",l='<span class="'+s+'"><svg><use/></svg></span>',d=["author_icon","date_icon","category_icon","comments_icon","comments_disabled_icon","views_icon"];function u(t){var e=r.default('select[name="'+t+'"');if(0!==e.length){var n=e.parent(),i=String(e.val());n.find("."+s).remove(),r.default(l).insertBefore(e),n.find("use").attr("href","#"+i)}}r.default((function(){for(var t=0,e=d;t<e.length;t++){u(e[t])}})),r.default(document).on("change",function(){for(var t="",e=0,n=d;e<n.length;e++){t&&(t+=", "),t=t+'select[name="'+n[e]+'"]'}return t}(),(function(){var t=String(r.default(this).attr("name"));if(!t)return;u(t)}));var c="twrpb-general-select__rating_icons_preview",p=l,f=null;function h(){null===f&&function(){var t=r.default("#twrpb-general-settings__rating_pack_icons-wrapper");if(0!==t.length){var e=t.attr("data-twrpb-rating-packs");if("string"==typeof e)try{f=JSON.parse(e)}catch(t){}}}();var t=r.default('select[name="rating_pack_icons"]');if(0!==t.length){var e=t.parent(),n=String(t.val());if(n in f&&"empty"in f[n]&&"half"in f[n]&&"full"in f[n]){var i=f[n].empty,o=f[n].half,a=f[n].full;e.find("."+c).remove(),e.prepend('<span class="twrpb-general-select__rating_icons_preview"></span>');var s=e.find("."+c);r.default(p).appendTo(s).find("use").attr("href","#"+a),r.default(p).appendTo(s).find("use").attr("href","#"+o),r.default(p).appendTo(s).find("use").attr("href","#"+i)}}}r.default(h),r.default(document).on("change",'select[name="rating_pack_icons"]',h);var w="#twrpb-general-settings__comments_icon-setting",b="#twrpb-general-settings__comments_disabled_icon-setting",g=null,_="comments_disabled_icon_auto_select";function v(){if(null===g&&function(){var t=r.default("#twrpb-general-settings__comments_disabled_icon-wrapper");if(0!==t.length){var e=t.attr("data-twrpb-related-comment-icons");if("string"==typeof e)try{g=JSON.parse(e)}catch(t){}}}(),null!==g){var t=String(r.default(w).val());if(g[t]){var e=String(g[t]);r.default(b).val(e).trigger("change")}}}r.default(y),r.default(document).on("change",w,(function(){k()&&v()})),r.default(document).on("change",'input[name="'+_+'"]',y),r.default(document).on("submit",(function(){j()}));var m=!0;function y(){k()?(r.default(b).prop("disabled",!0),m||v(),m=!1):j()}function k(){var t=String(r.default('input[name="'+_+'"]:checked').val());return 1===parseInt(t)||"true"===t}function j(){r.default(b).prop("disabled",!1)}var S=".twrpb-general-image",x=".twrpb-general-image__img-src",A=".twrpb-general-image__img-preview";r.default((function(){r.default(".twrpb-general-image__btn").on("click",(function(t){var e;t.preventDefault();var n=r.default(this),i=n.closest(S).find(x),o=n.closest(S).find(A),a=i.attr("data-twrpb-media-args");return a=JSON.parse(a),void 0===e&&(e=wp.media(a)).on("select",(function(){var t=e.state().get("selection").first().toJSON();i.val(t.id),o.attr("src",t.url)})),e.open(n),!1})),r.default(".twrpb-general-image__clear-btn").on("click",(function(t){t.preventDefault();var e=r.default(this),n=e.closest(S).find(x),i=e.closest(S).find(A),o=n.attr("data-twrpb-default-image");i.attr("src",o),n.val("")}))})),r.default(document).on("click","#twrpb-refresh-cache-button",(function(t){t.preventDefault();var e=r.default(this),n=" ("+e.attr("data-twrpb-refresh-cache-waiting")+")",i=" ("+e.attr("data-twrpb-refresh-cache-failed")+")",o=" ("+e.attr("data-twrpb-refresh-cache-success")+")",a=e.attr("data-twrpb-refresh-cache-nonce"),s=e.text().replace(n,"").replace(i,"").replace(o,"");e.html(s+n),r.default.ajax({type:"post",dataType:"json",cache:!1,data:{action:"twrp_refresh_widget_cache",nonce:a},url:ajaxurl,complete:function(t){200===t.status?e.html(s+o):e.html(s+i)}})}));r.default(document).on("click","#twrpb-general-settings__translations-show-btn",(function(t){t.preventDefault(),r.default("#twrpb-general-settings__translations-hidden").slideToggle()}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../admin-blocks/twrpb-hidden/twrpb-hidden":3}],5:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a=null;r.default((function(){var t=document.getElementById("twrpb-advanced-settings__textarea");t&&(a=wp.CodeMirror.fromTextArea(t,{mode:"application/json",theme:"material-darker",indentUnit:4,indentWithTabs:!0,lineNumbers:!0,autoRefresh:!0}))}));var s="#twrpb-advanced-settings__is-applied-selector",l="#twrpb-advanced-settings__textarea-wrapper";function d(){"not_apply"===String(r.default(s).val())?o.hideUp(r.default(l)):o.showUp(r.default(l))}r.default(d),r.default(document).on("change",s,d);var u="#twrpb-setting-note__invalid_json_warning";function c(){if(null!==a){var t=a.getValue();!function(t){try{var e=JSON.parse(t);if(e&&"object"==typeof e)return!0}catch(t){}return!1}(t)&&""!==t?o.showUp(r.default(u)):o.hideUp(r.default(u))}}r.default(c),r.default(document).on("change keyup paste","#twrpb-advanced-settings__textarea-wrapper",c)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],6:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==e&&e.jQuery;var o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a=r.default("#twrpb-author-settings__select_type"),s=r.default("#twrpb-author-settings__author-search-wrap"),l=r.default("#twrpb-author-settings__js-authors-list");r.default(document).on("change","#twrpb-author-settings__select_type",(function(){var t=a.val();"IN"===t||"OUT"===t?(o.showUp(s),o.showUp(l)):(o.hideUp(s),o.hideUp(l))})),r.default((function(){if(0===d.length)return;d.autocomplete({source:u,minLength:2}).autocomplete("widget").addClass("twrpb-jqueryui-autocomplete-menu")}));var d=r.default("#twrpb-author-settings__js-author-search");function u(t,e){var n=new wp.api.collections.Users,i=[];function o(){for(var t=0;t<n.length;t++){var o=void 0,a=void 0;try{s=n.models[t].attributes.name,o=r.default("<div>").html(s).text(),a=n.models[t].attributes.id}catch(t){continue}i.push({value:o,label:o,id:a})}var s;e(i)}n.fetch({data:{_fields:"id,name",search:t.term}}),n.once("sync",o),n.once("error",(function(){console.error("TWRP Backbone error when getting users."),o()})),n.once("invalid",(function(){console.error("TWRP Backbone invalid when getting users."),o()}))}var c=r.default("#twrpb-author-settings__js-author-ids"),p=r.default("#twrpb-author-settings__js-authors-list"),f="data-twrpb-aria-remove-label",h=r.default('<div class="twrpb-display-list__item twrpb-author-settings__author-item"><div class="twrpb-author-settings__author-item-name"></div><button class="twrpb-display-list__item-remove-btn twrpb-author-settings__js-author-remove-btn" type="button"><span class="dashicons dashicons-no"></span></button></div>'),w="data-author-id";function b(t,e){!function(t,e){if(function(t){if(p.find('[data-author-id="'+t+'"]').length)return!0;return!1}(t))return;var n=h.clone(),i=function(){var t=p.attr(f);if(!t)return"";return t}().replace("%s",e);n.find(".twrpb-author-settings__author-item-name").text(e),n.find(".twrpb-display-list__item-remove-btn").attr("aria-label",i),n.attr(w,t),p.append(n),o.showLeft(n,"hide_first")}(t,e),function(t){if(function(t){var e=String(c.val());if(t=Number(t),!(e&&t>0))return!1;if(-1!==e.split(";").map(n).indexOf(t))return!0;return!1;function n(t){return parseInt(t)}}(t))return;t=String(t);var e=c.val(),n="";n=e?e+";"+t:t;c.val(n)}(t),_()}r.default(document).on("click","#twrpb-author-settings__js-author-add-btn",(function(){var t,e,n=d.autocomplete("instance");try{var i=n.selectedItem;t=i.id,e=i.label}catch(t){return}b(t,e)})),r.default(document).on("keypress","#twrpb-author-settings__js-author-search",(function(t){if(13!==(t.keyCode?t.keyCode:t.which))return;t.preventDefault();var e,n,i=d.autocomplete("instance");try{var r=i.selectedItem;e=r.id,n=r.label}catch(t){return}b(e,n)})),r.default(document).on("click",".twrpb-author-settings__js-author-remove-btn",(function(){var t=Number(r.default(this).closest("[data-author-id]").attr(w));if(!(t>0))return;!function(t){(function(t){var e=p.find('[data-author-id="'+t+'"]');e.removeAttr(w),o.hideLeft(e,"remove")})(t),function(t){var e=String(c.val());t=String(t);var n=e.split(";"),i=n.indexOf(t);-1!==i&&(n.splice(i,1),c.val(n.join(";")))}(t),_()}(t)}));var g=r.default("#twrpb-author-settings__js-no-authors-selected");function _(){p.find("[data-author-id]").length>0&&o.hideLeft(g),p.find("[data-author-id]").length>0||o.showLeft(g)}function v(){var t=p.find(".twrpb-author-settings__author-item"),e=[];t.each((function(){var t=Number(r.default(this).attr(w));t>0&&e.push(t)})),c.val(e.join(";"))}r.default(_),r.default((function(){p.sortable({placeholder:"twrpb-display-list__placeholder",stop:v})}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],7:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==e&&e.jQuery;var o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a=r.default("#twrpb-cat-settings__js-cat-dropdown"),s=r.default("#twrpb-cat-settings__cat-ids"),l="data-cat-id",d=r.default("#twrpb-cat-settings__cat-list-wrap"),u=d.find(".twrpb-display-list__empty-msg"),c=r.default('<div class="twrpb-display-list__item twrpb-cat-settings__cat-list-item"><div class="twrpb-display-list__item-name twrpb-cat-settings__cat-item-name"></div><button class="twrpb-display-list__item-remove-btn twrpb-cat-settings__cat-remove-btn" type="button"><span class="dashicons dashicons-no"></span></button></div>');function p(){d.find("[data-cat-id]").length>0||o.showLeft(u),d.find("[data-cat-id]").length>0&&o.hideLeft(u)}r.default(document).on("click","#twrpb-cat-settings__add-cat-btn",(function(){var t=a.find(":selected").val(),e=g(a.find(":selected").text());t>0&&(function(t){var e,n=s.val();e=n&&t?n+";"+t:t;(function(t){var e=s.val();if(!e)return!1;if(-1!==e.split(";").indexOf(t))return!0;return!1})(t)||s.val(e)}(t),function(t,e){if(!function(t){var e=d.find(".twrpb-cat-settings__cat-list-item"),n=!1;if(e.each((function(){t===r.default(this).attr(l)&&(n=!0)})),n)return!0;return!1}(t)){var n=c.clone(),i=function(){var t=d.attr("data-twrpb-aria-remove-label");if(!t)return"";return t}().replace("%s",g(e));n.find(".twrpb-cat-settings__cat-item-name").text(g(e)),n.find(".twrpb-display-list__item-remove-btn").attr("aria-label",i),n.attr(l,t),d.append(n),o.showLeft(n,"hide_first"),p()}}(t,e))})),r.default(document).on("click",".twrpb-cat-settings__cat-remove-btn",(function(){var t=String(r.default(this).closest("[data-cat-id]").attr(l));(function(t){var e=d.find('[data-cat-id="'+t+'"]');e.removeAttr(l),p(),o.hideLeft(e,"remove")})(t),function(t){var e=String(s.val()).split(";"),n=e.indexOf(String(t));-1!==n&&(e.splice(n,1),s.val(e.join(";")))}(t)})),r.default((function(){d.sortable({placeholder:"twrpb-display-list__placeholder",stop:_})}));var f=r.default("#twrpb-cat-settings__type"),h=r.default("#twrpb-cat-settings__js-select-relation-wrap"),w=r.default("#twrpb-cat-settings__js-settings-wrapper");function b(){var t=f.val();"NA"===t?(o.hideUp(w),o.hideUp(h)):"IN"===t?(h.removeClass("twrpb-hidden"),r.default(w).css("opacity",.99),setTimeout((function(){r.default(w).css("opacity",1)}),20),o.showUp(w),o.showUp(h)):(o.showUp(w),o.hideUp(h))}function g(t){return t=(t=t.replace(/\([^(]*\)$/,"")).trim()}function _(){var t=d.find(".twrpb-cat-settings__cat-list-item"),e="";t.each((function(){var t=String(r.default(this).attr(l));e?e+=";"+t:e=t})),s.val(e)}r.default(b),r.default(document).on("change","#twrpb-cat-settings__type",b)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],8:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a=r.default("#twrpb-comments-settings__js-comparator"),s=r.default("#twrpb-comments-settings__js-num_comments");function l(){"NA"===a.val()?o.hideUp(s):o.showUp(s)}r.default(l),r.default(document).on("change","#twrpb-comments-settings__js-comparator",l)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],9:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==e&&e.jQuery;var o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a=r.default("#twrpb-date-settings__after"),s=r.default("#twrpb-date-settings__before");r.default((function(){if(t=document.createElement("input"),e="not-a-date",t.setAttribute("type","date"),t.setAttribute("value",e),t.value!==e)return;var t,e;var n={dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,beforeShow:function(){r.default("#ui-datepicker-div").addClass("twrpb-jqueryui-datepicker")}};a.datepicker(n),s.datepicker(n)}));var l=r.default("#twrpb-date-settings__js-date-type"),d=r.default("#twrpb-date-settings__js-last-period-wrapper"),u=r.default("#twrpb-date-settings__js-between-wrapper");function c(){"LT"===l.val()?o.showUp(d):o.hideUp(d)}function p(){"FT"===l.val()?o.showUp(u):o.hideUp(u)}r.default(c),r.default(document).on("change","#twrpb-date-settings__js-date-type",c),r.default(p),r.default(document).on("change","#twrpb-date-settings__js-date-type",p);var f="#twrpb-setting-note__post_date_setting_remember";function h(){var t=r.default("#twrpb-date-settings__js-last-days-input").val(),e=r.default("#twrpb-date-settings__js-custom").prop("checked");e&&!t||!e&&t?o.showUp(r.default(f)):o.hideUp(r.default(f))}r.default(h),r.default(document).on("keyup mouseup change click","#twrpb-date-settings__js-last-period-wrapper",h)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],10:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a="#twrpb-meta-setting__js-meta-type",s="#twrpb-meta-setting__js-meta-value-group";function l(){var t=r.default(a).val();"NOT EXISTS"===t||"EXISTS"===t?o.hideUp(r.default(s)):o.showUp(r.default(s))}r.default(l),r.default(document).on("change",a,l);var d="#twrpb-meta-setting__js-apply-meta-select",u="#twrpb-meta-setting__js-setting-wrapper";function c(){"NA"===String(r.default(d).val())?o.hideUp(r.default(u)):o.showUp(r.default(u))}r.default(c),r.default(document).on("change",d,c)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],11:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a=r.default("#twrpb-order-setting__js-first-order-group"),s=r.default("#twrpb-order-setting__js-second-order-group"),l=r.default("#twrpb-order-setting__js-third-order-group"),d="twrpb-order-setting__js-orderby",u=[a,s,l];function c(){for(var t=!1,e=0;e<u.length;e++)t?o.hideUp(u[e]):o.showUp(u[e]),"not_applied"===u[e].find("."+d).val()?(t=!0,o.hideUp(u[e].find(".twrpb-order-setting__js-order-type"))):o.showUp(u[e].find(".twrpb-order-setting__js-order-type"))}function p(){for(var t=0;t<u.length;t++)u[t].find("option").removeAttr("disabled");for(t=0;t<u.length;t++){var e=u[t].find("."+d).val();if("not_applied"!==e)for(var n=t+1;n<u.length;n++){var i=u[n].find("."+d),r=i.val();i.find('[value="'+e+'"]').attr("disabled","disabled"),r===e&&(i.val("not_applied"),i.trigger("change"))}}}r.default(c),r.default(document).on("change","."+d,c),r.default(p),r.default(document).on("change","."+d,p);var f=r.default("#twrpb-setting-note__ordering_by_post_id_warning");function h(){x(["ID","parent"],f)}r.default(h),r.default(document).on("change","."+d,h);var w=r.default("#twrpb-setting-note__order_by_comments_warning");function b(){for(var t=!1,e=[],n=0;n<u.length;n++){var i=String(r.default(u[n]).find("."+d).val());e.push(i)}0===e.indexOf("comment_count")&&1===e.indexOf("not_applied")&&(t=!0),t?o.showUp(w):o.hideUp(w)}r.default(b),r.default(document).on("change","."+d,b);var g=r.default("#twrpb-setting-note__order_by_search_note");function _(){x("relevance",g)}r.default(_),r.default(document).on("change","."+d,_);var v=r.default("#twrpb-setting-note__order_by_meta_note");function m(){x(["meta_value","meta_value_num"],v)}r.default(m),r.default(document).on("change","."+d,m);var y=r.default("#twrpb-setting-note__order_by_posts_in_note");function k(){x("post__in",y)}r.default(k),r.default(document).on("change","."+d,k);var j=r.default("#twrpb-setting-note__order_by_views_in_note");function S(){x(["twrp_post_views_order","twrp_post_rating_order","twrp_post_rating_count_order"],j)}function x(t,e){for(var n=!1,i=[],a=0;a<u.length;a++){var s=String(r.default(u[a]).find("."+d).val());if("not_applied"===s)break;i.push(s)}if("string"==typeof t||t instanceof String)-1!==i.indexOf(t)&&(n=!0);else for(a=0;a<t.length;a++)-1!==i.indexOf(t[a])&&(n=!0);n?o.showUp(e):o.hideUp(e)}r.default(S),r.default(document).on("change","."+d,S)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],12:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=o("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==e&&e.jQuery;var s=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),l=a.default("#twrpb-posts-settings__js-filter-type"),d=a.default("#twrpb-posts-settings__js-posts-list"),u=a.default("#twrpb-posts-settings__js-posts-search-wrap"),c=a.default("#twrpb-setting-note__post_settings_note");function p(){var t=l.val();"NA"===t?(s.hideUp(u),s.hideUp(d)):(s.showUp(u),s.showUp(d)),"IP"===t?s.showUp(c):s.hideUp(c)}a.default(p),a.default(document).on("change","#twrpb-posts-settings__js-filter-type",p);var f=a.default("#twrpb-posts-settings__js-posts-search");function h(t,e){return i(this,void 0,void 0,(function(){var n,i,o,a,s;return r(this,(function(r){switch(r.label){case 0:return n=wpApiSettings.root+wpApiSettings.versionString,i=n+"search?_fields=id,title&search="+t.term+"&page=1&per_page=10",[4,fetch(i)];case 1:return[4,r.sent().json()];case 2:for((o=r.sent())instanceof Array||console.error("TWRP error when fetching posts."),a=[],s=0;s<o.length;s++)a.push({value:k(o[s].title),label:k(o[s].title),id:o[s].id});return e(a),[2]}}))}))}a.default((function(){if(0===f.length)return;f.autocomplete({source:h,minLength:2}).autocomplete("widget").addClass("twrpb-jqueryui-autocomplete-menu")}));var w=a.default("#twrpb-posts-settings__js-posts-ids"),b="data-post-id",g=a.default('<div class="twrpb-display-list__item twrpb-posts-settings__post-item"><div class="twrpb-posts-settings__post-item-title"></div><button class="twrpb-display-list__item-remove-btn twrpb-posts-settings__js-post-remove-btn" type="button"><span class="dashicons dashicons-no"></span></button></div>');function _(t,e){!function(t,e){if(function(t){if(d.find('[data-post-id="'+t+'"]').length)return!0;return!1}(t))return;var n=g.clone(),i=function(){var t=d.attr("data-twrpb-aria-remove-label");if(!t)return"";return t}().replace("%s",e);n.find(".twrpb-posts-settings__post-item-title").text(e),n.find(".twrpb-display-list__item-remove-btn").attr("aria-label",i),n.attr(b,t),d.append(n),s.showLeft(n,"hide_first")}(t,e),function(t){if(function(t){var e=String(w.val());if(t=Number(t),!(e&&t>0))return!1;if(-1!==e.split(";").map(n).indexOf(t))return!0;return!1;function n(t){return parseInt(t)}}(t))return;t=String(t);var e=w.val(),n="";n=e?e+";"+t:t;w.val(n)}(t),m()}a.default(document).on("click","#twrpb-posts-settings__js-posts-add-btn",(function(){var t,e,n=f.autocomplete("instance");try{var i=n.selectedItem;t=i.id,e=i.label}catch(t){return}_(t,e)})),a.default(document).on("keypress","#twrpb-posts-settings__js-posts-search",(function(t){if(13!==(t.keyCode?t.keyCode:t.which))return;t.preventDefault();var e,n,i=f.autocomplete("instance");try{var r=i.selectedItem;e=r.id,n=r.label}catch(t){return}_(e,n)})),a.default(document).on("click",".twrpb-posts-settings__js-post-remove-btn",(function(){var t=a.default(this).closest("[data-post-id]").attr(b);if(!((t=Number(t))>0))return;!function(t){(function(t){var e=d.find('[data-post-id="'+t+'"]');e.removeAttr(b),s.hideLeft(e,"remove")})(t),function(t){var e=String(w.val());t=String(t);var n=e.split(";"),i=n.indexOf(t);-1!==i&&(n.splice(i,1),w.val(n.join(";")))}(t),m()}(t)}));var v=a.default("#twrpb-posts-settings__js-no-posts-selected");function m(){d.find("[data-post-id]").length>0&&s.hideLeft(v),d.find("[data-post-id]").length>0||s.showLeft(v)}function y(){var t=d.find(".twrpb-posts-settings__post-item").filter("[data-post-id]"),e=[];t.each((function(){var t=a.default(this).attr(b);(t=+t)>0&&e.push(t)})),w.val(e.join(";"))}function k(t){return a.default("<div>").html(t).text()}a.default(m),a.default((function(){d.sortable({placeholder:"twrpb-display-list__placeholder",stop:y})}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],13:[function(t,e,n){(function(t){(function(){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);i.default(document).on("click",".twrpb-queries-table__delete-link",(function(t){var e=i.default("#twrpb-query-settings__before-deleting-confirmation").attr("data-twrpb-query-delete-confirm");confirm(e)||t.preventDefault()}));i.default((function(){i.default("#twrpb-query-settings__query_generated_array_container").accordion({active:!1,heightStyle:"content",collapsible:!0,icons:!1})}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,n){(function(t){(function(){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null),r=".twrpb-query-settings__setting",o="data-twrpb-setting-name",a="#twrpb-query-settings__predefined_template_selector",s="data-twrpb-confirm-template-changes",l=".twrpb-collapsible";function d(t){for(var e=t.attr(o),n=JSON.parse(t.attr("data-twrpb-default-settings")),r=0,a=Object.keys(n);r<a.length;r++){var s=a[r],l=n[s],d=e+"["+s+"]",c=i.default('[name="'+d+'"], [type="checkbox"][name^="'+d+'"]');0!==c.length&&u(c,l)}}function u(t,e){return"select"===p(t)?(t.val(e),void c(t)):"checkbox"!==p(t)?"text"===p(t)||"number"===p(t)||"date"===p(t)?(t.val(e),void c(t)):"radio"===p(t)?("string"==typeof e||e instanceof String||(e=""),void t.each((function(t,n){var r=i.default(n);r.prop("checked")&&!r.is('[value="'+e+'"]')&&(r.prop("checked",!1),c(r)),r.is('[value="'+e+'"]')&&!r.prop("checked")&&(r.prop("checked",!0),c(r))}))):void("textarea"===p(t)&&(t.val(e),t.next().is(".CodeMirror")&&t.next().get(0).CodeMirror&&t.next().get(0).CodeMirror.setValue(""),c(t))):void(Array.isArray(e)&&t.each((function(t,n){var r=i.default(n);-1===e.indexOf(String(r.val()))&&!0===r.prop("checked")&&(r.prop("checked",!1),c(r)),-1!==e.indexOf(String(r.val()))&&!1===r.prop("checked")&&(r.prop("checked",!0),c(r))})))}function c(t){t.trigger("change")}function p(t){return t.is("select")?"select":t.is('input[type="checkbox"]')?"checkbox":t.is('input[type="text"]')?"text":t.is('input[type="number"]')?"number":t.is('input[type="date"]')?"date":t.is('input[type="radio"]')?"radio":t.is("textarea")?"textarea":null}i.default(document).on("click","#twrpb-query-settings__apply_template_btn",(function(){var t,e=i.default(a),n=String(e.val());try{t=JSON.parse(e.attr("data-twrpb-templates"))}catch(t){return!1}var c=t[n];if(void 0===c)return;if(!function(){var t=i.default(a).attr(s);t||(t="This will modify all the current settings to the specific template. Are you sure?");return confirm(t)}())return;!function(){for(var t=i.default(r).not("["+o+'="query_name"]'),e=0;e<t.length;e++)d(t.eq(e))}();for(var p=function(t){var e=c[t];if(void 0===e)return"continue";var n=i.default('[name="'+t+'"]');0===n.length&&i.default('[name^="'+t+'"]'),u(n,e),setTimeout((function(){!function(t){var e=t.closest(l);if(void 0===e.accordion("instance"))return;e.accordion("option","active",0)}(n)}),300)},f=0,h=Object.keys(c);f<h.length;f++){var w=h[f];p(w)}}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a=r.default("#twrpb-search-setting__js-search-input"),s=r.default("#twrpb-setting-note__search_query_too_short_warning");function l(){var t=String(a.val()).length;0!==t&&t<4?o.showUp(s):o.hideUp(s)}r.default(l),r.default(document).on("change","#twrpb-search-setting__js-search-input",l)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],16:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=t("../../admin-blocks/twrpb-hidden/twrpb-hidden"),a=r.default("#twrpb-statuses-settings__js-apply-select"),s=r.default("#twrpb-statuses-settings__js-statuses-wrapper");function l(){"not_applied"===a.val()?o.hideUp(s):o.showUp(s)}r.default(document).on("change","#twrpb-statuses-settings__js-apply-select",l),r.default(l)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../admin-blocks/twrpb-hidden/twrpb-hidden":3}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t("./admin-blocks/twrpb-hidden/twrpb-hidden"),t("./admin-blocks/twrpb-collapsible/twrpb-collapsible"),t("./admin-blocks/twrpb-docs/twrpb-docs"),t("./general-settings/twrpb-general-settings"),t("./query-settings/twrpb-advanced-settings/twrpb-advanced-settings"),t("./query-settings/twrpb-author-settings/twrpb-author-settings"),t("./query-settings/twrpb-cat-settings/twrpb-cat-settings"),t("./query-settings/twrpb-comments-settings/twrpb-comments-settings"),t("./query-settings/twrpb-date-settings/twrpb-date-settings"),t("./query-settings/twrpb-meta-setting/twrpb-meta-setting"),t("./query-settings/twrpb-order-setting/twrpb-order-setting"),t("./query-settings/twrpb-posts-settings/twrpb-posts-settings"),t("./query-settings/twrpb-query-settings/twrpb-query-settings"),t("./query-settings/twrpb-query-templates/twrpb-query-templates"),t("./query-settings/twrpb-search-setting/twrpb-search-setting"),t("./query-settings/twrpb-statuses-settings/twrpb-statuses-settings"),t("./widget-blocks/twrpb-widget-form"),t("./widget-blocks/twrpb-meta-tooltip"),t("./widget-blocks/twrpb-widget-components"),t("./widget-blocks/twrpb-sync-widget-query-settings"),t("./widget-blocks/twrpb-color-picker"),n.default={}},{"./admin-blocks/twrpb-collapsible/twrpb-collapsible":1,"./admin-blocks/twrpb-docs/twrpb-docs":2,"./admin-blocks/twrpb-hidden/twrpb-hidden":3,"./general-settings/twrpb-general-settings":4,"./query-settings/twrpb-advanced-settings/twrpb-advanced-settings":5,"./query-settings/twrpb-author-settings/twrpb-author-settings":6,"./query-settings/twrpb-cat-settings/twrpb-cat-settings":7,"./query-settings/twrpb-comments-settings/twrpb-comments-settings":8,"./query-settings/twrpb-date-settings/twrpb-date-settings":9,"./query-settings/twrpb-meta-setting/twrpb-meta-setting":10,"./query-settings/twrpb-order-setting/twrpb-order-setting":11,"./query-settings/twrpb-posts-settings/twrpb-posts-settings":12,"./query-settings/twrpb-query-settings/twrpb-query-settings":13,"./query-settings/twrpb-query-templates/twrpb-query-templates":14,"./query-settings/twrpb-search-setting/twrpb-search-setting":15,"./query-settings/twrpb-statuses-settings/twrpb-statuses-settings":16,"./widget-blocks/twrpb-color-picker":18,"./widget-blocks/twrpb-meta-tooltip":19,"./widget-blocks/twrpb-sync-widget-query-settings":20,"./widget-blocks/twrpb-widget-components":21,"./widget-blocks/twrpb-widget-form":22}],18:[function(t,e,n){(function(e){(function(){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),o=i(t("@simonwep/pickr"));function a(){var t=r.default(".twrpb-color-picker"),e=[];"object"==typeof TwrpPickrTranslations&&(e=TwrpPickrTranslations);var n="body";r.default("#widgets-right").length&&(n="#widgets-right"),t.each((function(){var t=r.default(this).parent().find("input"),i=String(t.val());i||(i=null);var a=o.default.create({el:this,theme:"monolith",container:n,default:i,appClass:"twrpb-pickr",i18n:e,swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)"],defaultRepresentation:"RGBA",components:{preview:!0,opacity:!0,hue:!0,interaction:{input:!0,cancel:!1,clear:!0,save:!0}}}).on("save",(function(e){e?t.val(e.toRGBA().toString(0)):t.val(""),t.change(),a.hide()}));t.data("pickr",a),a.setColorRepresentation("RGBA")}))}r.default(a),r.default(document).on("widget-updated widget-added twrpb-artblock-added twrpb-query-added",a)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@simonwep/pickr":23}],19:[function(t,e,n){(function(t){(function(){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==t&&t.jQuery;i.default(document).on("click",".twrpb-widget-form__artblock-tooltip-btn",(function(t){t.preventDefault(),i.default(this).parent().find(".twrpb-widget-form__artblock-tooltip-content").slideToggle()}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){(function(t){(function(){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null),r=".twrpb-widget-form",o=".twrpb-widget-form__selected-query";function a(){i.default(document).find('[type="checkbox"][name$="sync_query_settings]"]').each((function(){var t=i.default(this).prop("checked"),e=i.default(this).closest(r);t?function(t){t.addClass("twrpb-widget-form--js-sync-settings")}(e):function(t){t.removeClass("twrpb-widget-form--js-sync-settings")}(e)}))}function s(t){t.find(o).eq(0).find("input, select").each((function(){c(i.default(this))}))}function l(){i.default(document).on("change",".twrpb-widget-form--js-sync-settings "+o,u)}function d(){i.default(document).off("change",".twrpb-widget-form--js-sync-settings "+o,u)}function u(t){c(i.default(t.target))}function c(t){var e=t.attr("name");if(function(t){if(t.is('[name$="[display_title]"]'))return!1;return!0}(t)){var n=t.closest(r).find(o),a=e.replace(/widget-twrp_tabs_with_recommended_posts\[\d+\]\[\d+\]/,""),s=n.find('[name$="'+a+'"]');!function(t){var e=!1,n=t.eq(0);String(n.attr("name")).includes("[article_block]")&&(e=!0);e&&(d(),t.each((function(){i.default(this).trigger("change")})),l())}(function(t,e){var n=p(t),r=t.val(),o=i.default();return e.each((function(){var e=i.default(this);if("checkbox"===n){var a=t.prop("checked");a!==e.prop("checked")&&(o=o.add(e),e.prop("checked",a))}else if("select"===n||"number"===n||"hidden"===n){var s=e.val();r!==s&&(o=o.add(e),e.val(r))}else if("color"===n){s=e.val();r!==s&&(o=o.add(e),e.val(r)),r&&"string"==typeof r?e.next(".pickr").children("button").css("color",r):e.next(".pickr").children("button").css("color","rgba(0, 0, 0, 0.15)")}})),o}(t,s=function(t,e){"checkbox"===p(t)&&(e=e.not('[type="hidden"]'));return e}(t,s)))}}function p(t){return"hidden"===t.attr("type")&&t.next(".pickr, .twrpb-color-picker").length?"color":"hidden"===t.attr("type")&&0===t.next('[type="checkbox"]').length?"hidden":"checkbox"===t.attr("type")?"checkbox":t.is("select")?"select":"number"===t.attr("type")?"number":void 0}i.default(a),i.default(document).on("widget-updated widget-added",a),i.default(document).on("change",'[type="checkbox"][name$="sync_query_settings]"]',a),i.default(document).on("change",'[type="checkbox"][name$="sync_query_settings]"]',(function(){i.default(this).prop("checked")&&s(i.default(this).closest(r))})),i.default(document).on("twrpb-query-added twrpb-artblock-added",".twrpb-widget-form--js-sync-settings",(function(){var t=i.default(this);s(t),setTimeout((function(){s(t)}),100),setTimeout((function(){s(t)}),1e3)})),l()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(t,e,n){(function(t){(function(){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==t&&t.jQuery,i.default(o),i.default(document).on("widget-updated widget-added twrpb-artblock-added twrpb-query-added",o);var r=250;function o(){i.default(".twrpb-widget-components").each((function(t,e){var n=i.default(e),o=!1;(function(t){for(var e=t.find(".twrpb-widget-components__component-wrapper").find("input, select"),n=0;n<e.length;n++){var i=e.eq(n);if(i.is("select")&&!i.find("option").first().is(":selected"))return!0;if(i.is('[type="number"], [type="hidden"]')&&i.val())return!0}return!1})(n)&&(o=0),n.tabs("instance")||n.tabs({active:o,collapsible:!0,show:{effect:"slideDown",duration:r},hide:{effect:"slideUp",duration:r},beforeActivate:a})}))}function a(t,e){var n=e.oldTab,o=e.newTab,a=e.oldPanel,s=e.newPanel,l=n.attr("aria-controls"),d=o.attr("aria-controls"),u=i.default(t.currentTarget).closest(".twrpb-widget-components");l&&d?(function(t,e){var n=t.parent(),i=n.height();t.hide(),e.show();var r=n.height();e.hide(),t.show(),n.height(i),n.css({transition:"height 250ms ease"}),n.height(r),setTimeout((function(){n.height("auto"),n.css({transition:""})}),500)}(a,s),function(t){t.tabs("option","hide",{effect:"fadeOut",duration:r}),t.tabs("option","show",{effect:"fadeIn",duration:r})}(u)):function(t){t.tabs("option","hide",{effect:"slideUp",duration:r}),t.tabs("option","show",{effect:"slideDown",duration:r})}(u)}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(t,e,n){(function(t){(function(){"use strict";var e=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var o=r("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);"undefined"!=typeof window?window.jQuery:void 0!==t&&t.jQuery;var a="data-twrpb-widget-id",s="data-twrpb-query-id",l="data-twrpb-selected-artblock",d=".twrpb-widget-form__selected-queries-list",u=".twrpb-widget-form__select-query-to-add-btn",c=".twrpb-widget-form__query-loading",p=".twrpb-widget-form__failed-to-load-query-tab",f=".twrpb-widget-form__selected-queries",h=".twrpb-widget-form__article-block-settings-container";o.default(document).on("click",u,(function(){var t=o.default(this).closest(".twrpb-widget-form"),e=t.attr(a),n=String(t.find(".twrpb-widget-form__select-query-to-add").val());b(e,n)}));var w=!1;function b(t,n){return e(this,void 0,void 0,(function(){var e,r;return i(this,(function(i){return v(t,n)||w||(e=S(t),e.find(p).hide(),function(t){var e=S(t),n=e.find(u),i=e.find(c);n.addClass("twrpb-button--disabled"),i.show()}(t),w=!0,r=String(o.default("#twrpb-plugin-widget-ajax-nonce").attr("data-twrpb-plugin-widget-ajax-nonce")),o.default.ajax({url:ajaxurl,method:"POST",data:{action:"twrpb_widget_create_query_setting",widget_id:t,query_id:n,nonce:r}}).done((function(e){if(e.length>=25&&!v(t,n)){var i=S(t).find(".twrpb-widget-form__selected-queries-list");i.append(e),m(t),y(),i.trigger("twrpb-query-added")}else if(e.length<25){S(t).find(p).show()}})).fail((function(e){console.error("Something went wrong with the ajax callback in addQueryToListIfDoNotExist() function,"),S(t).find(p).show()})).always((function(){!function(t){var e=S(t),n=e.find(u),i=e.find(c);n.removeClass("twrpb-button--disabled"),i.hide()}(t),w=!1}))),[2]}))}))}function g(){A().each((function(){for(var t=o.default(this),e=t.attr(a),n=function(t){var e=t.find(f),n=String(e.val()).split(";");return n=n.filter(i);function i(t){return Boolean(t)}}(t),i=0;i<n.length;i++)b(e,n[i]);m(e)}))}function _(){A().each((function(){o.default(this).find(d).sortable({update:function(){m(k(this))}})}))}function v(t,e){return!!x(t,e).length}function m(t){var e=S(t),n=e.find(d).find(".twrpb-widget-form__selected-query"),i=[];n.each((function(){var t=o.default(this).attr(s);t&&i.push(t)}));var r=e.find(f),a=i.join(";");r.val(a),r.trigger("change")}function y(){A().each((function(){o.default(this).find("["+s+"]").each((function(){var t=o.default(this);t.accordion("instance")?t.accordion("refresh"):t.accordion({collapsible:!0,active:!1,heightStyle:"content"})}))}))}function k(t){return o.default(t).closest("["+a+"]").attr(a)}function j(t){return o.default(t).closest("["+s+"]").attr(s)}function S(t){return o.default(document).find("["+a+'="'+t+'"]')}function x(t,e){var n=S(t);return o.default(n).find("["+s+'="'+e+'"]')}function A(){return o.default(document).find("["+a+"]").not('[id*="__i__"]')}function C(t,e,n){var i=String(o.default("#twrpb-plugin-widget-ajax-nonce").attr("data-twrpb-plugin-widget-ajax-nonce"));return o.default.ajax({url:ajaxurl,method:"POST",data:{action:"twrpb_widget_create_artblock_settings",artblock_id:n,widget_id:t,query_id:e,nonce:i}})}o.default(document).on("click",".twrpb-widget-form__remove-selected-query",(function(){var t=k(o.default(this)),e=j(o.default(this));(function(t,e){x(t,e).remove()})(t,e),m(t)})),o.default(g),o.default(document).on("widget-updated widget-added",g),o.default(_),o.default(document).on("widget-updated widget-added",_),o.default(y),o.default(document).on("widget-updated widget-added",y),o.default(document).on("change",".twrpb-widget-form__article-block-selector",(function(){return e(this,void 0,void 0,(function(){var t,e,n,r;return i(this,(function(i){switch(i.label){case 0:return t=k(o.default(this)),e=j(o.default(this)),n=String(o.default(this).val()),function(t,e){if(!t||!e)return;O[t]||(O[t]=[]);O[t][e]||(O[t][e]=[]);var n=x(t,e).find("["+l+"]"),i=n.attr(l);if(!i)return;O[t][e][i]=n}(t,e),q(t,e,n)?(r=function(t,e,n){if(q(t,e,n))return O[t][e][n];return!1}(t,e,n),[3,3]):[3,1];case 1:return function(t,e){var n=x(t,e);n.find(h).addClass("twrpb-widget-form__article-block-loading"),n.find(".twrpb-widget-form__article-block-loading-spinner").show()}(t,e),[4,C(t,e,n)];case 2:r=i.sent(),function(t,e){var n=x(t,e);n.find(h).removeClass("twrpb-widget-form__article-block-loading"),n.find(".twrpb-widget-form__article-block-loading-spinner").hide()}(t,e),i.label=3;case 3:return function(t,e,n){if("string"==typeof n&&n.length<25)return;var i=x(t,e).find(h);i.empty(),i.find("["+l+"]").detach(),i.append(n),i.trigger("twrpb-artblock-added")}(t,e,r),[2]}}))}))}));var O=Array();function q(t,e,n){return!!(O[t]&&O[t][e]&&O[t][e][n])}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(t,e,n){var i,r;i=window,r=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i={};function r(t,e,n,i,r={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);for(const o of e)for(const e of n)o[t](e,i,{capture:!1,...r});return Array.prototype.slice.call(arguments,1)}n.r(i),n.d(i,"on",(function(){return o})),n.d(i,"off",(function(){return a})),n.d(i,"createElementFromString",(function(){return s})),n.d(i,"createFromTemplate",(function(){return l})),n.d(i,"eventPath",(function(){return d})),n.d(i,"resolveElement",(function(){return u})),n.d(i,"adjustableInputNumbers",(function(){return c}));const o=r.bind(null,"addEventListener"),a=r.bind(null,"removeEventListener");function s(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild}function l(t){const e=(t,e)=>{const n=t.getAttribute(e);return t.removeAttribute(e),n},n=(t,i={})=>{const r=e(t,":obj"),o=e(t,":ref"),a=r?i[r]={}:i;o&&(i[o]=t);for(const i of Array.from(t.children)){const t=e(i,":arr"),r=n(i,t?{}:a);t&&(a[t]||(a[t]=[])).push(Object.keys(r).length?r:i)}return i};return n(s(t))}function d(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let n=t.target.parentElement;for(e=[t.target,n];n=n.parentElement;)e.push(n);return e.push(document,window),e}function u(t){return t instanceof Element?t:"string"==typeof t?t.split(/>>/g).reduce(((t,e,n,i)=>(t=t.querySelector(e),n<i.length-1?t.shadowRoot:t)),document):null}function c(t,e=(t=>t)){function n(n){const i=[.001,.01,.1][Number(n.shiftKey||2*n.ctrlKey)]*(n.deltaY<0?1:-1);let r=0,o=t.selectionStart;t.value=t.value.replace(/[\d.]+/g,((t,n)=>n<=o&&n+t.length>=o?(o=n,e(Number(t),i,r)):(r++,t))),t.focus(),t.setSelectionRange(o,o),n.preventDefault(),t.dispatchEvent(new Event("input"))}o(t,"focus",(()=>o(window,"wheel",n,{passive:!1}))),o(t,"blur",(()=>a(window,"wheel",n)))}const{min:p,max:f,floor:h,round:w}=Math;function b(t,e,n){e/=100,n/=100;const i=h(t=t/360*6),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=i%6;return[255*[n,a,o,o,s,n][l],255*[s,n,n,a,o,o][l],255*[o,o,s,n,n,a][l]]}function g(t,e,n){const i=(2-(e/=100))*(n/=100)/2;return 0!==i&&(e=1===i?0:i<.5?e*n/(2*i):e*n/(2-2*i)),[t,100*e,100*i]}function _(t,e,n){const i=p(t/=255,e/=255,n/=255),r=f(t,e,n),o=r-i;let a,s;if(0===o)a=s=0;else{s=o/r;const i=((r-t)/6+o/2)/o,l=((r-e)/6+o/2)/o,d=((r-n)/6+o/2)/o;t===r?a=d-l:e===r?a=1/3+i-d:n===r&&(a=2/3+l-i),a<0?a+=1:a>1&&(a-=1)}return[360*a,100*s,100*r]}function v(t,e,n,i){return e/=100,n/=100,[..._(255*(1-p(1,(t/=100)*(1-(i/=100))+i)),255*(1-p(1,e*(1-i)+i)),255*(1-p(1,n*(1-i)+i)))]}function m(t,e,n){e/=100;const i=2*(e*=(n/=100)<.5?n:1-n)/(n+e)*100,r=100*(n+e);return[t,isNaN(i)?0:i,r]}function y(t){return _(...t.match(/.{2}/g).map((t=>parseInt(t,16))))}function k(t=0,e=0,n=0,i=1){const r=(t,e)=>(n=-1)=>e(~n?t.map((t=>Number(t.toFixed(n)))):t),o={h:t,s:e,v:n,a:i,toHSVA(){const t=[o.h,o.s,o.v,o.a];return t.toString=r(t,(t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${o.a})`)),t},toHSLA(){const t=[...g(o.h,o.s,o.v),o.a];return t.toString=r(t,(t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${o.a})`)),t},toRGBA(){const t=[...b(o.h,o.s,o.v),o.a];return t.toString=r(t,(t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${o.a})`)),t},toCMYK(){const t=function(t,e,n){const i=b(t,e,n),r=i[0]/255,o=i[1]/255,a=i[2]/255,s=p(1-r,1-o,1-a);return[100*(1===s?0:(1-r-s)/(1-s)),100*(1===s?0:(1-o-s)/(1-s)),100*(1===s?0:(1-a-s)/(1-s)),100*s]}(o.h,o.s,o.v);return t.toString=r(t,(t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`)),t},toHEXA(){const t=function(t,e,n){return b(t,e,n).map((t=>w(t).toString(16).padStart(2,"0")))}(o.h,o.s,o.v),e=o.a>=1?"":Number((255*o.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return e&&t.push(e),t.toString=()=>"#"+t.join("").toUpperCase(),t},clone:()=>k(o.h,o.s,o.v,o.a)};return o}const j=t=>Math.max(Math.min(t,1),0);function S(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:n}=e,{type:i,key:r}=t;if(document.activeElement===n.wrapper){const{lock:n}=e.options,o="ArrowUp"===r,a="ArrowRight"===r,s="ArrowDown"===r,l="ArrowLeft"===r;if("keydown"===i&&(o||a||s||l)){let i=0,r=0;"v"===n?i=o||a?1:-1:"h"===n?i=o||a?-1:1:(r=o?-1:s?1:0,i=l?-1:a?1:0),e.update(j(e.cache.x+.01*i),j(e.cache.y+.01*r)),t.preventDefault()}else r.startsWith("Arrow")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){o(document,["mouseup","touchend","touchcancel"],e._tapstop),o(document,["mousemove","touchmove"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:n,cache:i}=e,{lock:r,element:o,wrapper:a}=n,s=a.getBoundingClientRect();let l=0,d=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,d=t?(e||t).clientY:0,l<s.left?l=s.left:l>s.left+s.width&&(l=s.left+s.width),d<s.top?d=s.top:d>s.top+s.height&&(d=s.top+s.height),l-=s.left,d-=s.top}else i&&(l=i.x*s.width,d=i.y*s.height);"h"!==r&&(o.style.left=`calc(${l/s.width*100}% - ${o.offsetWidth/2}px)`),"v"!==r&&(o.style.top=`calc(${d/s.height*100}% - ${o.offsetHeight/2}px)`),e.cache={x:l/s.width,y:d/s.height};const u=j(l/s.width),c=j(d/s.height);switch(r){case"v":return n.onchange(u);case"h":return n.onchange(c);default:return n.onchange(u,c)}},_tapstop(){e.options.onstop(),a(document,["mouseup","touchend","touchcancel"],e._tapstop),a(document,["mousemove","touchmove"],e._tapmove)},trigger(){e._tapmove()},update(t=0,n=0){const{left:i,top:r,width:o,height:a}=e.options.wrapper.getBoundingClientRect();"h"===e.options.lock&&(n=t),e._tapmove({clientX:i+o*t,clientY:r+a*n})},destroy(){const{options:t,_tapstart:n,_keyboard:i}=e;a(document,["keydown","keyup"],i),a([t.wrapper,t.element],"mousedown",n),a([t.wrapper,t.element],"touchstart",n,{passive:!1})}},{options:n,_tapstart:i,_keyboard:r}=e;return o([n.wrapper,n.element],"mousedown",i),o([n.wrapper,n.element],"touchstart",i,{passive:!1}),o(document,["keydown","keyup"],r),e}function x(t={}){t=Object.assign({onchange:()=>0,className:"",elements:[]},t);const e=o(t.elements,"click",(e=>{t.elements.forEach((n=>n.classList[e.target===n?"add":"remove"](t.className))),t.onchange(e),e.stopPropagation()}));return{destroy:()=>a(...e)}}
/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */const A={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8};function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class O{constructor(t){C(this,"_initializingActive",!0),C(this,"_recalc",!0),C(this,"_nanopop",null),C(this,"_root",null),C(this,"_color",k()),C(this,"_lastColor",k()),C(this,"_swatchColors",[]),C(this,"_setupAnimationFrame",null),C(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({...O.DEFAULT_OPTIONS},t);const{swatches:e,components:n,theme:i,sliders:r,lockOpacity:o,padding:a}=t;["nano","monolith"].includes(i)&&!r&&(t.sliders="h"),n.interaction||(n.interaction={});const{preview:s,opacity:l,hue:d,palette:u}=n;n.opacity=!o&&l,n.palette=u||s||l||d,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach((t=>this.addSwatch(t)));const{button:c,app:p}=this._root;this._nanopop=((t,e,n)=>{const i="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...n}:t;return{update(t=i){const{reference:e,popper:n}=Object.assign(i,t);if(!n||!e)throw new Error("Popper- or reference-element missing.");return((t,e,n)=>{const{container:i,margin:r,position:o,variantFlipOrder:a,positionFlipOrder:s}={container:document.documentElement.getBoundingClientRect(),...A,...n},{left:l,top:d}=e.style;e.style.left="0",e.style.top="0";const u=t.getBoundingClientRect(),c=e.getBoundingClientRect(),p={t:u.top-c.height-r,b:u.bottom+r,r:u.right+r,l:u.left-c.width-r},f={vs:u.left,vm:u.left+u.width/2+-c.width/2,ve:u.left+u.width-c.width,hs:u.top,hm:u.bottom-u.height/2-c.height/2,he:u.bottom-c.height},[h,w="middle"]=o.split("-"),b=s[h],g=a[w],{top:_,left:v,bottom:m,right:y}=i;for(const t of b){const n="t"===t||"b"===t,i=p[t],[r,o]=n?["top","left"]:["left","top"],[a,s]=n?[c.height,c.width]:[c.width,c.height],[l,d]=n?[m,y]:[y,m],[u,h]=n?[_,v]:[v,_];if(!(i<u||i+a>l))for(const a of g){const l=f[(n?"v":"h")+a];if(!(l<h||l+s>d))return e.style[o]=l-c[o]+"px",e.style[r]=i-c[r]+"px",t+a}}return e.style.left=l,e.style.top=d,null})(e,n,i)}}})(c,p,{margin:a}),c.setAttribute("role","button"),c.setAttribute("aria-label",this._t("btn:toggle"));const f=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!p.offsetWidth)return requestAnimationFrame(e);f.setColor(t.default),f._rePositioningPicker(),t.defaultRepresentation&&(f._representation=t.defaultRepresentation,f.setColorRepresentation(f._representation)),t.showAlways&&f.show(),f._initializingActive=!1,f._emit("init")}))}_preBuild(){const{options:t}=this;for(const e of["el","container"])t[e]=u(t[e]);this._root=(t=>{const{components:e,useAsButton:n,inline:i,appClass:r,theme:o,lockOpacity:a}=t.options,s=t=>t?"":'style="display:none" hidden',d=e=>t._t(e),u=l(`\n      <div :ref="root" class="pickr">\n\n        ${n?"":'<button type="button" :ref="button" class="pcr-button"></button>'}\n\n        <div :ref="app" class="pcr-app ${r||""}" data-theme="${o}" ${i?'style="position: unset"':""} aria-label="${d("ui:dialog")}" role="window">\n          <div class="pcr-selection" ${s(e.palette)}>\n            <div :obj="preview" class="pcr-color-preview" ${s(e.preview)}>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${d("btn:last-color")}"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${d("aria:palette")}" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ${s(e.hue)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${d("aria:hue")}" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ${s(e.opacity)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${d("aria:opacity")}" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ${e.palette?"":"pcr-last"}" :ref="swatches"></div>\n\n          <div :obj="interaction" class="pcr-interaction" ${s(Object.keys(e.interaction).length)}>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${s(e.interaction.input)} aria-label="${d("aria:input")}">\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="${a?"HEX":"HEXA"}" type="button" ${s(e.interaction.hex)}>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="${a?"RGB":"RGBA"}" type="button" ${s(e.interaction.rgba)}>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="${a?"HSL":"HSLA"}" type="button" ${s(e.interaction.hsla)}>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="${a?"HSV":"HSVA"}" type="button" ${s(e.interaction.hsva)}>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${s(e.interaction.cmyk)}>\n\n            <input :ref="save" class="pcr-save" value="${d("btn:save")}" type="button" ${s(e.interaction.save)} aria-label="${d("aria:btn:save")}">\n            <input :ref="cancel" class="pcr-cancel" value="${d("btn:cancel")}" type="button" ${s(e.interaction.cancel)} aria-label="${d("aria:btn:cancel")}">\n            <input :ref="clear" class="pcr-clear" value="${d("btn:clear")}" type="button" ${s(e.interaction.clear)} aria-label="${d("aria:btn:clear")}">\n          </div>\n        </div>\n      </div>\n    `),c=u.interaction;return c.options.find((t=>!t.hidden&&!t.classList.add("active"))),c.type=()=>c.options.find((t=>t.classList.contains("active"))),u})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const n=t.el.parentElement;t.el.nextSibling?n.insertBefore(e.app,t.el.nextSibling):n.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition="none",t.useAsButton||(e.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const t=this,e=this.options.components,n=(t.options.sliders||"v").repeat(2),[i,r]=n.match(/^[vh]+$/g)?n:[],o=()=>this._color||(this._color=this._lastColor.clone()),a={palette:S({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit("changestop","slider",t),onchange(n,i){if(!e.palette)return;const r=o(),{_root:a,options:s}=t,{lastColor:l,currentColor:d}=a.preview;t._recalc&&(r.s=100*n,r.v=100-100*i,r.v<0&&(r.v=0),t._updateOutput("slider"));const u=r.toRGBA().toString(0);this.element.style.background=u,this.wrapper.style.background=`\n                        linear-gradient(to top, rgba(0, 0, 0, ${r.a}), transparent),\n                        linear-gradient(to left, hsla(${r.h}, 100%, 50%, ${r.a}), rgba(255, 255, 255, ${r.a}))\n                    `,s.comparison?s.useAsButton||t._lastColor||(l.style.color=u):(a.button.style.color=u,a.button.classList.remove("clear"));const c=r.toHEXA().toString();for(const{el:e,color:n}of t._swatchColors)e.classList[c===n.toHEXA().toString()?"add":"remove"]("pcr-active");d.style.color=u}}),hue:S({lock:"v"===r?"h":"v",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit("changestop","slider",t),onchange(n){if(!e.hue||!e.palette)return;const i=o();t._recalc&&(i.h=360*n),this.element.style.backgroundColor=`hsl(${i.h}, 100%, 50%)`,a.palette.trigger()}}),opacity:S({lock:"v"===i?"h":"v",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit("changestop","slider",t),onchange(n){if(!e.opacity||!e.palette)return;const i=o();t._recalc&&(i.a=Math.round(100*n)/100),this.element.style.background=`rgba(0, 0, 0, ${i.a})`,a.palette.trigger()}}),selectable:x({elements:t._root.interaction.options,className:"active",onchange(e){t._representation=e.target.getAttribute("data-type").toUpperCase(),t._recalc&&t._updateOutput("swatch")}})};this._components=a}_bindEvents(){const{_root:t,options:e}=this,n=[o(t.interaction.clear,"click",(()=>this._clearColor())),o([t.interaction.cancel,t.preview.lastColor],"click",(()=>{this._emit("cancel"),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)})),o(t.interaction.save,"click",(()=>{!this.applyColor()&&!e.showAlways&&this.hide()})),o(t.interaction.result,["keyup","input"],(t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),t.stopImmediatePropagation()})),o(t.interaction.result,["focus","blur"],(t=>{this._recalc="blur"===t.type,this._recalc&&this._updateOutput(null)})),o([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],["mousedown","touchstart"],(()=>this._recalc=!0),{passive:!0})];if(!e.showAlways){const i=e.closeWithKey;n.push(o(t.button,"click",(()=>this.isOpen()?this.hide():this.show())),o(document,"keyup",(t=>this.isOpen()&&(t.key===i||t.code===i)&&this.hide())),o(document,["touchstart","mousedown"],(e=>{this.isOpen()&&!d(e).some((e=>e===t.app||e===t.button))&&this.hide()}),{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};c(t.interaction.result,((t,n,i)=>{const r=e[this.getColorRepresentation().toLowerCase()];if(r){const e=r[i],o=t+(e>=100?1e3*n:n);return o<=0?0:Number((o<e?o:e).toPrecision(3))}return t}))}if(e.autoReposition&&!e.inline){let t=null;const i=this;n.push(o(window,["scroll","resize"],(()=>{i.isOpen()&&(e.closeOnScroll&&i.hide(),null===t?(t=setTimeout((()=>t=null),100),requestAnimationFrame((function e(){i._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout((()=>t=null),100)))}),{capture:!0}))}this._eventBindings=n}_rePositioningPicker(){const{options:t}=this;if(!t.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+"px",t.style.left=(window.innerWidth-e.width)/2+"px"}}_updateOutput(t){const{_root:e,_color:n,options:i}=this;if(e.interaction.type()){const t="to"+e.interaction.type().getAttribute("data-type");e.interaction.result.value="function"==typeof n[t]?n[t]().toString(i.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",n,t,this)}_clearColor(t=!1){const{_root:e,options:n}=this;n.useAsButton||(e.button.style.color="rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),n.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(t){const{values:e,type:n,a:i}=function(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if("black"===t.toLowerCase())return"#000";const e=document.createElement("canvas").getContext("2d");return e.fillStyle=t,"#000"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},n=t=>t.map((t=>/^(|\d+)\.\d+|\d+$/.test(t)?Number(t):void 0));let i;t:for(const r in e){if(!(i=e[r].exec(t)))continue;const o=t=>!!i[2]==("number"==typeof t);switch(r){case"cmyk":{const[,t,e,o,a]=n(i);if(t>100||e>100||o>100||a>100)break t;return{values:v(t,e,o,a),type:r}}case"rgba":{const[,,,t,e,a,s]=n(i);if(t>255||e>255||a>255||s<0||s>1||!o(s))break t;return{values:[..._(t,e,a),s],a:s,type:r}}case"hexa":{let[,t]=i;4!==t.length&&3!==t.length||(t=t.split("").map((t=>t+t)).join(""));const e=t.substring(0,6);let n=t.substring(6);return n=n?parseInt(n,16)/255:void 0,{values:[...y(e),n],a:n,type:r}}case"hsla":{const[,,,t,e,a,s]=n(i);if(t>360||e>100||a>100||s<0||s>1||!o(s))break t;return{values:[...m(t,e,a),s],a:s,type:r}}case"hsva":{const[,,,t,e,a,s]=n(i);if(t>360||e>100||a>100||s<0||s>1||!o(s))break t;return{values:[t,e,a,s],a:s,type:r}}}}return{values:null,type:null}}(t),{lockOpacity:r}=this.options,o=void 0!==i&&1!==i;return e&&3===e.length&&(e[3]=void 0),{values:!e||r&&o?null:e,type:n}}_t(t){return this.options.i18n[t]||O.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach((t=>t(...e,this)))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const n=this._eventListener[t]||[],i=n.indexOf(e);return~i&&n.splice(i,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:n}=this,i=k(...e),r=s(`<button type="button" style="color: ${i.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return n.swatches.appendChild(r),t.push({el:r,color:i}),this._eventBindings.push(o(r,"click",(()=>{this.setHSVA(...i.toHSVA(),!0),this._emit("swatchselect",i),this._emit("change",i,"swatch",this)}))),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:n}=e;return this._root.swatches.removeChild(n),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:n}=this._root,i=this._color.toRGBA().toString(0);return e.lastColor.style.color=i,this.options.useAsButton||(n.style.color=i),n.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach((t=>a(...t))),Object.keys(this._components).forEach((t=>this._components[t].destroy()))}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach((t=>this[t]=null))}hide(){return this._root.app.classList.remove("visible"),this._emit("hide"),this}show(){return this.options.disabled||(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color)),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,n=0,i=1,r=!1){const o=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||n<0||n>100||i<0||i>1)return!1;this._color=k(t,e,n,i);const{hue:a,opacity:s,palette:l}=this._components;return a.update(t/360),s.update(i),l.update(e/100,1-n/100),r||this.applyColor(),o&&this._updateOutput(),this._recalc=o,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:n,type:i}=this._parseLocalColor(t);if(n){const t=i.toUpperCase(),{options:r}=this._root.interaction,o=r.find((e=>e.getAttribute("data-type")===t));if(o&&!o.hidden)for(const t of r)t.classList[t===o?"add":"remove"]("active");return!!this.setHSVA(...n,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find((e=>e.getAttribute("data-type").startsWith(t)&&!e.click()))}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}C(O,"utils",i),C(O,"version","1.8.0"),C(O,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),C(O,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),C(O,"create",(t=>new O(t))),e.default=O}]).default},"object"==typeof n&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof n?n.Pickr=r():i.Pickr=r()},{}]},{},[17]);
//# sourceMappingURL=script.js.map
