{"version":3,"sources":["node_modules/browser-pack/_prelude.js","script.js","assets/src-frontend/article-blocks/article-blocks.ts","assets/src-frontend/external/tabby/tabby.ts","assets/src-frontend/external/tabby/tabby_polyfill.ts","assets/src-frontend/main-framework/twrp-show-more.ts","assets/src-frontend/script.ts","assets/src-frontend/tabs/twrp-tab.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","document","addEventListener","target","Element","nodeName","getAttribute","closest","preventDefault","2","Object","defineProperty","value","defaults","idPrefix","default","toggle","tab","content","querySelector","hash","details","newTab","tabGroup","setAttribute","previousTab","previousContent","hide","removeAttribute","focus","show","event","window","CustomEvent","bubbles","cancelable","detail","createEvent","initCustomEvent","dispatchEvent","emitEvent","switchTabs","key","map","tabs","querySelectorAll","index","Array","prototype","indexOf","getTabsMap","selector","options","settings","tabWrapper","publicAPIs","destroy","forEach","id","slice","destroyTab","documentElement","removeEventListener","clickHandler","keyHandler","setup","matches","setupTab","activeElement","merged","arguments","obj","hasOwnProperty","extend","location","loadFromURL","3","msMatchesSelector","webkitMatchesSelector","s","ancestor","this","contains","parentElement","4","showMoreWrapperClassName","classList","toRemove","parentNode","removeChild","tabContentClassName","columnModeClassName","addOrRemoveColumnsClass","tabsWrappers","getElementsByClassName","columns","countNumberOfColumns","add","remove","readyState","dataCurrentPostsPerPage","tryToEqualizeAllTabs","TWRPLocalizeObject","disableGridPostsFill","equalizePagesToNumberOfColumns","element","HTMLElement","postsPerPage","Number","currentPostsPerPage","String","newPostsPerPage","Math","floor","elementChildren","children","showMoreButton","cloneNode","pagesDisplayed","page","blockNumber","insertBefore","compStyles","getComputedStyle","gridColumnsProperty","getPropertyValue","display","replace","split","isInteger","5","./article-blocks/article-blocks","./main-framework/twrp-show-more","./tabs/twrp-tab.ts","6","__importDefault","mod","__esModule","tabby_1","initializeAllTabs","allTabs","_loop_1","tabsWrapper","tabSelectorId","twrpTabbyObject","setTimeout","tabby","push","activeButtonItemClass","addButtonWrapperInitial","buttons","buttonWrapper","prevButtonWrapper","className","search","ajaxAction","dataWidgetIdName","dataPostIdName","loadWidgetsViaAjax","items","ajaxUrl","ajax","allWidgetsToLoad","allWidgetsToLoadData","showWidgetNotLoadedAtTimeout","bind","widgetItem","widget_id","post_id","parseInt","XMLHttpRequest","open","JSON","stringify","onreadystatechange","ajaxObject","status","jsonText","responseText","parsedItems","parse","showWidgetsCannotBeLoaded","isArray","updateWidgetViaAjax","event_1","Event","handleAjaxFinished","send","itemData","item","ajaxItemIsValid","widgetId","postId","widgets","widgetParent","isElement","insertAdjacentHTML","widgetElements","showWidgetCannotBeLoaded","widget","failedText","failedHtml","HTMLDocument","../external/tabby/tabby","../external/tabby/tabby_polyfill"],"mappings":"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","file":"script.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",null,"\ndocument.addEventListener( 'click', handlePrivatePostClicked );\nfunction handlePrivatePostClicked( e: MouseEvent ) {\n\tif ( ! e.target || ! ( e.target instanceof Element ) ) {\n\t\treturn;\n\t}\n\tconst target: Element = e.target;\n\n\tif ( target.nodeName !== 'A' ) {\n\t\treturn;\n\t}\n\n\tif ( '#' !== target.getAttribute( 'href' ) ) {\n\t\treturn;\n\t}\n\n\tif ( null === target.closest( '.twrp-block' ) ) {\n\t\treturn;\n\t}\n\n\te.preventDefault();\n}\n","// @ts-nocheck\n/* eslint-disable */\n// Version 12.0.3\n\n//\n// Variables\n//\n\nconst defaults = {\n\tidPrefix: 'tabby-toggle_',\n\tdefault: '[data-tabby-default]',\n};\n\n//\n// Methods\n//\n\n/**\n * Merge two or more objects together.\n *\n * @param   {Object}   objects  The objects to merge together\n * @return {Object}            Merged values of defaults and options\n */\nconst extend = function() {\n\tconst merged = {};\n\tArray.prototype.forEach.call( arguments, function( obj ) {\n\t\tfor ( const key in obj ) {\n\t\t\tif ( ! obj.hasOwnProperty( key ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmerged[ key ] = obj[ key ];\n\t\t}\n\t} );\n\treturn merged;\n};\n\n/**\n * Emit a custom event\n *\n * @param  {string} type    The event type\n * @param  {Node}   tab     The tab to attach the event to\n * @param  {Node}   details Details about the event\n */\nconst emitEvent = function( tab, details ) {\n\t// Create a new event\n\tlet event;\n\tif ( typeof window.CustomEvent === 'function' ) {\n\t\tevent = new CustomEvent( 'tabby', {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t\tdetail: details,\n\t\t} );\n\t} else {\n\t\tevent = document.createEvent( 'CustomEvent' );\n\t\tevent.initCustomEvent( 'tabby', true, true, details );\n\t}\n\n\t// Dispatch the event\n\ttab.dispatchEvent( event );\n};\n\n/**\n * Remove roles and attributes from a tab and its content\n *\n * @param  {Node}   tab      The tab\n * @param  {Node}   content  The tab content\n * @param  {Object} settings User settings and options\n */\nconst destroyTab = function( tab, content, settings ) {\n\t// Remove the generated ID\n\tif ( tab.id.slice( 0, settings.idPrefix.length ) === settings.idPrefix ) {\n\t\ttab.id = '';\n\t}\n\n\t// Remove roles\n\ttab.removeAttribute( 'role' );\n\ttab.removeAttribute( 'aria-controls' );\n\ttab.removeAttribute( 'aria-selected' );\n\ttab.removeAttribute( 'tabindex' );\n\ttab.closest( 'li' ).removeAttribute( 'role' );\n\tcontent.removeAttribute( 'role' );\n\tcontent.removeAttribute( 'aria-labelledby' );\n\tcontent.removeAttribute( 'hidden' );\n};\n\n/**\n * Add the required roles and attributes to a tab and its content\n *\n * @param  {Node}   tab      The tab\n * @param  {Node}   content  The tab content\n * @param  {Object} settings User settings and options\n */\nconst setupTab = function( tab, content, settings ) {\n\t// Give tab an ID if it doesn't already have one\n\tif ( ! tab.id ) {\n\t\ttab.id = settings.idPrefix + content.id;\n\t}\n\n\t// Add roles\n\ttab.setAttribute( 'role', 'tab' );\n\ttab.setAttribute( 'aria-controls', content.id );\n\ttab.closest( 'li' ).setAttribute( 'role', 'presentation' );\n\tcontent.setAttribute( 'role', 'tabpanel' );\n\tcontent.setAttribute( 'aria-labelledby', tab.id );\n\n\t// Add selected state\n\tif ( tab.matches( settings.default ) ) {\n\t\ttab.setAttribute( 'aria-selected', 'true' );\n\t} else {\n\t\ttab.setAttribute( 'aria-selected', 'false' );\n\t\ttab.setAttribute( 'tabindex', '-1' );\n\t\tcontent.setAttribute( 'hidden', 'hidden' );\n\t}\n};\n\n/**\n * Hide a tab and its content\n *\n * @param  {Node} newTab The new tab that's replacing it\n */\nconst hide = function( newTab ) {\n\t// Variables\n\tconst tabGroup = newTab.closest( '[role=\"tablist\"]' );\n\tif ( ! tabGroup ) {\n\t\treturn {};\n\t}\n\tconst tab = tabGroup.querySelector( '[role=\"tab\"][aria-selected=\"true\"]' );\n\tif ( ! tab ) {\n\t\treturn {};\n\t}\n\tconst content = document.querySelector( tab.hash );\n\n\t// Hide the tab\n\ttab.setAttribute( 'aria-selected', 'false' );\n\ttab.setAttribute( 'tabindex', '-1' );\n\n\t// Hide the content\n\tif ( ! content ) {\n\t\treturn { previousTab: tab };\n\t}\n\tcontent.setAttribute( 'hidden', 'hidden' );\n\n\t// Return the hidden tab and content\n\treturn {\n\t\tpreviousTab: tab,\n\t\tpreviousContent: content,\n\t};\n};\n\n/**\n * Show a tab and its content\n *\n * @param  {Node} tab      The tab\n * @param  {Node} content  The tab content\n */\nconst show = function( tab, content ) {\n\ttab.setAttribute( 'aria-selected', 'true' );\n\ttab.setAttribute( 'tabindex', '0' );\n\tcontent.removeAttribute( 'hidden' );\n\ttab.focus();\n};\n\n/**\n * Toggle a new tab\n *\n * @param  {Node} tab The tab to show\n */\nconst toggle = function( tab ) {\n\t// Make sure there's a tab to toggle and it's not already active\n\tif ( ! tab || tab.getAttribute( 'aria-selected' ) == 'true' ) {\n\t\treturn;\n\t}\n\n\t// Variables\n\tconst content = document.querySelector( tab.hash );\n\tif ( ! content ) {\n\t\treturn;\n\t}\n\n\t// Hide active tab and content\n\tconst details = hide( tab );\n\n\t// Show new tab and content\n\tshow( tab, content );\n\n\t// Add event details\n\tdetails.tab = tab;\n\tdetails.content = content;\n\n\t// Emit a custom event\n\temitEvent( tab, details );\n};\n\n/**\n * Get all of the tabs in a tablist\n *\n * @param  {Node}   tab  A tab from the list\n * @return {Object}      The tabs and the index of the currently active one\n */\nconst getTabsMap = function( tab ) {\n\tconst tabGroup = tab.closest( '[role=\"tablist\"]' );\n\tconst tabs = tabGroup ? tabGroup.querySelectorAll( '[role=\"tab\"]' ) : null;\n\tif ( ! tabs ) {\n\t\treturn;\n\t}\n\treturn {\n\t\ttabs,\n\t\tindex: Array.prototype.indexOf.call( tabs, tab ),\n\t};\n};\n\n/**\n * Switch the active tab based on keyboard activity\n *\n * @param  {Node} tab The currently active tab\n * @param  {Key}  key The key that was pressed\n */\nconst switchTabs = function( tab, key ) {\n\t// Get a map of tabs\n\tconst map = getTabsMap( tab );\n\tif ( ! map ) {\n\t\treturn;\n\t}\n\tconst length = map.tabs.length - 1;\n\tlet index;\n\n\t// Go to previous tab\n\tif ( [ 'ArrowUp', 'ArrowLeft', 'Up', 'Left' ].indexOf( key ) > -1 ) {\n\t\tindex = map.index < 1 ? length : map.index - 1;\n\t}\n\n\t// Go to next tab\n\telse if ( [ 'ArrowDown', 'ArrowRight', 'Down', 'Right' ].indexOf( key ) > -1 ) {\n\t\tindex = map.index === length ? 0 : map.index + 1;\n\t}\n\n\t// Go to home\n\telse if ( key === 'Home' ) {\n\t\tindex = 0;\n\t}\n\n\t// Go to end\n\telse if ( key === 'End' ) {\n\t\tindex = length;\n\t}\n\n\t// Toggle the tab\n\ttoggle( map.tabs[ index ] );\n};\n\n/**\n * Activate a tab based on the URL\n *\n * @param  {string} selector The selector for this instantiation\n */\nconst loadFromURL = function( selector ) {\n\tif ( window.location.hash.length < 1 ) {\n\t\treturn;\n\t}\n\tconst tab = document.querySelector( selector + ' [role=\"tab\"][href*=\"' + window.location.hash + '\"]' );\n\ttoggle( tab );\n};\n\n/**\n * Create the Constructor object\n */\nconst Constructor = function( selector, options ) {\n\t//\n\t// Variables\n\t//\n\n\tconst publicAPIs = {};\n\tlet settings, tabWrapper;\n\n\t//\n\t// Methods\n\t//\n\n\tpublicAPIs.destroy = function() {\n\t\t// Get all tabs\n\t\tconst tabs = tabWrapper.querySelectorAll( 'a' );\n\n\t\t// Add roles to tabs\n\t\tArray.prototype.forEach.call( tabs, function( tab ) {\n\t\t\t// Get the tab content\n\t\t\tconst content = document.querySelector( tab.hash );\n\t\t\tif ( ! content ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Setup the tab\n\t\t\tdestroyTab( tab, content, settings );\n\t\t} );\n\n\t\t// Remove role from wrapper\n\t\ttabWrapper.removeAttribute( 'role' );\n\n\t\t// Remove event listeners\n\t\tdocument.documentElement.removeEventListener( 'click', clickHandler, true );\n\t\ttabWrapper.removeEventListener( 'keydown', keyHandler, true );\n\n\t\t// Reset variables\n\t\tsettings = null;\n\t\ttabWrapper = null;\n\t};\n\n\t/**\n\t * Setup the DOM with the proper attributes\n\t */\n\tpublicAPIs.setup = function() {\n\t\t// Variables\n\t\ttabWrapper = document.querySelector( selector );\n\t\tif ( ! tabWrapper ) {\n\t\t\treturn;\n\t\t}\n\t\tconst tabs = tabWrapper.querySelectorAll( 'a' );\n\n\t\t// Add role to wrapper\n\t\ttabWrapper.setAttribute( 'role', 'tablist' );\n\n\t\t// Add roles to tabs\n\t\tArray.prototype.forEach.call( tabs, function( tab ) {\n\t\t\t// Get the tab content\n\t\t\tconst content = document.querySelector( tab.hash );\n\t\t\tif ( ! content ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Setup the tab\n\t\t\tsetupTab( tab, content, settings );\n\t\t} );\n\t};\n\n\t/**\n\t * Toggle a tab based on an ID\n\t *\n\t * @param  {string|Node} id The tab to toggle\n\t */\n\tpublicAPIs.toggle = function( id ) {\n\t\t// Get the tab\n\t\tlet tab = id;\n\t\tif ( typeof id === 'string' ) {\n\t\t\ttab = document.querySelector( selector + ' [role=\"tab\"][href*=\"' + id + '\"]' );\n\t\t}\n\n\t\t// Toggle the tab\n\t\ttoggle( tab );\n\t};\n\n\t/**\n\t * Handle click events\n\t */\n\tvar clickHandler = function( event ) {\n\t\t// Only run on toggles\n\t\tconst tab = event.target.closest( selector + ' [role=\"tab\"]' );\n\t\tif ( ! tab ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Prevent link behavior\n\t\tevent.preventDefault();\n\n\t\t// Toggle the tab\n\t\ttoggle( tab );\n\t};\n\n\t/**\n\t * Handle keydown events\n\t */\n\tvar keyHandler = function( event ) {\n\t\t// Only run if a tab is in focus\n\t\tconst tab = document.activeElement;\n\t\tif ( ! tab.matches( selector + ' [role=\"tab\"]' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Only run for specific keys\n\t\tif ( [ 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Up', 'Down', 'Left', 'Right', 'Home', 'End' ].indexOf( event.key ) < 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Switch tabs\n\t\tswitchTabs( tab, event.key );\n\t};\n\n\t/**\n\t * Initialize the instance\n\t */\n\tconst init = function() {\n\t\t// Merge user options with defaults\n\t\tsettings = extend( defaults, options || {} );\n\n\t\t// Setup the DOM\n\t\tpublicAPIs.setup();\n\n\t\t// Load a tab from the URL\n\t\tloadFromURL( selector );\n\n\t\t// Add event listeners\n\t\tdocument.documentElement.addEventListener( 'click', clickHandler, true );\n\t\ttabWrapper.addEventListener( 'keydown', keyHandler, true );\n\t};\n\n\t//\n\t// Initialize and return the Public APIs\n\t//\n\n\tinit();\n\treturn publicAPIs;\n};\n\n//\n// Return the Constructor\n//\n\nexport default Constructor;\n","// Element.closest() polyfill\nif ( ! Element.prototype.closest ) {\n\tif ( ! Element.prototype.matches ) {\n\t\t// @ts-ignore\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\tElement.prototype.closest = function( s: any ) {\n\t\tconst el = this;\n\t\tlet ancestor = this;\n\t\tif ( ! document.documentElement.contains( el ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tdo {\n\t\t\tif ( ancestor.matches( s ) ) {\n\t\t\t\treturn ancestor;\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tancestor = ancestor.parentElement;\n\t\t} while ( ancestor !== null );\n\t\treturn null;\n\t};\n}\n","declare const TWRPLocalizeObject: any;\n\n// #region -- Show more pages button\n\nconst showMoreWrapperClassName = 'twrp-show-more';\nconst showMoreButtonClassName = 'twrp-show-more__btn';\n\ndocument.addEventListener( 'click', handleMorePostsBtnClick );\n\nfunction handleMorePostsBtnClick( e: Event ) {\n\tconst target = e.target;\n\tif ( ! ( target instanceof Element ) ) {\n\t\treturn;\n\t}\n\n\tif ( target.classList.contains( showMoreWrapperClassName ) || target.classList.contains( showMoreButtonClassName ) ) {\n\t\tconst toRemove = target.closest( '.' + showMoreWrapperClassName );\n\t\tif ( toRemove !== null ) {\n\t\t\t// @ts-ignore -- Parent Node is not null.\n\t\t\ttoRemove.parentNode.removeChild( toRemove );\n\t\t}\n\t}\n}\n\n// #endregion -- Show more pages button\n\n// #region -- Add a class to every tab wrapper that have multiple columns.\n\nconst tabContentClassName = 'twrp-main__tab-content';\nconst columnModeClassName = 'twrp-js-tab-have-columns';\n\n// Run this function when page is loading.\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', addOrRemoveColumnsClass );\n} else {\n\taddOrRemoveColumnsClass();\n}\nwindow.addEventListener( 'resize', addOrRemoveColumnsClass );\ndocument.addEventListener( 'twrp-widgets-loaded-via-ajax', addOrRemoveColumnsClass );\n\nfunction addOrRemoveColumnsClass() {\n\tconst tabsWrappers = document.getElementsByClassName( tabContentClassName );\n\n\tfor ( let i = 0; i < tabsWrappers.length; i++ ) {\n\t\tconst columns = countNumberOfColumns( tabsWrappers[ i ] );\n\t\tif ( columns !== false && columns > 1 ) {\n\t\t\ttabsWrappers[ i ].classList.add( columnModeClassName );\n\t\t} else {\n\t\t\ttabsWrappers[ i ].classList.remove( columnModeClassName );\n\t\t}\n\t}\n}\n\n// #endregion -- Add a class to every tab wrapper that have multiple columns.\n\n// #region -- Equalize number of posts to columns.\n\nconst dataPostsPerPage = 'data-twrp-posts-per-page';\nconst dataCurrentPostsPerPage = 'data-twrp-current-posts-per-page';\nconst dataPagesDisplayed = 'data-twrp-pages-displayed';\n\n// Run this function when page is loading.\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', tryToEqualizeAllTabs );\n} else {\n\ttryToEqualizeAllTabs();\n}\nwindow.addEventListener( 'resize', tryToEqualizeAllTabs );\ndocument.addEventListener( 'tabby', tryToEqualizeAllTabs );\ndocument.addEventListener( 'twrp-widgets-loaded-via-ajax', tryToEqualizeAllTabs );\n\nfunction tryToEqualizeAllTabs(): void {\n\tif ( ( typeof TWRPLocalizeObject !== 'undefined' ) && ( TWRPLocalizeObject.disableGridPostsFill ) && ( TWRPLocalizeObject.disableGridPostsFill === 'true' ) ) {\n\t\treturn;\n\t}\n\n\tconst tabsWrappers = document.getElementsByClassName( tabContentClassName );\n\tfor ( let i = 0; i < tabsWrappers.length; i++ ) {\n\t\tequalizePagesToNumberOfColumns( tabsWrappers[ i ] );\n\t}\n}\n\nfunction equalizePagesToNumberOfColumns( element: unknown ): void {\n\tif ( ! ( element instanceof HTMLElement ) && ! ( element instanceof Element ) ) {\n\t\treturn;\n\t}\n\n\t// This value represents the widget posts per page, set in widget settings.\n\tconst postsPerPage = Number( element.getAttribute( dataPostsPerPage ) );\n\n\t// Get the current posts per page displayed(if modified previously).\n\tlet currentPostsPerPage = Number( element.getAttribute( dataCurrentPostsPerPage ) );\n\tif ( ! currentPostsPerPage ) {\n\t\tcurrentPostsPerPage = postsPerPage;\n\t\telement.setAttribute( dataCurrentPostsPerPage, String( currentPostsPerPage ) );\n\t}\n\n\tconst columns = countNumberOfColumns( element );\n\n\t// If we don't have columns, no re-pagination needed.\n\tif ( columns === false ) {\n\t\treturn;\n\t}\n\n\t// If we don't have columns, and posts per page are the same, no re-pagination is needed.\n\tif ( ( columns === 0 || columns === 1 ) && currentPostsPerPage === postsPerPage ) {\n\t\treturn;\n\t}\n\n\t// This value represents what the new posts per page should be(can be same as previous).\n\tlet newPostsPerPage = postsPerPage;\n\tif ( columns > 1 ) {\n\t\tif ( postsPerPage > columns ) {\n\t\t\tif ( postsPerPage % columns === 0 ) {\n\t\t\t\tnewPostsPerPage = postsPerPage;\n\t\t\t} else {\n\t\t\t\tnewPostsPerPage = columns * ( Math.floor( postsPerPage / columns ) + 1 ); // postsPerPage + ( postsPerPage % columns );\n\t\t\t}\n\t\t} else {\n\t\t\tnewPostsPerPage = columns;\n\t\t}\n\t}\n\n\tif ( columns > 1 && ( ( currentPostsPerPage % columns ) === 0 ) && ( newPostsPerPage === currentPostsPerPage ) ) {\n\t\treturn;\n\t}\n\n\t// From now on, almost a re-pagination needs to be done.\n\n\t// Get a show more button, and remove all buttons.\n\tconst elementChildren = element.children;\n\tlet showMoreButton = null;\n\tfor ( let i = 0; i < elementChildren.length; i++ ) {\n\t\tif ( elementChildren[ i ].classList.contains( showMoreWrapperClassName ) ) {\n\t\t\tif ( showMoreButton === null ) {\n\t\t\t\tshowMoreButton = elementChildren[ i ].cloneNode( true );\n\t\t\t}\n\t\t\telement.removeChild( elementChildren[ i ] );\n\t\t}\n\t}\n\n\t// all pages are displayed, so no need to continue.\n\tif ( showMoreButton === null ) {\n\t\treturn;\n\t}\n\n\tlet pagesDisplayed = Number( element.getAttribute( dataPagesDisplayed ) );\n\tif ( ! pagesDisplayed ) {\n\t\tpagesDisplayed = 1;\n\t}\n\tlet page = 1;\n\tlet blockNumber = 0;\n\tfor ( let i = 0; i < elementChildren.length; i++ ) {\n\t\tif ( blockNumber !== 0 && newPostsPerPage !== 0 && ( blockNumber % newPostsPerPage === 0 ) ) {\n\t\t\tif ( page === pagesDisplayed ) {\n\t\t\t\telement.insertBefore( showMoreButton.cloneNode( true ), elementChildren[ i ] );\n\t\t\t\ti++;\n\t\t\t} else {\n\t\t\t\tpage++;\n\t\t\t}\n\t\t}\n\n\t\tif ( elementChildren[ i ].classList.contains( 'twrp-block' ) ) {\n\t\t\tblockNumber++;\n\t\t}\n\t}\n\n\telement.setAttribute( dataCurrentPostsPerPage, String( newPostsPerPage ) );\n}\n\n// #endregion -- Equalize number of posts to columns.\n\n// #region -- Helper Functions\n\nfunction countNumberOfColumns( element: unknown ): false|number {\n\tif ( ! ( element instanceof HTMLElement ) && ! ( element instanceof Element ) ) {\n\t\treturn false;\n\t}\n\n\tconst compStyles = window.getComputedStyle( element );\n\tconst gridColumnsProperty = compStyles.getPropertyValue( 'grid-template-columns' );\n\n\t// @ts-ignore -- Verify if is string.\n\tif ( ! ( typeof gridColumnsProperty === 'string' ) && ! ( gridColumnsProperty instanceof String ) ) {\n\t\treturn false;\n\t}\n\n\t// Verify if computed styles have been calculated.\n\tif ( compStyles.display !== 'grid' ) {\n\t\treturn false;\n\t}\n\n\t// Some people sat that there is a bug that the computed styles of columns have added some 0px columns.\n\tconst columns = gridColumnsProperty.replace( / 0px/g, '' ).split( ' ' ).length;\n\tif ( Number.isInteger( columns ) && columns > 0 ) {\n\t\treturn columns;\n\t}\n\n\treturn false;\n}\n\n// #endregion -- Helper Functions\n","import './tabs/twrp-tab.ts';\nimport './main-framework/twrp-show-more';\nimport './article-blocks/article-blocks';\n\nexport default {};\n","import '../external/tabby/tabby_polyfill';\nimport Tabby from '../external/tabby/tabby';\n\nconst tabs: any = [];\ndeclare const TWRPLocalizeObject: any;\n\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', initializeAllTabs );\n} else {\n\tinitializeAllTabs();\n}\ndocument.addEventListener( 'twrp-widgets-loaded-via-ajax', initializeAllTabs );\n\nfunction initializeAllTabs() {\n\tconst allTabs = document.querySelectorAll( '[data-twrp-tabs-btns]' );\n\n\tif ( allTabs.length === 0 ) {\n\t\treturn;\n\t}\n\n\tfor ( let i = 0; i < allTabs.length; i++ ) {\n\t\tconst element = allTabs[ i ];\n\t\tconst tabsWrapper = element.closest( '.twrp-main' );\n\t\tif ( tabsWrapper === null ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst tabId = tabsWrapper.getAttribute( 'id' );\n\t\tconst tabSelectorId = '#' + tabId + ' [data-twrp-tabs-btns]';\n\n\t\t// @ts-ignore\n\t\tif ( ( typeof element.twrpTabbyObject === 'object' ) && ( element.twrpTabbyObject !== null ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Set timeout to make this execute later, to make the page feel faster.\n\t\tsetTimeout( function() {\n\t\t\t// @ts-ignore -- No Tabby type declared yet.\n\t\t\tconst tabby = new Tabby( tabSelectorId, {\n\t\t\t\tidPrefix: 'twrp-tabby__',\n\t\t\t\tdefault: '[data-twrp-default-tab]',\n\t\t\t} );\n\t\t\tconst tabElement = document.querySelector( tabSelectorId );\n\n\t\t\t// @ts-ignore\n\t\t\ttabElement.twrpTabbyObject = tabby;\n\t\t\ttabs.push( tabby );\n\t\t}, 0 );\n\t}\n}\n\n// #region -- Make button not take focus on click.\n\n// todo maybe remove:\n// document.addEventListener( 'click', removeTabButtonFocus );\n\n// function removeTabButtonFocus( event: Event ) {\n// \tconst tab = event.target;\n\n// \t// @ts-ignore\n// \tif ( tab.getAttribute( 'role' ) === 'tab' && ( tab.className.search( 'twrp-' ) !== -1 && tab.getAttribute( 'href' ) ).search( '#twrp-' ) === 0 ) {\n// \t\t// @ts-ignore\n// \t\ttab.blur();\n// \t}\n// }\n\n//#endregion -- Make button not take focus on click.\n\n// #region -- Add active item to button wrapper.\n\nconst activeButtonItemClass = 'twrp-tab-btn-item-active';\n\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', addButtonWrapperInitial );\n} else {\n\taddButtonWrapperInitial();\n}\nfunction addButtonWrapperInitial() {\n\tconst buttons = document.querySelectorAll( '[data-twrp-default-tab]' );\n\n\tfor ( let i = 0; i < buttons.length; i++ ) {\n\t\tconst btnWrapper = buttons[ i ].parentElement;\n\t\t// @ts-ignore\n\t\tbtnWrapper.classList.add( activeButtonItemClass );\n\t}\n}\n\ndocument.addEventListener( 'tabby', addButtonWrapperActiveClass );\nfunction addButtonWrapperActiveClass( event: Event ) {\n\t// @ts-ignore\n\tconst buttonWrapper: Element = event.target.parentElement;\n\t// @ts-ignore\n\tconst prevButtonWrapper: Element = event.detail.previousTab.parentElement;\n\n\tif ( buttonWrapper.nodeName === 'LI' && buttonWrapper.className.search( 'twrp-' ) !== -1 ) {\n\t\tbuttonWrapper.classList.add( activeButtonItemClass );\n\t}\n\n\tprevButtonWrapper.classList.remove( activeButtonItemClass );\n}\n\n// #endregion -- Add active item to button wrapper.\n\n// #region -- Manage widget ajax.\n\nconst ajaxAction = 'twrp_load_widget';\nconst dataWidgetIdName = 'data-twrp-ajax-widget-id';\nconst dataPostIdName = 'data-twrp-ajax-post-id';\nconst dataFailedText = 'data-twrp-failed-text';\n\ninterface ajaxWidgetItem {\n\twidget_id: number; // eslint-disable-line camelcase\n\tpost_id: number; // eslint-disable-line camelcase\n\tcontent: string;\n  }\n\nif ( document.readyState === 'loading' ) {\n\twindow.addEventListener( 'DOMContentLoaded', loadWidgetsViaAjax );\n} else {\n\tloadWidgetsViaAjax();\n}\n\nfunction loadWidgetsViaAjax() {\n\tconst allWidgetsToLoad = document.querySelectorAll( '[' + dataWidgetIdName + ']' );\n\tconst allWidgetsToLoadData = [];\n\n\tfor ( let i = 0; i < allWidgetsToLoad.length; i++ ) {\n\t\tsetTimeout( showWidgetNotLoadedAtTimeout.bind( null, allWidgetsToLoad[ i ] ), 60000 );\n\n\t\tconst widgetItem = new Object;\n\t\t// @ts-ignore\n\t\twidgetItem.widget_id = allWidgetsToLoad[ i ].getAttribute( dataWidgetIdName );\n\t\t// @ts-ignore\n\t\twidgetItem.post_id = allWidgetsToLoad[ i ].getAttribute( dataPostIdName );\n\n\t\t// @ts-ignore\n\t\tif ( ! ( parseInt( widgetItem.widget_id ) > 0 ) || ! ( parseInt( widgetItem.post_id ) > 0 ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tallWidgetsToLoadData.push( widgetItem );\n\t}\n\n\tif ( allWidgetsToLoadData.length ) {\n\t\tcreateAjaxWidgetLoadCall( allWidgetsToLoadData );\n\t}\n}\n\nfunction createAjaxWidgetLoadCall( items: Array<Object> ) {\n\tconst ajaxUrl = TWRPLocalizeObject.ajaxUrl;\n\tconst ajax = new XMLHttpRequest();\n\n\tajax.open( 'GET', ajaxUrl + '?action=' + ajaxAction + '&items=' + JSON.stringify( items ), true );\n\tajax.onreadystatechange = function() {\n\t\thandleAjaxFinished( this, items );\n\t};\n\tajax.send();\n}\n\nfunction handleAjaxFinished( ajaxObject: XMLHttpRequest, items: Array<Object> ) {\n\tif ( ajaxObject.readyState === 4 ) {\n\t\tif ( ajaxObject.status === 200 ) {\n\t\t\tconst jsonText = ajaxObject.responseText;\n\t\t\tlet parsedItems;\n\n\t\t\ttry {\n\t\t\t\tparsedItems = JSON.parse( jsonText );\n\t\t\t} catch ( e ) {\n\t\t\t\tshowWidgetsCannotBeLoaded( items );\n\t\t\t}\n\n\t\t\tif ( ! Array.isArray( parsedItems ) ) {\n\t\t\t\tshowWidgetsCannotBeLoaded( items );\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < parsedItems.length; i++ ) {\n\t\t\t\tupdateWidgetViaAjax( parsedItems[ i ] );\n\t\t\t}\n\t\t} else {\n\t\t\tshowWidgetsCannotBeLoaded( items );\n\t\t}\n\n\t\t// todo: make this IE 11 compatible.\n\t\tconst event = new Event( 'twrp-widgets-loaded-via-ajax', {\n\t\t\tbubbles: true,\n\t\t} );\n\t\tdocument.dispatchEvent( event );\n\t}\n}\n\nfunction updateWidgetViaAjax( itemData: ajaxWidgetItem ) {\n\tif ( ! ajaxItemIsValid( itemData ) ) {\n\t\treturn;\n\t}\n\n\tconst widgetId = itemData.widget_id;\n\tconst postId = itemData.post_id;\n\n\tconst widgets = document.querySelectorAll( '[' + dataWidgetIdName + '=\"' + widgetId + '\"][' + dataPostIdName + '=\"' + postId + '\"]' );\n\n\tfor ( let i = 0; i < widgets.length; i++ ) {\n\t\tconst widgetParent = widgets[ i ].parentElement;\n\t\tif ( ! isElement( widgetParent ) ) {\n\t\t\tcontinue;\n\t\t}\n\t\twidgetParent.insertAdjacentHTML( 'beforeend', itemData.content );\n\t\twidgetParent.removeChild( widgets[ i ] );\n\t}\n}\n\n/**\n * Widgets is an object with the keys widget_id and post_id, or an array with\n * those objects.\n */\nfunction showWidgetsCannotBeLoaded( widgets: unknown ) {\n\tif ( Array.isArray( widgets ) ) {\n\t\tfor ( let i = 0; i < widgets.length; i++ ) {\n\t\t\tshowWidgetsCannotBeLoaded( widgets[ i ] );\n\t\t}\n\t\treturn;\n\t}\n\n\tif ( ( typeof widgets === 'object' ) && ( widgets !== null ) && ( 'widget_id' in widgets ) && ( 'post_id' in widgets ) ) {\n\t\t// @ts-ignore\n\t\tconst widgetElements = document.querySelectorAll( '[' + dataWidgetIdName + '=\"' + widgets.widget_id + '\"][' + dataPostIdName + '=\"' + widgets.post_id + '\"]' );\n\t\tfor ( let i = 0; i < widgetElements.length; i++ ) {\n\t\t\tshowWidgetCannotBeLoaded( widgetElements[ i ] );\n\t\t}\n\t}\n}\n\nfunction showWidgetCannotBeLoaded( widget: Element ) {\n\t// If is not an HTML element, then we try to find the widgets.\n\tif ( ! isElement( widget ) ) {\n\t\treturn;\n\t}\n\n\tconst failedText = widget.getAttribute( dataFailedText );\n\tconst widgetParent = widget.parentElement;\n\tif ( ! isElement( widgetParent ) ) {\n\t\treturn;\n\t}\n\n\tconst failedHtml = '<div class=\"twrp-widget-load-via-ajax-failed\">' + failedText + '</div>';\n\n\twidgetParent.insertAdjacentHTML( 'beforeend', failedHtml );\n\twidgetParent.removeChild( widget );\n}\n\nfunction showWidgetNotLoadedAtTimeout( widget: Element ) {\n\t// If is detached from the document, then return.\n\tif ( ! isElement( widget.parentElement ) ) {\n\t\treturn;\n\t}\n\n\tshowWidgetCannotBeLoaded( widget );\n}\n\nfunction ajaxItemIsValid( item: unknown ): item is ajaxWidgetItem {\n\tif ( typeof item !== 'object' || item === null ) {\n\t\treturn false;\n\t}\n\n\tif ( ! ( 'widget_id' in item ) || ! ( 'post_id' in item ) || ! ( 'content' in item ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n// #endregion -- Manage widget ajax.\n\n// #region -- Helpers.\n\n// eslint-disable-next-line no-unused-vars\nfunction isElement( element: unknown ): element is Element {\n\treturn element instanceof Element || element instanceof HTMLDocument;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction isNodeList( nodes: any ): nodes is NodeList {\n\tconst stringRepresentation = Object.prototype.toString.call( nodes );\n\n\treturn typeof nodes === 'object' &&\n        /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test( stringRepresentation ) &&\n        nodes.hasOwnProperty( 'length' ) &&\n        ( nodes.length === 0 || ( typeof nodes[ 0 ] === 'object' && nodes[ 0 ].nodeType > 0 ) );\n}\n\n// #endregion -- Helpers.\n"]}